<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Vueä¹‹Vuexï¼ˆä¸‰ï¼‰ - ğŸ§€ - ä½ å¥½</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="yuanshuai" /><meta name="description" content="Vuexçš„action ä¸€ã€action 1.äº§ç”ŸåŸå›  å½“åœ¨mutationsä¸­è¿›è¡Œå¼‚æ­¥æ“ä½œæ—¶ï¼ŒDevtoolä¸èƒ½å¤Ÿå®æ—¶è·Ÿè¸ªï¼Œå¯¼è‡´æœ€ç»ˆåœ¨Devto" /><meta name="keywords" content="blog, yuanshuai, yyss" />






<meta name="generator" content="Hugo 0.119.0 with theme even" />


<link rel="canonical" href="yuanshuai1122.github.io/post/vue%E4%B9%8Bvuex%E4%B8%89-vue%E4%B9%8Bvuex%E4%B8%89/" />
<link rel="apple-touch-icon" sizes="180x180" href="/yuanshuai1122.github.io/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/yuanshuai1122.github.io/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/yuanshuai1122.github.io/favicon-16x16.png">
<link rel="manifest" href="/yuanshuai1122.github.io/manifest.json">
<link rel="mask-icon" href="/yuanshuai1122.github.io/safari-pinned-tab.svg" color="#5bbad5">



<link href="/yuanshuai1122.github.io/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Vueä¹‹Vuexï¼ˆä¸‰ï¼‰" />
<meta property="og:description" content="Vuexçš„action ä¸€ã€action 1.äº§ç”ŸåŸå›  å½“åœ¨mutationsä¸­è¿›è¡Œå¼‚æ­¥æ“ä½œæ—¶ï¼ŒDevtoolä¸èƒ½å¤Ÿå®æ—¶è·Ÿè¸ªï¼Œå¯¼è‡´æœ€ç»ˆåœ¨Devto" />
<meta property="og:type" content="article" />
<meta property="og:url" content="yuanshuai1122.github.io/post/vue%E4%B9%8Bvuex%E4%B8%89-vue%E4%B9%8Bvuex%E4%B8%89/" /><meta property="article:section" content="post" />


<meta itemprop="name" content="Vueä¹‹Vuexï¼ˆä¸‰ï¼‰">
<meta itemprop="description" content="Vuexçš„action ä¸€ã€action 1.äº§ç”ŸåŸå›  å½“åœ¨mutationsä¸­è¿›è¡Œå¼‚æ­¥æ“ä½œæ—¶ï¼ŒDevtoolä¸èƒ½å¤Ÿå®æ—¶è·Ÿè¸ªï¼Œå¯¼è‡´æœ€ç»ˆåœ¨Devto">

<meta itemprop="wordCount" content="5359">
<meta itemprop="keywords" content="Vue," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Vueä¹‹Vuexï¼ˆä¸‰ï¼‰"/>
<meta name="twitter:description" content="Vuexçš„action ä¸€ã€action 1.äº§ç”ŸåŸå›  å½“åœ¨mutationsä¸­è¿›è¡Œå¼‚æ­¥æ“ä½œæ—¶ï¼ŒDevtoolä¸èƒ½å¤Ÿå®æ—¶è·Ÿè¸ªï¼Œå¯¼è‡´æœ€ç»ˆåœ¨Devto"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">CNshuaiyuan</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="yuanshuai1122.github.io/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="yuanshuai1122.github.io/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="yuanshuai1122.github.io/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="yuanshuai1122.github.io/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">CNshuaiyuan</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="yuanshuai1122.github.io/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="yuanshuai1122.github.io/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="yuanshuai1122.github.io/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="yuanshuai1122.github.io/categories/">Categories</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Vueä¹‹Vuexï¼ˆä¸‰ï¼‰</h1>

      <div class="post-meta">
        <span class="post-time"> 0001-01-01 </span>
        
          <span class="more-meta"> çº¦ 5359 å­— </span>
          <span class="more-meta"> é¢„è®¡é˜…è¯» 11 åˆ†é’Ÿ </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">æ–‡ç« ç›®å½•</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#vuexçš„action">Vuexçš„action</a>
      <ul>
        <li><a href="#ä¸€action">ä¸€ã€action</a>
          <ul>
            <li></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#vuexçš„module">Vuexçš„module</a></li>
    <li><a href="#ä¸€module">ä¸€ã€module</a>
      <ul>
        <li>
          <ul>
            <li></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#vuexæ€»ç»“ç¯‡">Vuexæ€»ç»“ç¯‡</a></li>
    <li><a href="#ä¸€storeçš„ç›®å½•ç»“æ„">ä¸€ã€storeçš„ç›®å½•ç»“æ„</a></li>
    <li><a href="#äºŒvuexåŸºæœ¬æ¦‚å¿µ">äºŒã€VuexåŸºæœ¬æ¦‚å¿µ</a>
      <ul>
        <li>
          <ul>
            <li><a href="#1å®šä¹‰">1.å®šä¹‰</a></li>
            <li><a href="#2çŠ¶æ€ç®¡ç†">2.çŠ¶æ€ç®¡ç†</a></li>
            <li><a href="#3ä½¿ç”¨æ–¹å¼-1">3.ä½¿ç”¨æ–¹å¼</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#ä¸‰æ ¸å¿ƒæ¦‚å¿µ">ä¸‰ã€æ ¸å¿ƒæ¦‚å¿µ</a>
      <ul>
        <li>
          <ul>
            <li><a href="#1state--å•ä¸€çŠ¶æ€æ ‘">1.state&ndash;å•ä¸€çŠ¶æ€æ ‘</a></li>
            <li><a href="#2getters">2.getters</a></li>
            <li><a href="#3mutations">3.mutations</a></li>
            <li><a href="#4actions">4.actions</a></li>
            <li><a href="#5module">5.module</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
  <div class="post-outdated">
    <div class="warn">
      <p>ã€æ³¨æ„ã€‘æœ€åæ›´æ–°äº <span class="timeago" datetime="0001-01-01T00:00:00" title="January 1, 0001">January 1, 0001</span>ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²è¿‡æ—¶ï¼Œè¯·è°¨æ…ä½¿ç”¨ã€‚</p>
    </div>
  </div>
    <div class="post-content">
      <h1 id="vuexçš„action">Vuexçš„action</h1>
<h2 id="ä¸€action">ä¸€ã€action</h2>
<h5 id="1äº§ç”ŸåŸå› ">1.äº§ç”ŸåŸå› </h5>
<p>â€ƒâ€ƒå½“<strong>åœ¨mutationsä¸­è¿›è¡Œå¼‚æ­¥æ“ä½œæ—¶ï¼ŒDevtoolä¸èƒ½å¤Ÿå®æ—¶è·Ÿè¸ªï¼Œå¯¼è‡´æœ€ç»ˆåœ¨Devtoolä¸­è®°å½•çš„æ˜¯é”™è¯¯çš„ä¿¡æ¯</strong>ã€‚æ¯”å¦‚ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vuex</span><span class="p">.</span><span class="nx">Store</span><span class="p">({</span> 
</span></span><span class="line"><span class="cl">    <span class="nx">state</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">info</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;haha&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">age</span><span class="o">:</span><span class="mi">13</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">height</span><span class="o">:</span><span class="mf">1.45</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">   <span class="nx">mutations</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">changeInfo</span><span class="p">(</span><span class="nx">state</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// å¼‚æ­¥æ“ä½œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">setTimeout</span><span class="p">(()=&gt;{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">state</span><span class="p">.</span><span class="nx">info</span><span class="p">.</span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;å“ˆå“ˆ&#39;</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span><span class="mi">1000</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸Šè¿°ä»£ç ä¸»è¦æ˜¯åŒå¼‚æ­¥æ“ä½œæ¥å°†â€œhahaâ€ä¿®æ”¹æˆâ€œå“ˆå“ˆâ€ã€‚ç»“æœå¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/419.png" alt=""></p>
<p><img src="img/420.png" alt="420"></p>
<p>å½“åœ¨mutationsä½¿ç”¨å¼‚æ­¥æ“ä½œæ—¶ï¼Œè™½ç„¶é¡µé¢ä¸­çš„æ•°æ®ä¿®æ”¹äº†ï¼Œä½†æ˜¯åœ¨Vuexæ€»stateè®°å½•çš„ä»æ—§æ˜¯ä»¥å‰çš„æ•°æ®ã€‚
â€ƒâ€ƒå…¶å®æ•°æ®æ˜¯ä¿®æ”¹æˆåŠŸäº†ï¼Œä½†æ˜¯mutationsä¸­çš„Devtoolåœ¨è·Ÿè¸ªæ—¶æ²¡æœ‰è®°å½•ï¼Œå°±å¯¼è‡´è®°å½•çš„çš„é”™è¯¯çš„ä¿¡æ¯ã€‚
â€ƒâ€ƒæ‰€ä»¥ä¸èƒ½å†mutationsä¸­è¿›è¡Œä¸€æ­¥æ“ä½œï¼Œè¿™æ—¶æˆ‘ä»¬å°±éœ€è¦actionå¸®æˆ‘ä»¬è¿›è¡Œä¸€æ­¥æ“ä½œã€‚</p>
<h5 id="2å®šä¹‰">2.å®šä¹‰</h5>
<p>Actionç±»ä¼¼äºMutation, ä½†æ˜¯æ˜¯<strong>ç”¨æ¥ä»£æ›¿Mutationè¿›è¡Œå¼‚æ­¥æ“ä½œçš„</strong>ã€‚</p>
<h5 id="3ä½¿ç”¨æ–¹å¼">3.ä½¿ç”¨æ–¹å¼</h5>
<p>ä½¿ç”¨æ–¹å¼å’Œmutationsç±»ä¼¼ï¼Œä½†æ˜¯æœ‰ä¸¤ç‚¹ä¸åŒ:
<strong>â‘  å‚æ•°</strong>ï¼šä¼ å…¥çš„å‚æ•°æ˜¯<strong>context</strong>ã€‚è¯¥å‚æ•°ç›¸å½“äºstoreå¯¹è±¡
<strong>â‘¡ è°ƒç”¨æ–¹å¼</strong>ï¼šä½¿ç”¨<strong>dispatch</strong>è°ƒç”¨ï¼Œè€Œä¸æ˜¯ä½¿ç”¨commit
å…·ä½“è§ä¸‹é¢çš„ä»£ç ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vuex</span><span class="p">.</span><span class="nx">Store</span><span class="p">({</span> 
</span></span><span class="line"><span class="cl">   <span class="nx">mutations</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">state</span><span class="p">.</span><span class="nx">info</span><span class="p">.</span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;å“ˆå“ˆ&#39;</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nx">actions</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">achangeInfo</span><span class="p">(</span><span class="nx">context</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">        <span class="nx">setTimeout</span><span class="p">(()=&gt;{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">context</span><span class="p">.</span><span class="nx">commit</span><span class="p">(</span><span class="s1">&#39;changeInfo&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span><span class="mi">1000</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">store</span> <span class="nx">from</span> <span class="s1">&#39;../store/index.js&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;App&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">changeInfo</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">      <span class="k">this</span><span class="p">.</span><span class="nx">$store</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">(</span><span class="s1">&#39;achangeInfo&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="err">/script&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/421.png" alt=""></p>
<p><img src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/422.png" alt=""></p>
<p>å¯ä»¥å‘ç°mutationsä¸­çš„Devtoolè®°å½•çš„æ•°æ®ä¹Ÿè·Ÿç€å‘ç”Ÿäº†æ”¹å˜ã€‚</p>
<h5 id="4ä¼ é€’å‚æ•°">4.ä¼ é€’å‚æ•°</h5>
<p>ä¼ é€’å‚æ•°çš„æ–¹å¼å’Œmutationsç±»ä¼¼ï¼Œä¸‹é¢è¿›è¡Œç®€å•çš„ä¼ é€’å­—ç¬¦ä¸²å‚æ•°ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vuex</span><span class="p">.</span><span class="nx">Store</span><span class="p">({</span> 
</span></span><span class="line"><span class="cl">   <span class="nx">mutations</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">state</span><span class="p">.</span><span class="nx">info</span><span class="p">.</span><span class="nx">name</span><span class="o">=</span><span class="s1">&#39;å“ˆå“ˆ&#39;</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nx">actions</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">achangeInfo</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span><span class="nx">payload</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">        <span class="nx">setTimeout</span><span class="p">(()=&gt;{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">context</span><span class="p">.</span><span class="nx">commit</span><span class="p">(</span><span class="s1">&#39;changeInfo&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">payload</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span><span class="mi">1000</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">store</span> <span class="nx">from</span> <span class="s1">&#39;../store/index.js&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;App&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">changeInfo</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">      <span class="k">this</span><span class="p">.</span><span class="nx">$store</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">(</span><span class="s1">&#39;achangeInfo&#39;</span><span class="p">,</span><span class="s1">&#39;æˆ‘æ˜¯payload&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="err">/script&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å‘ç°ä¼ é€’å‚æ•°ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå¹¶ä¸”æˆåŠŸåœ¨æ§åˆ¶å°ä¸­æ˜¾ç¤ºäº†ã€‚</p>
<h5 id="5actionå†…éƒ¨ä½¿ç”¨promise">5.actionå†…éƒ¨ä½¿ç”¨Promise</h5>
<p>â€ƒâ€ƒå½“æ•°æ®commitä¹‹åå°±æ„å‘³ç€ä¿®æ”¹æˆåŠŸäº†ï¼Œæ­¤æ—¶<strong>æƒ³è¦å‘Šè¯‰å¤–ç•Œï¼Œæ•°æ®å·²ç»ä¿®æ”¹æˆåŠŸäº†å¹¶ä¸”é™¤äº†ä¿®æ”¹æ•°æ®ä¹‹å¤–æˆ‘ä»¬è¿˜å¯ä»¥åšåˆ«çš„æ“ä½œ</strong>ã€‚è¯¥éœ€æ±‚å¯ä»¥ç”¨Promiseå®ç°ï¼Œå…·ä½“å…ˆçœ‹ä¸‹é¢ä»£ç ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl">   <span class="nx">actions</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">achangeInfo</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span><span class="nx">payload</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span><span class="nx">reject</span><span class="p">)</span> <span class="p">=&gt;{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">setTimeout</span><span class="p">(()=&gt;{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">context</span><span class="p">.</span><span class="nx">commit</span><span class="p">(</span><span class="s1">&#39;changeInfo&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">payload</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="nx">resolve</span><span class="p">(</span><span class="s1">&#39;1111&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">          <span class="p">},</span><span class="mi">1000</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">changeInfo</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">      <span class="k">this</span><span class="p">.</span><span class="nx">$store</span>
</span></span><span class="line"><span class="cl">      <span class="p">.</span><span class="nx">dispatch</span><span class="p">(</span><span class="s1">&#39;achangeInfo&#39;</span><span class="p">,</span><span class="s1">&#39;æˆ‘æ˜¯payload&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="p">=&gt;{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="err">/script&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸Šè¿°ä»£ç çš„ä¸»è¦ä½œç”¨æ˜¯å½“æ•°æ®ä¿®æ”¹æˆåŠŸä¹‹åï¼Œå°±åœ¨æ§åˆ¶å°ä¸Šæ‰“å°â€œ1111â€ã€‚å…·ä½“æ€è·¯æ˜¯å½“actionè¿è¡Œåˆ°commitæ–¹æ³•æ—¶ï¼Œå°±ä¼šæ‰§è¡ŒchangeInfoå‡½æ•°ï¼Œç„¶ååœ¨å›è°ƒchangeInfoå‡½æ•°ã€‚
â€ƒâ€ƒæœ¬æ¡ˆä¾‹ä¸­ï¼Œå½“æ‰§è¡ŒachangeInfoå‡½æ•°æ—¶ï¼Œå°±è¿”å› Promiseï¼Œè€ŒachangeInfoæ˜¯é€šè¿‡dispatchè°ƒç”¨çš„ï¼Œå…¶ä¸Šè¿°çš„ä»£ç å¯ä»¥ç­‰ä»·ä¸ºä¸‹é¢çš„ä»£ç ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">changeInfo</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">      <span class="c1">//this.$store
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>     <span class="c1">//.dispatch(&#39;achangeInfo&#39;,&#39;æˆ‘æ˜¯payload&#39;)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>     <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span><span class="nx">reject</span><span class="p">)</span> <span class="p">=&gt;{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">setTimeout</span><span class="p">(()=&gt;{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">context</span><span class="p">.</span><span class="nx">commit</span><span class="p">(</span><span class="s1">&#39;changeInfo&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">payload</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="nx">resolve</span><span class="p">(</span><span class="s1">&#39;1111&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">          <span class="p">},</span><span class="mi">1000</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="p">=&gt;{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="err">/script&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä»¥ä¸Šå°±æ˜¯actionç›¸å…³çš„çŸ¥è¯†ï¼Œæ€»ç»“èµ·æ¥å°±æ˜¯ä¸¤ç‚¹ï¼š<strong>å¤„ç†å¼‚æ­¥æ“ä½œå’Œåœ¨å†…éƒ¨ä½¿ç”¨Promiseã€‚</strong></p>
<h1 id="vuexçš„module">Vuexçš„module</h1>
<h1 id="ä¸€module">ä¸€ã€module</h1>
<h5 id="1äº§ç”ŸåŸå› -1">1.äº§ç”ŸåŸå› </h5>
<p>Moduleæ˜¯æ¨¡å—çš„æ„æ€, ä¸ºä»€ä¹ˆåœ¨Vuexä¸­æˆ‘ä»¬è¦ä½¿ç”¨æ¨¡å—å‘¢?
â€ƒâ€ƒVueä½¿ç”¨å•ä¸€çŠ¶æ€æ ‘,é‚£ä¹ˆä¹Ÿæ„å‘³ç€å¾ˆå¤šçŠ¶æ€éƒ½ä¼šäº¤ç»™Vuexæ¥ç®¡ç†ï¼Œå½“åº”ç”¨å˜å¾—éå¸¸å¤æ‚æ—¶,storeå¯¹è±¡å°±æœ‰å¯èƒ½å˜å¾—ç›¸å½“è‡ƒè‚¿.
â€ƒâ€ƒä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜, <strong>Vuexå…è®¸æˆ‘ä»¬å°†storeåˆ†å‰²æˆæ¨¡å—(Module), è€Œæ¯ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„stateã€mutationã€actionã€gettersç­‰ã€‚</strong></p>
<h5 id="2ä½¿ç”¨æ–¹å¼">2.ä½¿ç”¨æ–¹å¼</h5>
<p>â€ƒâ€ƒæ­£å¦‚ä¸Šé¢æ‰€æåˆ°çš„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨moduleä¸­å£°æ˜å¤šä¸ªæ¨¡å—ï¼Œç„¶ååœ¨æ¯ä¸ªæ¨¡å—ä¸­ä¹¦å†™è‡ªå·±æ¨¡å—çš„stateã€mutationã€actionã€gettersã€‚ä¸‹é¢è¿›è¡Œé€æ­¥çš„å±•ç¤ºã€‚</p>
<h6 id="-moduleä¸­çš„state">â‘  moduleä¸­çš„state</h6>
<p><strong>1-1 moduleä¸­stateçš„å®šä¹‰</strong>
å®šä¹‰çš„æ–¹å¼å’Œstoreä¸­å®šä¹‰stateçš„æ–¹å¼ä¸€æ ·ï¼Œå…·ä½“è§ä¸‹é¢çš„ä»£ç ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//å•ç‹¬æ¨¡å—çš„ä¹¦å†™const moduleA = {  state:{    name:&#39;æˆ‘æ˜¯moduleAçš„name&#39;  }}//åœ¨storeå¯¹è±¡å£°æ˜æ¨¡å—Aconst store = new Vuex.Store({    modules:{        a:moduleA    }})
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨storeå¯¹è±¡çš„moduleä¸­å£°æ˜äº†moduleAï¼Œå¹¶ä¸”moduleAè‡ªå·±çš„stateä¸­æœ‰ä¸€ä¸ªnameå˜é‡ã€‚
<strong>1-2 moduleä¸­stateçš„ä½¿ç”¨</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;app&#34;</span><span class="p">&gt;</span>    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="o">-----</span><span class="nx">Vuexä¸­moduleçš„æµ‹è¯•</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;{{</span><span class="nx">$store</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">a</span><span class="p">.</span><span class="nx">name</span><span class="p">}}&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/423.png" alt=""></p>
<p>å¦‚æœè¦ä½¿ç”¨moduleAä¸­çš„nameå€¼æ—¶ï¼Œé€šè¿‡<strong>stateè·å–è€Œä¸æ˜¯moduleï¼Œå› ä¸ºåœ¨moduleå®šä¹‰çš„aæ¨¡å—æœ€ç»ˆä¼šè¢«æ¸²æŸ“åˆ°stateä¸­ã€‚</strong></p>
<p><img src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/424.png" alt=""></p>
<h6 id="-æ¨¡å—ä¸­çš„mutations">â‘¡ æ¨¡å—ä¸­çš„mutations</h6>
<p><strong>2-1 moduleä¸­mutationsçš„å®šä¹‰</strong>
å®šä¹‰çš„æ–¹å¼å’Œstoreä¸­çš„mutationså®šä¹‰çš„æ–¹å¼ä¸€æ ·ï¼Œå…·ä½“è§ä¸‹é¢çš„ä»£ç ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//å•ç‹¬æ¨¡å—çš„ä¹¦å†™const moduleA = {  state:{    name:&#39;æˆ‘æ˜¯moduleAçš„name&#39;  }ï¼Œ  mutations:{    updataName(state,payload){      state.name = payload    }  }}//åœ¨storeå¯¹è±¡å£°æ˜æ¨¡å—Aconst store = new Vuex.Store({    modules:{        a:moduleA    }})
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>å£°æ˜äº† æ ¹æ®ç”¨æˆ·ä¼ é€’çš„å‚æ•°ä¿®æ”¹å§“åçš„updataNameæ–¹æ³•
<strong>2-2 moduleä¸­mutationsçš„ä½¿ç”¨</strong>
ä½¿ç”¨æ–¹å¼å’Œstoreå¯¹è±¡ä¸­çš„mutationsä¸€æ ·ï¼Œ<strong>é€šè¿‡commitæ–¹æ³•æäº¤</strong>ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;app&#34;</span><span class="p">&gt;</span>    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="o">-----</span><span class="nx">Vuexä¸­moduleçš„æµ‹è¯•</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;{{</span><span class="nx">$store</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">a</span><span class="p">.</span><span class="nx">name</span><span class="p">}}&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>    <span class="p">&lt;</span><span class="nt">button</span> <span class="nt">@click</span><span class="s">=&#34;updateName&#34;</span><span class="p">&gt;</span><span class="na">ä¿®æ”¹åå­—</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;&lt;/</span><span class="nt">template</span><span class="p">&gt;&lt;</span><span class="nt">script</span><span class="p">&gt;</span><span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>  <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;App&#39;</span><span class="p">,</span>  <span class="nx">methods</span><span class="o">:</span><span class="p">{</span>    <span class="nx">updateName</span><span class="p">(){</span>      <span class="k">this</span><span class="p">.</span><span class="nx">$store</span><span class="p">.</span><span class="nx">commit</span><span class="p">(</span><span class="s1">&#39;updataName&#39;</span><span class="p">,</span><span class="s1">&#39;æå››&#39;</span><span class="p">)</span>    <span class="p">}</span>  <span class="p">}}&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç‚¹å‡»æŒ‰é’®ï¼Œå°†ä¿®æ”¹æˆâ€œæå››â€ã€‚æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/425.gif" alt=""></p>
<p>è¿™é‡Œè¦æ³¨æ„ä¸¤ç‚¹ï¼š
â€ƒâ€ƒç¬¬ä¸€ï¼Œ<strong>å‘½åä¸é‡å¤</strong>ã€‚æ¨¡å—å†…çš„mutationså’Œstoreå¯¹è±¡çš„mutationså‘½åä¸è¦é‡å¤ï¼Œå¦åˆ™æµè§ˆå™¨ä¸çŸ¥é“æäº¤è°çš„mutations
â€ƒâ€ƒç¬¬äºŒï¼Œ<strong>æŸ¥æ‰¾é¡ºåº</strong>ã€‚ä½¿ç”¨commitæ–¹æ³•æäº¤æ—¶ï¼Œé¦–å…ˆä¼šæŸ¥æ‰¾storeå¯¹è±¡çš„mutationsï¼Œçœ‹çœ‹æ˜¯å¦æœ‰è¯¥æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰å°±æ˜¯å»æ¨¡å—å†…çš„mutationsæŸ¥æ‰¾ã€‚</p>
<h6 id="-æ¨¡å—ä¸­çš„getters">â‘¢ æ¨¡å—ä¸­çš„getters</h6>
<p><strong>3-1 æ¨¡å—ä¸­gettersçš„å®šä¹‰</strong>
â€ƒâ€ƒå®šä¹‰çš„æ–¹å¼å’Œåœ¨storeä¸­å®šä¹‰çš„æ–¹å¼ç±»ä¼¼ã€‚ä¸åŒçš„æ˜¯ï¼Œå¦‚æœåœ¨æ¨¡å—ä¸­æƒ³è¦<strong>ä½¿ç”¨storeä¸­stateå†…çš„å˜é‡ï¼Œéœ€è¦é€šè¿‡rootStateå‚æ•°è¿›è¡Œè·å–</strong>ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//å•ç‹¬æ¨¡å—çš„ä¹¦å†™const moduleA = {  state:{    name:&#39;æˆ‘æ˜¯moduleAçš„name&#39;  }ï¼Œ  getters:{    //1.æ™®é€šåº”ç”¨    fullname(state){      return state.name +&#39;1111&#39;    },    //2.åº”ç”¨æœ¬æ¨¡å—çš„getters    fullname2(state,getters){      return getters.fullname +&#39;2222&#39;    },    fullname3(state,getters,rootState){      return getters.fullname2 + rootState.counter    }  }}//åœ¨storeå¯¹è±¡å£°æ˜æ¨¡å—Aconst store = new Vuex.Store({    modules:{        a:moduleA    }})
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>ç”¨æ³•1æ˜¯<strong>ç®€å•çš„gettersåº”ç”¨</strong>ï¼Œå°†nameçš„å€¼åé¢è¿½åŠ ä¸Šâ€œ1111â€ï¼›
ç”¨æ³•2æ˜¯<strong>è·å–æœ¬æ¨¡å—ä¸­çš„getters</strong>ï¼Œç„¶åå¯¹è·å–åˆ°çš„ç»“æœå†è¿½åŠ ä¸Šâ€œ2222â€ï¼›
ç”¨æ³•3æ˜¯<strong>è·å–storeä¸­çš„counter</strong>ï¼Œé€šè¿‡rootStateè·å–ï¼Œç„¶åå†è¿½åŠ åˆ°åˆ°fullname2çš„ç»“æœä¸­ã€‚
<strong>3-2 æ¨¡å—ä¸­gettersçš„ä½¿ç”¨</strong>
ä½¿ç”¨æ–¹å¼å’Œstoreä¸­çš„ç±»ä¼¼ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;app&#34;</span><span class="p">&gt;</span>    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="o">-----</span><span class="nx">Vuexä¸­moduleçš„æµ‹è¯•</span><span class="o">-----</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;{{</span><span class="nx">$store</span><span class="p">.</span><span class="nx">getters</span><span class="p">.</span><span class="nx">fullname</span><span class="p">}}&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;{{</span><span class="nx">$store</span><span class="p">.</span><span class="nx">getters</span><span class="p">.</span><span class="nx">fullname2</span><span class="p">}}&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;{{</span><span class="nx">$store</span><span class="p">.</span><span class="nx">getters</span><span class="p">.</span><span class="nx">fullname3</span><span class="p">}}&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å…¶æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/426.png" alt=""></p>
<h6 id="-moduleçš„action">â‘£ moduleçš„action</h6>
<p><strong>4-1 å®šä¹‰çš„æ–¹å¼</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="c1">//å•ç‹¬æ¨¡å—çš„ä¹¦å†™const moduleA = {  state:{    name:&#39;æˆ‘æ˜¯moduleAçš„name&#39;  }ï¼Œ  mutations:{    updataName(state,payload){      state.name = payload    }  },  actions:{    aupdateName(context){      setTimeout(()=&gt;{        context.commit(&#39;updataName&#39;,&#39;ç‹äº”&#39;)      },10)    }  }}//åœ¨storeå¯¹è±¡å£°æ˜æ¨¡å—Aconst store = new Vuex.Store({    modules:{        a:moduleA    }})
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>é€šè¿‡setTimeoutæ¥æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œï¼Œä¿®æ”¹nameçš„å€¼ä¸ºâ€œç‹äº”â€
<strong>4-2 ä½¿ç”¨æ–¹å¼</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;app&#34;</span><span class="p">&gt;</span>    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="o">-----</span><span class="nx">Vuexä¸­moduleçš„æµ‹è¯•</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;{{</span><span class="nx">$store</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">a</span><span class="p">.</span><span class="nx">name</span><span class="p">}}&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>    <span class="p">&lt;</span><span class="nt">button</span> <span class="nt">@click</span><span class="s">=&#34;asycnUpdateName&#34;</span><span class="p">&gt;</span><span class="na">å¼‚æ­¥ä¿®æ”¹åå­—</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;&lt;/</span><span class="nt">template</span><span class="p">&gt;&lt;</span><span class="nt">script</span><span class="p">&gt;</span><span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>  <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;App&#39;</span><span class="p">,</span>  <span class="nx">methods</span><span class="o">:</span><span class="p">{</span>    <span class="nx">asycnUpdateName</span><span class="p">(){</span>      <span class="k">this</span><span class="p">.</span><span class="nx">$store</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">(</span><span class="s1">&#39;aupdateName&#39;</span><span class="p">)</span>    <span class="p">}</span>  <span class="p">}}&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/427.gif" alt=""></p>
<p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨æ¨¡å—ä¸­ï¼Œ<strong>context.commit()ä»…ä»…æäº¤è‡ªå·±æ¨¡å—çš„æ–¹æ³•è€Œä¸åŒ…æ‹¬storeä¸­çš„æ–¹æ³•ã€‚</strong>
â€ƒâ€ƒä»¥ä¸Šå°±æ˜¯ä»Šå¤©Vuexä¸­moduleçš„ä»‹ç»ï¼Œä¸»è¦è¯¦ç»†çš„ä»‹ç»äº†<strong>åœ¨æ¨¡å—å†…å¦‚å¦‚ä½•å®šä¹‰å’Œä½¿ç”¨stateã€mutationsã€gettersã€actionã€‚</strong></p>
<h1 id="vuexæ€»ç»“ç¯‡">Vuexæ€»ç»“ç¯‡</h1>
<h1 id="ä¸€storeçš„ç›®å½•ç»“æ„">ä¸€ã€storeçš„ç›®å½•ç»“æ„</h1>
<p>â€ƒâ€ƒåœ¨å‰é¢ï¼Œæˆ‘ä»¬éƒ½å°† stateã€mutationsã€gettersã€actionsã€module æ”¾åœ¨index.jsæ–‡ä»¶ä¸­ï¼Œå½“ä»£ç é‡å¤šçš„æ—¶å€™ï¼Œå°±ä¸åˆ©äºç®¡ç†ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬éƒ½å°† mutationsã€gettersã€actionsã€module æŠ½ç¦»å‡ºå»ã€‚å…·ä½“çš„æŠ½ç¦»ç»“æ„å¦‚ä¸‹ï¼š</p>
<p><img src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/428.png" alt=""></p>
<p>åˆ†åˆ«å°†gettersã€actionsã€moduleã€mutationsæŠ½ç¦»æˆå•ç‹¬çš„æ–‡ä»¶ï¼Œå¦‚æœåœ¨storeä¸­çš„moduleä¸­åˆåŒ…å«äº†å¾ˆå¤šçš„å°æ¨¡å—ï¼Œå°±å°†å°æ¨¡å—æ”¾åˆ°modulesæ–‡ä»¶å¤¹ä¸‹é¢ï¼Œç„¶åæ¯ä¸ªå•ç‹¬æ˜¯å°æ¨¡å—åˆæ˜¯å•ç‹¬çš„æ–‡ä»¶ã€‚
â€ƒâ€ƒæˆ‘ä»¬ä¸€èˆ¬ä¸å°†stateæŠ½ç¦»å‡ºå»ï¼Œè€Œæ˜¯æ”¾åœ¨index.jsæ–‡ä»¶ä¸­ä¾¿äºæŸ¥çœ‹å½“å‰æœ‰å“ªäº›çŠ¶æ€æ˜¯è¢«å…±äº«çš„ã€‚æŠ½ç¦»åçš„index.jsä»£ç å¦‚ä¸‹ï¼š</p>
<p><img src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/429.png" alt=""></p>
<p>ä¸‹é¢è¿›è¡ŒVuexçš„çŸ¥è¯†æ€»ç»“ã€‚</p>
<h1 id="äºŒvuexåŸºæœ¬æ¦‚å¿µ">äºŒã€VuexåŸºæœ¬æ¦‚å¿µ</h1>
<h3 id="1å®šä¹‰">1.å®šä¹‰</h3>
<p>Vuexæ˜¯ä¸€ä¸ªç®¡ç†å…±äº«çŠ¶æ€çš„ç®¡å®¶ï¼Œå¹¶ä¸”è¯¥çŠ¶æ€æ˜¯å“åº”å¼çš„</p>
<h3 id="2çŠ¶æ€ç®¡ç†">2.çŠ¶æ€ç®¡ç†</h3>
<p>ä¸»è¦åˆ†æˆå•ç•Œé¢ç®¡ç†å’Œå¤šç•Œé¢ç®¡ç†</p>
<h5 id="-å•ç•Œé¢ç®¡ç†">â‘  å•ç•Œé¢ç®¡ç†</h5>
<p>â€ƒâ€ƒé¦–å…ˆæ˜ç™½ä¸‰ä¸ªæ¦‚å¿µï¼šStateï¼šçŠ¶æ€ï¼›Viewï¼šè§†å›¾å±‚ï¼›Actionsï¼šä¸»è¦æ˜¯ç”¨æˆ·çš„å„ç§æ“ä½œï¼šç‚¹å‡»ã€è¾“å…¥ç­‰ç­‰ï¼Œä¼šå¯¼è‡´çŠ¶æ€çš„æ”¹å˜ã€‚
â€ƒâ€ƒè€Œæ‰€è°“çš„å•ç•Œé¢å°±æ˜¯æŒ‡Stateã€Viewã€Actionéƒ½æ˜¯åœ¨åŒä¸€ä¸ªé¡µé¢ä¸­çš„ï¼Œæ‰€ä»¥å«åšå•é¡µé¢çŠ¶æ€ç®¡ç†ã€‚å…·ä½“è¿ä½œæ–¹å¼å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/430.png" alt=""></p>
<h5 id="-å¤šç•Œé¢çŠ¶æ€ç®¡ç†">â‘¡ å¤šç•Œé¢çŠ¶æ€ç®¡ç†</h5>
<p>â€ƒâ€ƒå¤šç•Œé¢çŠ¶æ€ç®¡ç†å°±æ˜¯æŒ‡å½“æŸä¸ªçŠ¶æ€è¢«å¤šä¸ªç•Œé¢åŒæ—¶å…±äº«æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªç®¡å®¶æ¥ç®¡ç†è¿™ä¸ªè¢«å¤šç•Œé¢å…±äº«çš„çŠ¶æ€ã€‚å…·ä½“çš„è¿ä½œè¿‡ç¨‹è§ä¸‹å›¾ï¼š</p>
<p><img src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/431.png" alt=""></p>
<h3 id="3ä½¿ç”¨æ–¹å¼-1">3.ä½¿ç”¨æ–¹å¼</h3>
<p>é¦–å…ˆåœ¨ç»ˆç«¯å®‰è£…Vuexï¼Œç„¶ååˆ›å»ºVuexå®ä¾‹ï¼Œæœ€åä¹¦å†™ç›¸å…³çš„ä»£ç ã€‚å…·ä½“ä½¿ç”¨å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/432.png" alt=""></p>
<h1 id="ä¸‰æ ¸å¿ƒæ¦‚å¿µ">ä¸‰ã€æ ¸å¿ƒæ¦‚å¿µ</h1>
<p>Vuexä¸­åŒ…å«äº†5ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œåˆ†åˆ«æ˜¯ï¼š<strong>stateã€actionsã€gettersã€moduleã€mutationsã€‚</strong></p>
<h3 id="1state--å•ä¸€çŠ¶æ€æ ‘">1.state&ndash;å•ä¸€çŠ¶æ€æ ‘</h3>
<p>â€ƒâ€ƒä¸ºäº†<strong>ä¸è®©çŠ¶æ€ä¿¡æ¯ä¿å­˜åˆ°å¤šä¸ªStoreå¯¹è±¡ä¸­çš„</strong>ï¼ŒVuexä½¿ç”¨äº†å•ä¸€çŠ¶æ€æ ‘æ¥ç®¡ç†åº”ç”¨å±‚çº§çš„å…¨éƒ¨çŠ¶æ€ã€‚
â€ƒâ€ƒä¹Ÿå°±æ˜¯åœ¨<strong>é¡¹ç›®ä¸­æœ€å¥½åªnew ä¸€ä¸ªstoreå¯¹è±¡</strong>ï¼Œç„¶åæ‰€æœ‰çŠ¶æ€æœ‰å…³çš„ä¸œè¥¿éƒ½æ”¾åœ¨ä¸€ä¸ªstoreä¸­çš„stateè¿›è¡Œç»Ÿä¸€çš„ç®¡ç†ã€‚</p>
<h3 id="2getters">2.getters</h3>
<h5 id="-å®šä¹‰">â‘  å®šä¹‰</h5>
<p>â€ƒâ€ƒgetters ç›¸å½“äºè®¡ç®—å±æ€§ã€‚<strong>å½“æ•°æ®è¦ç»è¿‡ä¸€ç³»åˆ—å˜åŒ–æ—¶ï¼Œå°†è¿™ä¸€ç³»åˆ—çš„å˜åŒ–å†™åœ¨getterså†…éƒ¨ã€‚</strong></p>
<h5 id="-ä½¿ç”¨">â‘¡ ä½¿ç”¨</h5>
<p>â€ƒâ€ƒåœ¨gettersä¸­å£°æ˜ä¸€ä¸ªæ–¹æ³•ï¼Œè¯¥æ–¹æ³•çš„<strong>é»˜è®¤å‚æ•°æ˜¯state</strong>ï¼Œç„¶åè¿”å›ç›¸åº”çš„ç»“æœå³å¯ã€‚å…·ä½“ä»£ç å¦‚ä¸‹:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//index.jsgetters:{      powerCounter(state){        return state.counter * state.counter      }    }
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">App</span><span class="p">.</span><span class="nx">vue</span> <span class="nx">æ–‡ä»¶</span><span class="o">--&gt;</span><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;app&#34;</span><span class="p">&gt;</span>    <span class="p">{{</span><span class="nx">$store</span><span class="p">.</span><span class="nx">getters</span><span class="p">.</span><span class="nx">powerCounter</span><span class="p">}}</span>  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span><span class="o">&lt;</span><span class="err">/template</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="-å‚æ•°">â‘¢ å‚æ•°</h5>
<p>â€ƒâ€ƒgettersä¸­å‡ºäº†é»˜è®¤çš„stateä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä¼ é€’<strong>getterså‚æ•°</strong>ï¼Œç”¨æ¥è·å–å½“å‰gettersä¸­çš„æ–¹æ³•ã€‚æ¯”å¦‚ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vuex</span><span class="p">.</span><span class="nx">Store</span><span class="p">({</span>    <span class="nx">state</span><span class="o">:</span><span class="p">{</span>      <span class="nx">student</span><span class="o">:</span><span class="p">[</span>        <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="mi">100</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;zhangsan&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">21</span><span class="p">},</span>        <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="mi">200</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;lisi&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">18</span><span class="p">},</span>        <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="mi">300</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangwu&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">22</span><span class="p">},</span>        <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="mi">400</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;zhaoliu&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">19</span><span class="p">}</span>      <span class="p">]</span>    <span class="p">},</span>    <span class="nx">getters</span><span class="o">:</span><span class="p">{</span>      <span class="nx">morestu</span><span class="p">(</span><span class="nx">state</span><span class="p">){</span>        <span class="k">return</span> <span class="nx">state</span><span class="p">.</span><span class="nx">student</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">s</span> <span class="p">=&gt;</span> <span class="nx">s</span><span class="p">.</span><span class="nx">age</span><span class="o">&gt;</span><span class="mi">20</span><span class="p">)</span>      <span class="p">},</span>      <span class="nx">morestuLength</span><span class="p">(</span><span class="nx">state</span><span class="p">,</span><span class="nx">getters</span><span class="p">){</span>        <span class="k">return</span> <span class="nx">getters</span><span class="p">.</span><span class="nx">morestu</span><span class="p">.</span><span class="nx">length</span>      <span class="p">}</span>    <span class="p">}})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨morestuLengthæ–¹æ³•ä¸­é€šè¿‡å‚æ•°gettersè·å–äº†morestuæ–¹æ³•çš„ç»“æœ</p>
<h5 id="-è¿”å›å€¼">â‘£ è¿”å›å€¼</h5>
<p>è¿”å›å€¼å¯ä»¥è¿”å›<strong>å˜é‡</strong>ï¼Œè¿˜å¯ä»¥è¿”å›<strong>å‡½æ•°</strong>ã€‚æ¯”å¦‚ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="c1">//è¿”å›å˜é‡getters:{      powerCounter(state){        return state.counter * state.counter      }    }//è¿”å›å‡½æ•°    getters:{      moreAgeStu(state){        return function(age){          return state.student.filter(s =&gt; s.age&gt;age)        }      }    }
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="3mutations">3.mutations</h3>
<h5 id="-ä½œç”¨">â‘  ä½œç”¨</h5>
<p>â€ƒâ€ƒ<strong>Vuexçš„storeçŠ¶æ€çš„æ›´æ–°å”¯ä¸€æ–¹å¼ï¼šæäº¤Mutation</strong>ã€‚ä¹Ÿå°±æ˜¯æˆ‘ä»¬å‰é¢æåˆ°è¿‡çš„ï¼Œå¿…é¡»ç»è¿‡ state &ndash;&gt; Vuex &ndash;&gt; Action &ndash;&gt; Mutations è¿™ä¸ªè·¯å¾„ä¿®æ”¹stateçš„çŠ¶æ€ã€‚</p>
<h5 id="-ç»„æˆ">â‘¡ ç»„æˆ</h5>
<p>ä¸»è¦ç”±<strong>äº‹ä»¶ç±»å‹</strong>å’Œ<strong>å›è°ƒå‡½æ•°</strong>ç»„æˆã€‚æ¯”å¦‚ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">mutations</span><span class="o">:</span><span class="p">{</span>    <span class="nx">increase</span><span class="p">(</span><span class="nx">state</span><span class="p">){</span>      <span class="nx">state</span><span class="p">.</span><span class="nx">counter</span><span class="o">++</span>      <span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>increaseæ—¶é—´ç±»å‹ï¼Œ(state){ state.counter++}æ˜¯å›è°ƒå‡½æ•°</p>
<h5 id="-å®šä¹‰æ–¹å¼">â‘¢ å®šä¹‰æ–¹å¼</h5>
<p>ä¸»è¦æ˜¯<strong>äº‹ä»¶ç±»å‹+å›è°ƒå‡½æ•°</strong>ï¼Œå…·ä½“ä»£ç å¦‚ä¸Šæ‰€ç¤ºï¼Œè¿™é‡Œä¸å†å±•ç¤º</p>
<h5 id="-å‚æ•°-1">â‘£ å‚æ•°</h5>
<p>ä¼ é€’çš„å‚æ•°ä¸»è¦æœ‰é»˜è®¤çš„<strong>stateã€å˜é‡å’Œå‡½æ•°</strong></p>
<h5 id="-æäº¤é£æ ¼">â‘¤ æäº¤é£æ ¼</h5>
<p>ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯<strong>commit</strong>ï¼Œä¸€ç§æ˜¯<strong>type</strong>ã€‚</p>
<h5 id="-å“åº”è§„åˆ™">â‘¥ å“åº”è§„åˆ™</h5>
<p>â€ƒâ€ƒç›¸åº”çš„åŸç†æ˜¯<strong>é¢„å…ˆåœ¨storeå¯¹è±¡å®šä¹‰çš„å±æ€§ä¼šè¢«åŠ å…¥åˆ°å“åº”å¼ç³»ç»Ÿä¸­</strong>ï¼Œè€Œæ²¡æœ‰é¢„å…ˆåœ¨storeå¯¹è±¡å®šä¹‰çš„å±æ€§ä¸ä¼šè¢«åŠ å…¥åˆ°å“åº”å¼ç³»ç»Ÿä¸­ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡<strong>setæ–¹æ³•</strong>ä½¿æ–°å¢åŠ çš„å±æ€§å…·æœ‰å“åº”å¼ã€‚</p>
<h5 id="-å¸¸é‡ç±»å‹">â‘¦ å¸¸é‡ç±»å‹</h5>
<p>â€ƒâ€ƒ<strong>ä½¿ç”¨å¸¸é‡æ›¿ä»£Mutationäº‹ä»¶çš„ç±»å‹</strong>ã€‚å°†è¿™äº›å¸¸é‡æ”¾åœ¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­, æ–¹ä¾¿ç®¡ç†ä»¥åŠè®©æ•´ä¸ªappæ‰€æœ‰çš„äº‹ä»¶ç±»å‹ä¸€ç›®äº†ç„¶ã€‚</p>
<h3 id="4actions">4.actions</h3>
<h5 id="-å®šä¹‰-1">â‘  å®šä¹‰</h5>
<p>Actionç±»ä¼¼äºMutation, ä½†æ˜¯æ˜¯<strong>ç”¨æ¥ä»£æ›¿Mutationè¿›è¡Œå¼‚æ­¥æ“ä½œçš„</strong>ã€‚</p>
<h5 id="-ä½¿ç”¨-1">â‘¡ ä½¿ç”¨</h5>
<p>ä½¿ç”¨æ–¹å¼å’Œmutationsç±»ä¼¼ï¼Œåªæ˜¯é»˜è®¤çš„å‚æ•°æ˜¯<strong>context</strong>ï¼Œè€Œä¸”è°ƒç”¨æ—¶æ˜¯ç”¨<strong>dispatch</strong>è°ƒç”¨çš„ã€‚</p>
<h5 id="-å‚æ•°-2">â‘¢ å‚æ•°</h5>
<p>ä¼ é€’çš„å‚æ•°å¾ˆç®€å•ï¼Œè¿™é‡Œä¸å™è¿°</p>
<h5 id="-åœ¨å†…å®¹ä½¿ç”¨promise">â‘£ åœ¨å†…å®¹ä½¿ç”¨Promise</h5>
<p>â€ƒâ€ƒä½¿ç”¨Promiseçš„ç›®çš„æ˜¯ï¼Œ<strong>é™¤äº†ä¿®æ”¹æ•°æ®ä¹‹å¤–è¿˜å¯ä»¥è¿›è¡Œåˆ«çš„æ“ä½œ</strong>ã€‚ä¸€èˆ¬å°†ä¿®æ”¹çš„æ•°æ®å†™åœ¨Promieå†…éƒ¨ï¼Œç„¶ååˆ«çš„æ“ä½œå†™åœ¨thenå‡½æ•°å†…</p>
<h3 id="5module">5.module</h3>
<p>â€ƒâ€ƒVuexå…è®¸æˆ‘ä»¬å°†storeåˆ†å‰²æˆæ¨¡å—(Module), è€Œæ¯ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„stateã€mutationã€actionã€gettersç­‰ã€‚
â€ƒâ€ƒmudoleä¸­çš„stateã€mutationã€actionã€gettersæ–¹å¼çš„ä¹¦å†™å’Œåœ¨storeä¸­ä¹¦å†™æ˜¯ä¸€æ ·çš„ï¼Œè¿™é‡Œå°±ä¸å†å™è¿°ï¼Œä¸è¿‡è¦æ³¨æ„çš„æ˜¯ï¼šåœ¨æ¨¡å—ä¸­ï¼Œ<strong>context.commit()ä»…ä»…æäº¤è‡ªå·±æ¨¡å—çš„æ–¹æ³•è€Œä¸åŒ…æ‹¬storeä¸­çš„æ–¹æ³•ã€‚</strong></p>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">æ–‡ç« ä½œè€…</span>
    <span class="item-content">yuanshuai</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">ä¸Šæ¬¡æ›´æ–°</span>
    <span class="item-content">
        0001-01-01
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/yuanshuai1122.github.io/tags/vue/">Vue</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="yuanshuai1122.github.io/post/vue%E4%B9%8Bvuex%E4%BA%8C-vue%E4%B9%8Bvuex%E4%BA%8C/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Vueä¹‹Vuexï¼ˆäºŒï¼‰</span>
            <span class="prev-text nav-mobile">ä¸Šä¸€ç¯‡</span>
          </a>
        <a class="next" href="yuanshuai1122.github.io/post/vue%E4%B9%8Bvuex%E4%B8%80-vue%E4%B9%8Bvuex%E4%B8%80/">
            <span class="next-text nav-default">Vueä¹‹Vuexï¼ˆä¸€ï¼‰</span>
            <span class="next-text nav-mobile">ä¸‹ä¸€ç¯‡</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:your@email.com" class="iconfont icon-email" title="email"></a>
      <a href="http://localhost:1313" class="iconfont icon-stack-overflow" title="stack-overflow"></a>
      <a href="http://localhost:1313" class="iconfont icon-twitter" title="twitter"></a>
      <a href="http://localhost:1313" class="iconfont icon-facebook" title="facebook"></a>
      <a href="http://localhost:1313" class="iconfont icon-linkedin" title="linkedin"></a>
      <a href="http://localhost:1313" class="iconfont icon-google" title="google"></a>
      <a href="http://localhost:1313" class="iconfont icon-github" title="github"></a>
      <a href="http://localhost:1313" class="iconfont icon-weibo" title="weibo"></a>
      <a href="http://localhost:1313" class="iconfont icon-zhihu" title="zhihu"></a>
      <a href="http://localhost:1313" class="iconfont icon-douban" title="douban"></a>
      <a href="http://localhost:1313" class="iconfont icon-pocket" title="pocket"></a>
      <a href="http://localhost:1313" class="iconfont icon-tumblr" title="tumblr"></a>
      <a href="http://localhost:1313" class="iconfont icon-instagram" title="instagram"></a>
      <a href="http://localhost:1313" class="iconfont icon-gitlab" title="gitlab"></a>
      <a href="http://localhost:1313" class="iconfont icon-bilibili" title="bilibili"></a>
  <a href="yuanshuai1122.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    ç”± <a class="hexo-link" href="https://gohugo.io">Hugo</a> å¼ºåŠ›é©±åŠ¨
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    ä¸»é¢˜ - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2017 - 
    2023<span class="heart"><i class="iconfont icon-heart"></i></span><span>yuanshuai</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/timeago.js@3.0.2/dist/timeago.min.js" integrity="sha256-jwCP0NAdCBloaIWTWHmW4i3snUNMHUNO+jr9rYd2iOI=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/timeago.js@3.0.2/dist/timeago.locales.min.js" integrity="sha256-ZwofwC1Lf/faQCzN7nZtfijVV6hSwxjQMwXL4gn9qU8=" crossorigin="anonymous"></script>
  <script>
    var languageCode = "zh-cn".replace(/-/g, '_').replace(/_(.*)/, function ($0, $1) {return $0.replace($1, $1.toUpperCase());});
    timeago().render(document.querySelectorAll('.timeago'), languageCode);
    timeago.cancel();  
  </script>



<script type="text/javascript" src="/yuanshuai1122.github.io/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>








</body>
</html>
