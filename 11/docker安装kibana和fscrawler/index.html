<!DOCTYPE html>
<html class="js no-touch  progressive-image  no-reduced-motion progressive" lang="zh-hans">
  <head>
    <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="icon" href="/img/favicon.ico">

    <meta name="keyword" content=""><meta property="og:title" content="dockerå®‰è£…Kibanaå’ŒFscrawler" />
<meta property="og:description" content="ä¸€ã€å®‰è£…Kibana 1.1 Kibanaæ˜¯ä»€ä¹ˆ å¼•ç”¨ESå®˜æ–¹è¯´æ³• https://www.elastic.co/cn/what-is/kibana Kibana æ˜¯ä¸€æ¬¾å…è´¹ä¸”å¼€æ”¾çš„å‰ç«¯åº”ç”¨ç¨‹åºï¼Œå…¶åŸºç¡€æ˜¯ Elastic Stackï¼Œå¯ä»¥ä¸º Elasticsearch ä¸­ç´¢å¼•çš„æ•°æ®æä¾›æœ" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://yuanshuai1122.github.io/11/docker%E5%AE%89%E8%A3%85kibana%E5%92%8Cfscrawler/" /><meta property="article:section" content="11" />
<meta property="article:published_time" content="2023-07-19T18:12:20+00:00" />
<meta property="article:modified_time" content="2023-07-19T18:12:20+00:00" />
<title>dockerå®‰è£…Kibanaå’ŒFscrawler</title>

    <link rel="canonical" href="/11/docker%E5%AE%89%E8%A3%85kibana%E5%92%8Cfscrawler/">

    <link rel="stylesheet" href="/css/global.css">

    <link rel="stylesheet" href="/css/custom.css">

    <link rel="stylesheet" href="/css/search.css" />

    
    

    
    

</head>
  </head>
  <body class=" page-article   ">
    <header>
      <nav class="nav">
  <div class="nav-wrapper">
    <div class="nav-content-wrapper">
      <div class="nav-content">
        <a href="/ " class="nav-title">ğŸ§€</a>
        <div class="nav-menu">
          <div class="nav-item-wrapper">
            <a href="/posts " class="nav-item-content">ç›®å½•</a>
          </div><div class="nav-item-wrapper">
            <a href="/about" class="nav-item-content">å…³äº</a>
          </div><div class="nav-item-wrapper">
            <a href="/index.xml" class="nav-item-content" target="_blank">RSS</a>
          </div></div>
      </div>
    </div>
  </div>
</nav>

<script>
  function toggleSearchModal(){
    const template = `
    <div class="modal-body">
      <div id="autocomplete" onclick="event.stopPropagation();"></div>
    </div>
    `
    const modal = document.querySelector("#modal-wrapper")
    if(!modal){
      const div = document.createElement("div")
      document.body.setAttribute("style","overflow: hidden;")
      div.setAttribute("id", "modal-wrapper")
      div.setAttribute("onclick", "toggleSearchModal()")
      div.innerHTML = template
      const script = document.createElement("script");script.setAttribute("src", "https://yuanshuai1122.github.io/js/algolia.js")
      div.appendChild(script)
      document.body.append(div)
    } else {
      document.body.removeAttribute("style")
      document.body.removeChild(modal)
    }
  }
</script>
    </header>
    
  
  
  <main id="main" class="main">
      <section>
        <article class="article">
          
          <div class=" article-header ">
            <div class="category component">
              <div class="component-content">
                <div class="category-eyebrow">
                  <span class="category-eyebrow__category category_original">
                    
                      
                        docker
                      
                    
                  </span>
                  <span class="category-eyebrow__date">2023å¹´7æœˆ19æ—¥</span>
                </div>
              </div>
            </div>
            <div class="pagetitle component">
              <div class="component-content">
                <h1 class="hero-headline">dockerå®‰è£…Kibanaå’ŒFscrawler</h1>
              </div>
            </div>
            <div class="component  article-subhead ">
              <div class="component-content"></div>
            </div>

            <div class="tagssheet component">
              <div class="component-content">
                
                  
                  <a href="/tags/docker" class="tag">
                    docker
                  </a>
                
                  
                  <a href="/tags/es" class="tag">
                    es
                  </a>
                
              </div>
            </div>
          </div>
          
          <div class="pagebody">
            
            
            
            
            
            
            
            
            
<div class="component-content pagebody component">
  <h2 id="ä¸€å®‰è£…kibana" class="pagebody-header">
    ä¸€ã€å®‰è£…Kibana
  </h2>
</div>
<div class="component-content pagebody component">
  <h3 id="11-kibanaæ˜¯ä»€ä¹ˆ" class="pagebody-header">
    1.1 Kibanaæ˜¯ä»€ä¹ˆ
  </h3>
</div><p class="component-content component">å¼•ç”¨ESå®˜æ–¹è¯´æ³•</p>
<p class="component-content component"><code>https://www.elastic.co/cn/what-is/kibana</code></p>
<blockquote>
<p class="component-content component">Kibana æ˜¯ä¸€æ¬¾å…è´¹ä¸”å¼€æ”¾çš„å‰ç«¯åº”ç”¨ç¨‹åºï¼Œå…¶åŸºç¡€æ˜¯ Elastic Stackï¼Œå¯ä»¥ä¸º Elasticsearch ä¸­ç´¢å¼•çš„æ•°æ®æä¾›æœç´¢å’Œæ•°æ®å¯è§†åŒ–åŠŸèƒ½ã€‚å°½ç®¡äººä»¬é€šå¸¸å°† Kibana è§†ä½œ Elastic Stackï¼ˆä¹‹å‰ç§°ä½œ ELK Stackï¼Œåˆ†åˆ«è¡¨ç¤º Elasticsearchã€Logstash å’Œ Kibanaï¼‰çš„åˆ¶å›¾å·¥å…·ï¼Œä½†ä¹Ÿå¯å°† Kibana ä½œä¸ºç”¨æˆ·ç•Œé¢æ¥ç›‘æµ‹å’Œç®¡ç† Elastic Stack é›†ç¾¤å¹¶ç¡®ä¿é›†ç¾¤å®‰å…¨æ€§ï¼Œè¿˜å¯å°†å…¶ä½œä¸ºåŸºäº Elastic Stack æ‰€å¼€å‘å†…ç½®è§£å†³æ–¹æ¡ˆçš„æ±‡é›†ä¸­å¿ƒã€‚Elasticsearch ç¤¾åŒºäº 2013 å¹´å¼€å‘å‡ºäº† Kibanaï¼Œç°åœ¨ Kibana å·²å‘å±•æˆä¸º Elastic Stack çš„çª—å£ï¼Œæ˜¯ç”¨æˆ·å’Œå…¬å¸çš„ä¸€ä¸ªé—¨æˆ·ã€‚</p>
</blockquote>
<p class="component-content component">ç®€å•æ¥è¯´ï¼Œ<code>Kibana</code>æ˜¯<code>ElasticSearch</code>çš„å¯è§†åŒ–å·¥å…·ã€‚</p>

<div class="component-content pagebody component">
  <h3 id="12-ç‰ˆæœ¬é€‚é…" class="pagebody-header">
    1.2 ç‰ˆæœ¬é€‚é…
  </h3>
</div><p class="component-content component">æˆ‘ä»¬åœ¨ä¸Šä¸€èŠ‚å®‰è£…äº†<code>ElasticSearch:1.17.7</code>ç‰ˆæœ¬ï¼ŒæŸ¥çœ‹å®˜æ–¹ç‰ˆæœ¬å…¼å®¹é€‚é…ï¼š</p>
<blockquote>
<p class="component-content component"><a href="https://www.elastic.co/cn/support/matrix#matrix_compatibility">https://www.elastic.co/cn/support/matrix#matrix_compatibility</a></p>
</blockquote>
<p class="component-content component">è¿™é‡Œå°±ä¸ä¸Šå›¾äº†ï¼Œæˆ‘ä»¬å®‰è£…<code>kibana:7.17.7</code></p>

<div class="component-content pagebody component">
  <h3 id="13-æ‹‰å–é•œåƒå¹¶å¯åŠ¨" class="pagebody-header">
    1.3 æ‹‰å–é•œåƒå¹¶å¯åŠ¨
  </h3>
</div>
<div class="component-content pagebody component">
  <h4 id="131-æ‹‰å–é•œåƒ" class="pagebody-header">
    1.3.1 æ‹‰å–é•œåƒ
  </h4>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker pull kibana:7.17.7</span></span></code></pre></div></div>
  
</div>
<div class="component-content pagebody component">
  <h4 id="132-ä¸´æ—¶å¯åŠ¨" class="pagebody-header">
    1.3.2 ä¸´æ—¶å¯åŠ¨
  </h4>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker run -d --name kibana -p 5601:5601 kibana:7.17.7</span></span></code></pre></div></div>
  
</div>
<div class="component-content pagebody component">
  <h4 id="133-æ‹·è´é…ç½®æ–‡ä»¶" class="pagebody-header">
    1.3.3 æ‹·è´é…ç½®æ–‡ä»¶
  </h4>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># åˆ›å»ºå·¥ä½œç©ºé—´</span>
</span></span><span style="display:flex;"><span>mkdir -p /yyss/kibana
</span></span><span style="display:flex;"><span><span style="color:#75715e"># è¿›å…¥å·¥ä½œç©ºé—´</span>
</span></span><span style="display:flex;"><span>cd /yyss/kibana
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ‹·è´å®¹å™¨ä¸­é…ç½®æ–‡ä»¶åˆ°æœ¬åœ°</span>
</span></span><span style="display:flex;"><span>docker cp kibana:/usr/share/kibana/config ./
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ç¼–è¾‘é…ç½®æ–‡ä»¶</span>
</span></span><span style="display:flex;"><span>cd config/
</span></span><span style="display:flex;"><span>vim kibana.yml</span></span></code></pre></div></div>
  
</div><p class="component-content component">é…ç½®ç¤ºä¾‹ï¼š</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">server.host</span>: <span style="color:#e6db74">&#34;0.0.0.0&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">server.shutdownTimeout</span>: <span style="color:#e6db74">&#34;5s&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">elasticsearch.hosts</span>: [ <span style="color:#e6db74">&#34;http://192.168.100.139:9200&#34;</span> ]
</span></span><span style="display:flex;"><span><span style="color:#f92672">monitoring.ui.container.elasticsearch.enabled</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">elasticsearch.username</span>: <span style="color:#e6db74">&#34;elastic&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">elasticsearch.password</span>: <span style="color:#e6db74">&#34;123456&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">xpack.security.sessionTimeout</span>: <span style="color:#ae81ff">600000</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">i18n.locale</span>: <span style="color:#e6db74">&#34;zh-CN&#34;</span></span></span></code></pre></div></div>
  
</div><p class="component-content component">ä¸»è¦è®¾ç½®å’ŒESç›¸å…³çš„é…ç½®ï¼Œæ¯•ç«Ÿæˆ‘ä»¬æ˜¯è¦è¿æ¥ESçš„ã€‚</p>

<div class="component-content pagebody component">
  <h4 id="134-åœæ‰ä¸´æ—¶å®¹å™¨å¹¶é‡æ–°å¯åŠ¨" class="pagebody-header">
    1.3.4 åœæ‰ä¸´æ—¶å®¹å™¨å¹¶é‡æ–°å¯åŠ¨
  </h4>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># åˆ é™¤ä¸´æ—¶å®¹å™¨</span>
</span></span><span style="display:flex;"><span>docker rm -f kibana
</span></span><span style="display:flex;"><span><span style="color:#75715e"># é‡æ–°å¯åŠ¨</span>
</span></span><span style="display:flex;"><span>docker run -d --name kibana -p 5601:5601 -v /yyss/kibana/config:/usr/share/kibana/config kibana:7.17.7</span></span></code></pre></div></div>
  
</div><p class="component-content component">å‚æ•°ä»‹ç»ï¼š</p>
<div class="component-content component"><ul>
<li>-p 5601:5601 å°†å®¿ä¸»æœºç«¯å£æ˜ å°„åˆ°å®¹å™¨ç«¯å£</li>
<li>-v /yyss/kibana/config:/usr/share/kibana/config å°†å®¿ä¸»æœºconfigç›®å½•æŒ‚è½½åˆ°å®¹å™¨configç›®å½•</li>
</ul></div>

<div class="component-content pagebody component">
  <h3 id="135-æµ‹è¯•è®¿é—®" class="pagebody-header">
    1.3.5 æµ‹è¯•è®¿é—®
  </h3>
</div><p class="component-content component">æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®IP:5601</p>
<p class="component-content component">è´¦å·ï¼šelastic</p>
<p class="component-content component">å¯†ç ï¼š123456</p>
<p class="component-content component">äº‘æœåŠ¡å™¨è®°å¾—å¼€ç«¯å£</p>
<!-- raw HTML omitted -->
<p class="component-content component">è¿›å…¥é¡µé¢å¦‚å›¾æ‰€ç¤ºã€‚</p>

<div class="component-content pagebody component">
  <h2 id="äºŒå®‰è£…elastic-head" class="pagebody-header">
    äºŒã€å®‰è£…elastic-head
  </h2>
</div>
<div class="component-content pagebody component">
  <h3 id="21-elastic-headç®€ä»‹" class="pagebody-header">
    2.1 elastic-headç®€ä»‹
  </h3>
</div><blockquote>
<p class="component-content component">ealsticsearchæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ã€RESTful é£æ ¼çš„æœç´¢å’Œæ•°æ®åˆ†æå¼•æ“ï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯åå°æœåŠ¡å­˜å‚¨ç€ï¼Œç±»ä¼¼äºMysqlæœåŠ¡å™¨ï¼Œå› æ­¤å¦‚æœæˆ‘ä»¬éœ€è¦ç›´è§‚çš„æŸ¥çœ‹æ•°æ®ï¼Œå°±éœ€è¦ä½¿ç”¨å¯è§†åŒ–å·¥å…·äº†ã€‚elasticsearch-headæ˜¯Webå‰ç«¯ï¼Œç”¨äºæµè§ˆå’Œä¸Elastic Searché›†ç¾¤è¿›è¡Œäº¤äº’ï¼Œå¯ç”¨äºé›†ç¾¤ç®¡ç†ã€æ•°æ®å¯è§†åŒ–ã€å¢åˆ æ”¹æŸ¥å·¥å…·Elasticsearchè¯­å¥å¯è§†åŒ–ç­‰ã€‚</p>
<p class="component-content component">ç®€ç­”æ¥è¯´ï¼Œ<code>elasticsearch-head</code>æ˜¯esçš„é›†ç¾¤å¯è§†åŒ–ç®¡ç†å·¥å…·ã€‚</p>
</blockquote>

<div class="component-content pagebody component">
  <h3 id="22-elastic-headå®‰è£…" class="pagebody-header">
    2.2 elastic-headå®‰è£…
  </h3>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker run -d <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--name<span style="color:#f92672">=</span>elasticsearch-head <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-p 9100:9100 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>mobz/elasticsearch-head:5-alpine</span></span></code></pre></div></div>
  
</div>
<div class="component-content pagebody component">
  <h3 id="23-elastic-headè®¿é—®" class="pagebody-header">
    2.3 elastic-headè®¿é—®
  </h3>
</div><p class="component-content component">æµè§ˆå™¨è®¿é—®åœ°å€ï¼šhttp://IP:9100/</p>
<!-- raw HTML omitted -->
<p class="component-content component">åœ¨ä¸Šæ–¹è¾“å…¥æ¡†è¿æ¥ESé›†ç¾¤:http://IP:9200/</p>
<p class="component-content component">åç»­å¸¦x-packçš„è®¤è¯ä¿¡æ¯çš„è®¿é—®</p>
<div class="component-content pagebody component code">
  
  
  
  <pre><code class="">http://{ip}:9100/?auth_user=elastic&amp;auth_password=123456</code></pre>
  
</div>
<div class="component-content pagebody component">
  <h2 id="ä¸‰å®‰è£…fscrawler" class="pagebody-header">
    ä¸‰ã€å®‰è£…FSCrawler
  </h2>
</div>
<div class="component-content pagebody component">
  <h3 id="31-fscrawlerç®€ä»‹" class="pagebody-header">
    3.1 FSCrawlerç®€ä»‹
  </h3>
</div><blockquote>
<p class="component-content component">Welcome to the FS Crawler for <a href="https://elastic.co/">Elasticsearch</a></p>
<p class="component-content component">This crawler helps to index binary documents such as PDF, Open Office, MS Office.</p>
<p class="component-content component"><strong>Main features</strong>:</p>
<div class="component-content component"><ul>
<li>Local file system (or a mounted drive) crawling and index new files, update existing ones and removes old ones.</li>
<li>Remote file system over SSH/FTP crawling.</li>
<li>REST interface to let you &ldquo;upload&rdquo; your binary documents to elasticsearch.</li>
</ul></div>
</blockquote>
<p class="component-content component">ç®€å•æ¥è¯´å°±æ˜¯å¸®åŠ©ESç´¢å¼•æ–‡ä»¶çš„ã€‚</p>

<div class="component-content pagebody component">
  <h3 id="32-ç‰ˆæœ¬é€‚é…" class="pagebody-header">
    3.2 ç‰ˆæœ¬é€‚é…
  </h3>
</div><blockquote>
<p class="component-content component"><a href="https://github.com/dadoonet/fscrawler">https://github.com/dadoonet/fscrawler</a></p>
</blockquote>
<!-- raw HTML omitted -->
<p class="component-content component">æˆ‘ä»¬ESç‰ˆæœ¬æ˜¯<code>7.17.7</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©<code>FSCrawler:2.9</code></p>

<div class="component-content pagebody component">
  <h3 id="33-æ‹‰å–é•œåƒ" class="pagebody-header">
    3.3 æ‹‰å–é•œåƒ
  </h3>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker pull dadoonet/fscrawler:2.9</span></span></code></pre></div></div>
  
</div>
<div class="component-content pagebody component">
  <h3 id="34-åˆ›å»ºç›®å½•å¹¶å¯åŠ¨" class="pagebody-header">
    3.4 åˆ›å»ºç›®å½•å¹¶å¯åŠ¨
  </h3>
</div>
<div class="component-content pagebody component">
  <h4 id="341-åˆ›å»ºç›®å½•" class="pagebody-header">
    3.4.1 åˆ›å»ºç›®å½•
  </h4>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># åˆ›å»ºå·¥ä½œç›®å½•</span>
</span></span><span style="display:flex;"><span>mkdir -p /yyss/fscrawler
</span></span><span style="display:flex;"><span><span style="color:#75715e"># åˆ›å»ºæ–‡æ¡£ç›®å½• å³è¦è¢«æ‘„å…¥çš„æ–‡æ¡£ä½ç½®</span>
</span></span><span style="display:flex;"><span>mkdir -p /yyss/disk/es-docs</span></span></code></pre></div></div>
  
</div>
<div class="component-content pagebody component">
  <h4 id="342-å¯åŠ¨é•œåƒ" class="pagebody-header">
    3.4.2 å¯åŠ¨é•œåƒ
  </h4>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker run -it -d --name fscrawler -v /yyss/fscrawler:/root/.fscrawler -v /yyss/disk/es-docs:/tmp/es:ro dadoonet/fscrawler:2.9 fscrawler test-job</span></span></code></pre></div></div>
  
</div><p class="component-content component">å‚æ•°ä»‹ç»ï¼š</p>
<div class="component-content component"><ul>
<li>-v /yyss/fscrawler:/root/.fscrawler æŒ‚è½½æœ¬åœ°å·¥ä½œç›®å½•åˆ°é•œåƒ</li>
<li>-v /yyss/disk/es-docs:/tmp/es:ro æŒ‚è½½æœ¬åœ°æ–‡æ¡£ä½ç½®åˆ°é•œåƒ</li>
<li>fscrawler test-job åˆ›å»ºä¸€ä¸ªåä¸º<code>test-job</code>çš„ä½œä¸š</li>
</ul></div>
<p class="component-content component">åœ¨ç¬¬ä¸€æ¬¡è¿è¡Œæ—¶ï¼Œå¦‚æœ ~/.fscrawler ä¸­å°šä¸å­˜åœ¨è¯¥ä½œä¸šï¼ŒFSCrawler å°†è¯¢é—®ä½ æ˜¯å¦è¦åˆ›å»ºå®ƒ</p>
<blockquote>
<p class="component-content component"><strong>æ³¨æ„</strong>ï¼šé…ç½®æ–‡ä»¶å®é™…ä¸Šå­˜å‚¨åœ¨ä½ æœºå™¨ä¸Šçš„ /yyss/fscrawler/job_name/_settings.yaml ä¸­ã€‚ è¯·è®°ä½æ›´æ”¹ä½ çš„ elasticsearch å®ä¾‹çš„ URLï¼Œå› ä¸ºå®¹å™¨å°†æ— æ³•çœ‹åˆ°å®ƒåœ¨é»˜è®¤ 127.0.0.1 ä¸‹è¿è¡Œã€‚ ä½ å°†éœ€è¦ä½¿ç”¨ä¸»æœºçš„å®é™… IP åœ°å€ã€‚</p>
</blockquote>

<div class="component-content pagebody component">
  <h4 id="343-ç¼–è¾‘é…ç½®" class="pagebody-header">
    3.4.3 ç¼–è¾‘é…ç½®
  </h4>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># è¿›å…¥ç›®å½•</span>
</span></span><span style="display:flex;"><span>cd /yyss/fscrawler/test-job/
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ç¼–è¾‘é…ç½®</span>
</span></span><span style="display:flex;"><span>vim _settings.yaml</span></span></code></pre></div></div>
  
</div><p class="component-content component">é…ç½®ç¤ºä¾‹ï¼š</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span><span style="color:#f92672">name</span>: <span style="color:#e6db74">&#34;test-job&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">fs</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">url</span>: <span style="color:#e6db74">&#34;/tmp/es&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">update_rate</span>: <span style="color:#e6db74">&#34;15m&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">excludes</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#e6db74">&#34;*/~*&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">json_support</span>: <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">filename_as_id</span>: <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">add_filesize</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">remove_deleted</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">add_as_inner_object</span>: <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">store_source</span>: <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">index_content</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">attributes_support</span>: <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">raw_metadata</span>: <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">xml_support</span>: <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">index_folders</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">lang_detect</span>: <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">continue_on_error</span>: <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ocr</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">language</span>: <span style="color:#e6db74">&#34;eng&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">enabled</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">pdf_strategy</span>: <span style="color:#e6db74">&#34;ocr_and_text&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">follow_symlinks</span>: <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">elasticsearch</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">nodes</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">url</span>: <span style="color:#e6db74">&#34;http://192.168.100.139:9200&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">username</span>: <span style="color:#e6db74">&#34;elastic&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">password</span>: <span style="color:#e6db74">&#34;123456&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">bulk_size</span>: <span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">flush_interval</span>: <span style="color:#e6db74">&#34;5s&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">byte_size</span>: <span style="color:#e6db74">&#34;10mb&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ssl_verification</span>: <span style="color:#66d9ef">false</span></span></span></code></pre></div></div>
  
</div><p class="component-content component">å¦‚ä¸Šæ‰€ç¤ºï¼Œæˆ‘ä»¬éœ€è¦åšä¸Šé¢çš„é…ç½®ã€‚ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬ç‰¹æ„è®¾ç½® ssl_verification ä¸º falseã€‚ä½ éœ€è¦æ ¹æ®è‡ªå·±çš„ Elasticsearch ç«¯ç‚¹åŠç”¨æˆ·è´¦å·ä¿¡æ¯è¿›è¡Œä¿®æ”¹ã€‚ä¿®æ”¹å®Œåä¿å­˜ï¼Œæˆ‘ä»¬å†æ¬¡è¿è¡Œ Dockerï¼š</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker restart fscrawler</span></span></code></pre></div></div>
  
</div><p class="component-content component">åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬æ·»åŠ äº†ç´¢å¼•ï¼Œå¹¶ç›‘å¬<code>/yyss/disk/es-docs</code>å†…æ–‡ä»¶çš„å˜åŒ–ï¼Œæˆ‘ä»¬å¯ä»¥è¿›å…¥è¯¥ç›®å½•ä¸‹æ·»åŠ ç‚¹æ–‡ä»¶ï¼Œfscrawlerä¼šå¸®æˆ‘ä»¬é‡æ–°åˆ›å»ºæ–‡ä»¶ç´¢å¼•ã€‚</p>

<div class="component-content pagebody component">
  <h4 id="344-è¿›å…¥kibanaéªŒè¯" class="pagebody-header">
    3.4.4 è¿›å…¥KibanaéªŒè¯
  </h4>
</div><p class="component-content component">æˆ‘ä»¬è¿›å…¥åˆ°ä¸Šç¬¬ä¸€æ­¥å®‰è£…çš„kibanaç•Œé¢ï¼Œç‚¹å·¦è¾¹å¼€å‘å·¥å…·ï¼Œè¿›å…¥æ§åˆ¶å°ï¼Œè¾“å…¥</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>GET _cat/indices</span></span></code></pre></div></div>
  
</div><!-- raw HTML omitted -->
<p class="component-content component">å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„ç´¢å¼•<code>test-job</code>å·²ç»å¯ä»¥æŸ¥åˆ°ã€‚</p>
<p class="component-content component">æŸ¥çœ‹ç´¢å¼•ä¸‹è¯¦ç»†æ–‡ä»¶</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>GET test-job_folder/_search?filter_path<span style="color:#f92672">=</span>**.hits</span></span></code></pre></div></div>
  
</div><!-- raw HTML omitted -->
<p class="component-content component">å¯ä»¥çœ‹åˆ°æˆ‘ä»¬<code>/yyss/disk/es-docs</code>æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰å†…å®¹ã€‚</p>

          </div><div class="component">
            <div class="component-content">
              <div class="article-copyright">
                <p class="content">
                  ç‰ˆæƒå£°æ˜: <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed" target="_blank">ç‰ˆæƒå£°æ˜ï¼šç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™… (CC BY-NC-SA 4.0)</a>
                </p>
                <p class="content">ä½œè€…:  yuanshuai </p>
                <p class="content">å‘è¡¨æ—¥æœŸ:  2023å¹´7æœˆ19æ—¥</p>
              </div>
            </div>
          </div></article>
      </section>
  </main>

  <script>
    var script = document.createElement("script");script.src = "https://yuanshuai1122.github.io/js/initPost.js";
    document.head.appendChild(script);
  </script>

    
    <div class="footer-main ">
  <div class="content-body footer-wraper">
    <div class="footer-box">
      <div class="foot-nav">
        <div class="foot-nav-items">
          <div class="item">
            <div class="logo"></div>
            <div class="email">Email: <a href="mailto:shuaiyuan@gmail.com">shuaiyuan@gmail.com</a></div>
          </div>

          <div class="item community">
            <div class="item-title">ç¤¾äº¤åª’ä½“</div>
            
              <a href="https://github.com/yuanshuai1122" target="_blank">Github</a>
            
          </div>

          <div class="item resources">
            <div class="item-title">å‹é“¾</div>
            
              <a href="https://yuanshuaicn.com/" target="_blank">ğŸ‘‹</a>
            
          </div>
        </div>
      </div>
      <div class="bottom">
        <div class="item copyright">
          &copy; 2023
          Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a> & <a href="https://github.com/floyd-li/hugo-theme-itheme" target="_blank">iTheme</a>
        </div>
      </div>
    </div>
  </div>
</div>

  </body>
    
    

    
    
</html>
