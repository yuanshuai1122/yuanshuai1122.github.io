<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">
  <head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
    <meta name="robots" content="noodp" />
    <title>一文入门react全家桶 - CN.yuanshuai</title><meta name="author" content="">
<meta name="author-link" content="">
<meta name="description" content="一文入门react全家桶 第1章：React入门 1.1.React简介 1.1.1.官网 英文官网: https://reactjs.org/ 中文官网: https://react.docschina.org/ 1.1.2.介绍描述 用于动态构建" /><meta name="keywords" content='react' /><meta itemprop="name" content="一文入门react全家桶">
<meta itemprop="description" content="一文入门react全家桶 第1章：React入门 1.1.React简介 1.1.1.官网 英文官网: https://reactjs.org/ 中文官网: https://react.docschina.org/ 1.1.2.介绍描述 用于动态构建"><meta itemprop="datePublished" content="2022-09-19T18:08:13+00:00" />
<meta itemprop="dateModified" content="2022-09-19T18:08:13+00:00" />
<meta itemprop="wordCount" content="6870">
<meta itemprop="keywords" content="react," /><meta property="og:title" content="一文入门react全家桶" />
<meta property="og:description" content="一文入门react全家桶 第1章：React入门 1.1.React简介 1.1.1.官网 英文官网: https://reactjs.org/ 中文官网: https://react.docschina.org/ 1.1.2.介绍描述 用于动态构建" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://yuanshuai1122.github.io/posts/%E4%B8%80%E6%96%87%E5%85%A5%E9%97%A8react%E5%85%A8%E5%AE%B6%E6%A1%B6-yi-wen-ru-men-react-quan-jia-tong/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-19T18:08:13+00:00" />
<meta property="article:modified_time" content="2022-09-19T18:08:13+00:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="一文入门react全家桶"/>
<meta name="twitter:description" content="一文入门react全家桶 第1章：React入门 1.1.React简介 1.1.1.官网 英文官网: https://reactjs.org/ 中文官网: https://react.docschina.org/ 1.1.2.介绍描述 用于动态构建"/>
<meta name="application-name" content="FixIt">
<meta name="apple-mobile-web-app-title" content="FixIt"><meta name="theme-color" data-light="#f8f8f8" data-dark="#252627" content="#f8f8f8"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="canonical" href="http://yuanshuai1122.github.io/posts/%E4%B8%80%E6%96%87%E5%85%A5%E9%97%A8react%E5%85%A8%E5%AE%B6%E6%A1%B6-yi-wen-ru-men-react-quan-jia-tong/" /><link rel="prev" href="http://yuanshuai1122.github.io/posts/%E6%AD%BB%E7%A3%95juc%E5%85%ADcas-si-ke-juc-liu-cas/" /><link rel="next" href="http://yuanshuai1122.github.io/posts/kubernetes%E5%B0%9D%E9%B2%9C-%E9%83%A8%E7%BD%B2nginx%E6%9C%8D%E5%8A%A1/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "一文入门react全家桶",
    "inLanguage": "zh-CN",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "http:\/\/yuanshuai1122.github.io\/posts\/%E4%B8%80%E6%96%87%E5%85%A5%E9%97%A8react%E5%85%A8%E5%AE%B6%E6%A1%B6-yi-wen-ru-men-react-quan-jia-tong\/"
    },"genre": "posts","keywords": "react","wordcount":  6870 ,
    "url": "http:\/\/yuanshuai1122.github.io\/posts\/%E4%B8%80%E6%96%87%E5%85%A5%E9%97%A8react%E5%85%A8%E5%AE%B6%E6%A1%B6-yi-wen-ru-men-react-quan-jia-tong\/","datePublished": "2022-09-19T18:08:13+00:00","dateModified": "2022-09-19T18:08:13+00:00","publisher": {
      "@type": "Organization",
      "name": ""},"author": {
        "@type": "Person",
        "name": "yuanshuai"
      },"description": ""
  }
  </script></head>
  <body data-header-desktop="sticky" data-header-mobile="auto"><script>(window.localStorage?.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('data-theme', 'dark');</script><div class="wrapper" data-page-style="normal"><header class="desktop animate__faster" id="header-desktop">
  <div class="header-wrapper">
    <div class="header-title">
      <a href="/" title="CN.yuanshuai"><img loading="lazy" src="/fixit.min.svg" srcset="/fixit.min.svg, /fixit.min.svg 1.5x, /fixit.min.svg 2x" sizes="auto" data-title="CN.yuanshuai" data-alt="CN.yuanshuai" class="logo" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/><span class="header-title-text">CN.yuanshuai</span></a><span class="header-subtitle"></span></div>
    <nav>
      <ul class="menu"><li class="menu-item">
              <a
                class="menu-link"
                href="/posts/"
                
                
              ><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden="true"></i> Posts</a></li><li class="menu-item">
              <a
                class="menu-link"
                href="/categories/"
                
                
              ><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden="true"></i> Categories</a></li><li class="menu-item">
              <a
                class="menu-link"
                href="/tags/"
                
                
              ><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden="true"></i> Tags</a></li><li class="menu-item delimiter"></li><li class="menu-item theme-switch" title="切换主题">
          <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
        </li></ul>
    </nav>
  </div>
</header><header class="mobile animate__faster" id="header-mobile">
  <div class="header-container">
    <div class="header-wrapper">
      <div class="header-title">
        <a href="/" title="CN.yuanshuai"><img loading="lazy" src="/fixit.min.svg" srcset="/fixit.min.svg, /fixit.min.svg 1.5x, /fixit.min.svg 2x" sizes="auto" data-title="/fixit.min.svg" data-alt="/fixit.min.svg" class="logo" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/><span class="header-title-text">CN.yuanshuai</span></a><span class="header-subtitle"></span></div>
      <div class="menu-toggle" id="menu-toggle-mobile">
        <span></span><span></span><span></span>
      </div>
    </div>
    <nav>
      <ul class="menu" id="menu-mobile"><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/posts/"
                  
                  
                ><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden="true"></i> Posts</a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/categories/"
                  
                  
                ><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden="true"></i> Categories</a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/tags/"
                  
                  
                ><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden="true"></i> Tags</a></li><li class="menu-item menu-system">
          <span class="menu-system-item theme-switch" title="切换主题"><i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i></span></li>
      </ul>
    </nav>
  </div>
</header><main class="container"><aside class="toc" id="toc-auto"><h2 class="toc-title">目录&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden="true"></i></h2>
      <div class="toc-content" id="toc-content-auto"></div></aside>

  <aside class="aside-custom">
    </aside>

  <article class="page single">
    <div class="header"><h1 class="single-title animate__animated animate__flipInX"><span>一文入门react全家桶</span>
      </h1></div><div class="post-meta">
      <div class="post-meta-line"><span class="post-author"><span class="author"><i class="fa-solid fa-user-circle" aria-hidden="true"></i>
      yuanshuai</span></span></div>
      <div class="post-meta-line"><span title="发布于 2022-09-19 18:08:13"><i class="fa-regular fa-calendar-alt fa-fw me-1" aria-hidden="true"></i><time datetime="2022-09-19">2022-09-19</time></span>&nbsp;<span title="更新于 2022-09-19 18:08:13"><i class="fa-regular fa-edit fa-fw me-1" aria-hidden="true"></i><time datetime="2022-09-19">2022-09-19</time></span>&nbsp;<span title="6870 字"><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden="true"></i>约 6900 字</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden="true"></i>预计阅读 14 分钟</span>&nbsp;</div>
    </div><div class="details toc" id="toc-static" data-kept="false">
        <div class="details-summary toc-title">
          <span>目录</span>
          <span><i class="details-icon fa-solid fa-angle-right" aria-hidden="true"></i></span>
        </div>
        <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#第1章react入门">第1章：React入门</a>
      <ul>
        <li><a href="#11react简介">1.1.React简介</a></li>
        <li><a href="#12react的基本使用">1.2.React的基本使用</a></li>
        <li><a href="#13react-jsx">1.3.React JSX</a></li>
        <li><a href="#14模块与组件模块化与组件化的理解">1.4.模块与组件、模块化与组件化的理解</a></li>
      </ul>
    </li>
    <li><a href="#第2章react面向组件编程">第2章：React面向组件编程</a>
      <ul>
        <li><a href="#21-基本理解和使用">2.1. 基本理解和使用</a></li>
        <li><a href="#23-组件三大核心属性2-props">2.3. 组件三大核心属性2: props</a></li>
        <li><a href="#24-组件三大核心属性3-refs与事件处理">2.4. 组件三大核心属性3: refs与事件处理</a></li>
        <li><a href="#25-收集表单数据">2.5. 收集表单数据</a></li>
        <li><a href="#26-组件的生命周期">2.6. 组件的生命周期</a></li>
        <li><a href="#27-虚拟dom与dom-diffing算法">2.7. 虚拟DOM与DOM Diffing算法</a></li>
      </ul>
    </li>
    <li><a href="#第3章react应用基于react脚手架">第3章：React应用(基于React脚手架)</a>
      <ul>
        <li><a href="#31-使用create-react-app创建react应用">3.1. 使用create-react-app创建react应用</a></li>
      </ul>
    </li>
    <li><a href="#第4章react-ajax">第4章：React ajax</a>
      <ul>
        <li><a href="#41-理解">4.1. 理解</a></li>
        <li><a href="#42-axios">4.2. axios</a></li>
        <li><a href="#43-案例github用户搜索">4.3. 案例—github用户搜索</a></li>
        <li><a href="#44-消息订阅-发布机制">4.4. 消息订阅-发布机制</a></li>
        <li><a href="#45-扩展fetch">4.5. 扩展：Fetch</a></li>
      </ul>
    </li>
    <li><a href="#第5章react路由">第5章：React路由</a>
      <ul>
        <li><a href="#51-相关理解">5.1. 相关理解</a></li>
        <li><a href="#53-基本路由使用">5.3. 基本路由使用</a></li>
        <li><a href="#54-嵌套路由使用">5.4. 嵌套路由使用</a></li>
        <li><a href="#55-向路由组件传递参数数据">5.5. 向路由组件传递参数数据</a></li>
        <li><a href="#56-多种路由跳转方式">5.6. 多种路由跳转方式</a></li>
      </ul>
    </li>
    <li><a href="#第6章react-ui组件库">第6章：React UI组件库</a>
      <ul>
        <li><a href="#61流行的开源react-ui组件库">6.1.流行的开源React UI组件库</a></li>
      </ul>
    </li>
    <li><a href="#第7章redux">第7章：redux</a>
      <ul>
        <li><a href="#71-redux理解">7.1. redux理解</a></li>
        <li><a href="#72-redux的三个核心概念">7.2. redux的三个核心概念</a></li>
        <li><a href="#73-redux的核心api">7.3. redux的核心API</a></li>
        <li><a href="#74-使用redux编写应用">7.4. 使用redux编写应用</a></li>
        <li><a href="#75-redux异步编程">7.5. redux异步编程</a></li>
        <li><a href="#76-react-redux">7.6. react-redux</a></li>
        <li><a href="#77-使用上redux调试工具">7.7. 使用上redux调试工具</a></li>
        <li><a href="#78-纯函数和高阶函数">7.8. 纯函数和高阶函数</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
      </div><div class="content" id="content"><h1 id="一文入门react全家桶">一文入门react全家桶</h1>
<h2 id="第1章react入门">第1章：React入门</h2>
<h3 id="11react简介">1.1.React简介</h3>
<h4 id="111官网">1.1.1.官网</h4>
<ol>
<li>
<p>英文官网: <a href="https://reactjs.org/"target="_blank" rel="external nofollow noopener noreferrer">https://reactjs.org/</a></p>
</li>
<li>
<p>中文官网: <a href="https://react.docschina.org/"target="_blank" rel="external nofollow noopener noreferrer">https://react.docschina.org/</a></p>
</li>
</ol>
<h4 id="112介绍描述">1.1.2.介绍描述</h4>
<ol>
<li>
<p>用于动态构建用户界面的 JavaScript 库(只关注于视图)</p>
</li>
<li>
<p>由Facebook开源</p>
</li>
</ol>
<h4 id="113react的特点">1.1.3.React的特点</h4>
<ol>
<li>
<p>声明式编码</p>
</li>
<li>
<p>组件化编码</p>
</li>
<li>
<p>React Native 编写原生应用</p>
</li>
<li>
<p>高效（优秀的Diffing算法）</p>
</li>
</ol>
<h4 id="114react高效的原因">1.1.4.React高效的原因</h4>
<ol>
<li>
<p>使用虚拟(virtual)DOM, 不总是直接操作页面真实DOM。</p>
</li>
<li>
<p>DOM Diffing算法, 最小化页面重绘。</p>
</li>
</ol>
<h3 id="12react的基本使用">1.2.React的基本使用</h3>
<h4 id="121效果">1.2.1.效果</h4>
<p><img loading="lazy" src="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1.png20220919180211" srcset="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1.png20220919180211, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1.png20220919180211 1.5x, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1.png20220919180211 2x" sizes="auto" data-title="1" data-alt="1" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<h4 id="122相关js库">1.2.2.相关js库</h4>
<ol>
<li>
<p>react.js：React核心库。</p>
</li>
<li>
<p>react-dom.js：提供操作DOM的react扩展库。</p>
</li>
<li>
<p>babel.min.js：解析JSX语法代码转为JS代码的库。</p>
</li>
</ol>
<h4 id="123创建虚拟dom的两种方式">1.2.3.创建虚拟DOM的两种方式</h4>
<p><img loading="lazy" src="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2.png20220919180219" srcset="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2.png20220919180219, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2.png20220919180219 1.5x, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2.png20220919180219 2x" sizes="auto" data-title="2" data-alt="2" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<ol>
<li>
<p>纯JS方式(一般不用)</p>
</li>
<li>
<p>JSX方式</p>
</li>
</ol>
<h4 id="124虚拟dom与真实dom">1.2.4.虚拟DOM与真实DOM</h4>
<p>1.React提供了一些API来创建一种 “特别” 的一般js对象</p>
<div class="highlight" id="id-1"><pre tabindex="0" class="chroma"><code class="language-react" data-lang="react"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">VDOM</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;xx&#39;</span><span class="p">,{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;xx&#39;</span><span class="p">},</span><span class="s1">&#39;xx&#39;</span><span class="p">)</span></span></span></code></pre></div><p>上面创建的就是一个简单的虚拟DOM对象</p>
<ol start="2">
<li>虚拟DOM对象最终都会被React转换为真实的DOM</li>
<li>我们编码时基本只需要操作react的虚拟DOM相关数据, react会转换为真实DOM变化而更新界面。</li>
</ol>
<h3 id="13react-jsx">1.3.React JSX</h3>
<h4 id="131效果">1.3.1.效果</h4>
<p><img loading="lazy" src="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/3.png20220919180230" srcset="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/3.png20220919180230, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/3.png20220919180230 1.5x, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/3.png20220919180230 2x" sizes="auto" data-title="3" data-alt="3" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<h4 id="132jsx">1.3.2.JSX</h4>
<ol>
<li>
<p>全称:  JavaScript XML</p>
</li>
<li>
<p>react定义的一种类似于XML的JS扩展语法: JS + XML本质是React.createElement(component, props, &hellip;children)方法的语法糖</p>
</li>
<li>
<p>作用: 用来简化创建虚拟DOM</p>
</li>
</ol>
<p>1)写法：</p>
<div class="highlight" id="id-2"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">var ele = <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Hello JSX!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span></span></span></code></pre></div><p>2)注意1：它不是字符串, 也不是HTML/XML标签</p>
<p>3)注意2：它最终产生的就是一个JS对象</p>
<p>4.标签名任意: HTML标签或其它标签</p>
<p>5.标签属性任意: HTML标签属性或其它</p>
<p>6.基本语法规则</p>
<p>1)遇到 &lt;开头的代码, 以标签的语法解析: html同名标签转换为html同名元素, 其它标签需要特别解析</p>
<p>2)遇到以 { 开头的代码，以JS语法解析: 标签中的js表达式必须用{ }包含</p>
<p>7.babel.js的作用</p>
<p>1)浏览器不能直接解析JSX代码, 需要babel转译为纯JS的代码才能运行</p>
<p>2)只要用了JSX，都要加上type=&ldquo;text/babel&rdquo;, 声明需要babel来处理</p>
<h4 id="133渲染虚拟dom元素">1.3.3.渲染虚拟DOM(元素)</h4>
<p>1.语法:  ReactDOM.render(virtualDOM, containerDOM)</p>
<p>2.作用: 将虚拟DOM元素渲染到页面中的真实容器DOM中显示</p>
<p>3.参数说明</p>
<p>1)参数一: 纯js或jsx创建的虚拟dom对象</p>
<p>2)参数二: 用来包含虚拟DOM元素的真实dom元素对象(一般是一个div)</p>
<h4 id="134jsx练习">1.3.4.JSX练习</h4>
<p>需求: 动态展示如下列表</p>
<p><img loading="lazy" src="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/4.png20220919180241" srcset="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/4.png20220919180241, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/4.png20220919180241 1.5x, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/4.png20220919180241 2x" sizes="auto" data-title="4" data-alt="4" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<h3 id="14模块与组件模块化与组件化的理解">1.4.模块与组件、模块化与组件化的理解</h3>
<h4 id="141模块">1.4.1.模块</h4>
<p>1.理解：向外提供特定功能的js程序, 一般就是一个js文件</p>
<p>2.为什么要拆成模块：随着业务逻辑增加，代码越来越多且复杂。</p>
<p>3.作用：复用js, 简化js的编写, 提高js运行效率</p>
<h4 id="142组件">1.4.2.组件</h4>
<p>1.理解：用来实现局部功能效果的代码和资源的集合(html/css/js/image等等)</p>
<p>2.为什么要用组件： 一个界面的功能更复杂</p>
<p>3.作用：复用编码, 简化项目编码, 提高运行效率</p>
<h4 id="143模块化">1.4.3.模块化</h4>
<p>当应用的js都以模块来编写的, 这个应用就是一个模块化的应用</p>
<h4 id="144组件化">1.4.4.组件化</h4>
<p>当应用是以多组件的方式实现, 这个应用就是一个组件化的应用</p>
<p><img loading="lazy" src="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/5.png20220919180250" srcset="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/5.png20220919180250, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/5.png20220919180250 1.5x, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/5.png20220919180250 2x" sizes="auto" data-title="5" data-alt="5" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<h2 id="第2章react面向组件编程">第2章：React面向组件编程</h2>
<h3 id="21-基本理解和使用">2.1. 基本理解和使用</h3>
<h4 id="211-使用react开发者工具调试">2.1.1. 使用React开发者工具调试</h4>
<p><img loading="lazy" src="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/6.png20220919180305" srcset="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/6.png20220919180305, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/6.png20220919180305 1.5x, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/6.png20220919180305 2x" sizes="auto" data-title="6" data-alt="6" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<h4 id="212-效果">2.1.2. 效果</h4>
<p>函数式组件：</p>
<p><img loading="lazy" src="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/7.png20220919180313" srcset="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/7.png20220919180313, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/7.png20220919180313 1.5x, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/7.png20220919180313 2x" sizes="auto" data-title="7" data-alt="7" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<p>类式组件：</p>
<p><img loading="lazy" src="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/820220919180405.png" srcset="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/820220919180405.png, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/820220919180405.png 1.5x, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/820220919180405.png 2x" sizes="auto" data-title="820220919180405" data-alt="820220919180405" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<h4 id="213-注意">2.1.3. 注意</h4>
<p>1.组件名必须首字母大写</p>
<p>2.虚拟DOM元素只能有一个根元素</p>
<p>3.虚拟DOM元素必须有结束标签</p>
<h4 id="214-渲染类组件标签的基本流程">2.1.4. 渲染类组件标签的基本流程</h4>
<p>1.React内部会创建组件实例对象</p>
<p>2.调用render()得到虚拟DOM, 并解析为真实DOM</p>
<p>3.插入到指定的页面元素内部</p>
<p>2.2. 组件三大核心属性1: state</p>
<h4 id="221-效果">2.2.1. 效果</h4>
<p>需求: 定义一个展示天气信息的组件</p>
<p>1.默认展示天气炎热 或 凉爽</p>
<p>2.点击文字切换天气</p>
<p><img loading="lazy" src="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/920220919180417.gif" srcset="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/920220919180417.gif, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/920220919180417.gif 1.5x, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/920220919180417.gif 2x" sizes="auto" data-title="920220919180417" data-alt="920220919180417" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<h4 id="222-理解">2.2.2. 理解</h4>
<p>1.state是组件对象最重要的属性, 值是对象(可以包含多个key-value的组合)</p>
<p>2.组件被称为&quot;状态机&quot;, 通过更新组件的state来更新对应的页面显示(重新渲染组件)</p>
<h4 id="223-强烈注意">2.2.3. 强烈注意</h4>
<p>1.组件中render方法中的this为组件实例对象</p>
<p>2.组件自定义的方法中this为undefined，如何解决？</p>
<p>a)强制绑定this: 通过函数对象的bind()</p>
<p>b)箭头函数</p>
<p>3.状态数据，不能直接修改或更新</p>
<h3 id="23-组件三大核心属性2-props">2.3. 组件三大核心属性2: props</h3>
<h4 id="231-效果">2.3.1. 效果</h4>
<p>需求: 自定义用来显示一个人员信息的组件</p>
<p>1.姓名必须指定，且为字符串类型；</p>
<p>2.性别为字符串类型，如果性别没有指定，默认为男</p>
<p>3.年龄为字符串类型，且为数字类型，默认值为18</p>
<p><img loading="lazy" src="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1020220919180425.png" srcset="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1020220919180425.png, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1020220919180425.png 1.5x, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1020220919180425.png 2x" sizes="auto" data-title="1020220919180425" data-alt="1020220919180425" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<h4 id="232-理解">2.3.2. 理解</h4>
<p>1.每个组件对象都会有props(properties的简写)属性</p>
<p>2.组件标签的所有属性都保存在props中</p>
<h4 id="233-作用">2.3.3. 作用</h4>
<p>1.通过标签属性从组件外向组件内传递变化的数据</p>
<p>2.注意: 组件内部不要修改props数据</p>
<h4 id="234-编码操作">2.3.4. 编码操作</h4>
<p>1.内部读取某个属性值</p>
<div class="highlight" id="id-3"><pre tabindex="0" class="chroma"><code class="language-react" data-lang="react"><span class="line"><span class="cl"><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span></span></span></code></pre></div><p>2.对props中的属性值进行类型限制和必要性限制</p>
<p>第一种方式（React v15.5 开始已弃用）：</p>
<div class="highlight" id="id-4"><pre tabindex="0" class="chroma"><code class="language-react" data-lang="react"><span class="line"><span class="cl"><span class="nx">Person</span><span class="p">.</span><span class="nx">propTypes</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="nx">name</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">string</span><span class="p">.</span><span class="nx">isRequired</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"> <span class="nx">age</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">number</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div><p>第二种方式（新）：使用prop-types库进限制（需要引入prop-types库）</p>
<div class="highlight" id="id-5"><pre tabindex="0" class="chroma"><code class="language-react" data-lang="react"><span class="line"><span class="cl"><span class="nx">Person</span><span class="p">.</span><span class="nx">propTypes</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">name</span><span class="o">:</span> <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">string</span><span class="p">.</span><span class="nx">isRequired</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">age</span><span class="o">:</span> <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">number</span><span class="p">.</span> 
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div><p>3.扩展属性: 将对象的所有属性通过props传递</p>
<div class="highlight" id="id-6"><pre tabindex="0" class="chroma"><code class="language-react" data-lang="react"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">Person</span> <span class="p">{</span><span class="na">...person</span><span class="p">}/&gt;</span></span></span></code></pre></div><p>4.默认属性值：</p>
<div class="highlight" id="id-7"><pre tabindex="0" class="chroma"><code class="language-react" data-lang="react"><span class="line"><span class="cl"><span class="nx">Person</span><span class="p">.</span><span class="nx">defaultProps</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">age</span><span class="o">:</span> <span class="mi">18</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;男&#39;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div><p>5.组件类的构造函数</p>
<div class="highlight" id="id-8"><pre tabindex="0" class="chroma"><code class="language-react" data-lang="react"><span class="line"><span class="cl"><span class="nx">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">  <span class="kr">super</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span><span class="c1">//打印所有属性
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span></span></span></code></pre></div><h3 id="24-组件三大核心属性3-refs与事件处理">2.4. 组件三大核心属性3: refs与事件处理</h3>
<h4 id="241-效果">2.4.1. 效果</h4>
<p>需求: 自定义组件, 功能说明如下:</p>
<ol>
<li>点击按钮, 提示第一个输入框中的值</li>
<li>当第2个输入框失去焦点时, 提示这个输入框中的值</li>
<li>效果如下：</li>
</ol>
<p><img loading="lazy" src="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1120220919180435.gif" srcset="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1120220919180435.gif, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1120220919180435.gif 1.5x, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1120220919180435.gif 2x" sizes="auto" data-title="1120220919180435" data-alt="1120220919180435" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<h4 id="242-理解">2.4.2. 理解</h4>
<p>组件内的标签可以定义ref属性来标识自己</p>
<h4 id="243-编码">2.4.3. 编码</h4>
<p>1.字符串形式的ref</p>
<div class="highlight" id="id-9"><pre tabindex="0" class="chroma"><code class="language-react" data-lang="react"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">input</span> <span class="na">ref</span><span class="o">=</span><span class="s">&#34;input1&#34;</span><span class="p">/&gt;</span></span></span></code></pre></div><p>2.回调形式的ref</p>
<div class="highlight" id="id-10"><pre tabindex="0" class="chroma"><code class="language-react" data-lang="react"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">input</span> <span class="na">ref</span><span class="o">=</span><span class="p">{(</span><span class="nx">c</span><span class="p">)=&gt;{</span><span class="k">this</span><span class="p">.</span><span class="nx">input1</span> <span class="o">=</span> <span class="nx">c</span><span class="p">}}/&gt;</span></span></span></code></pre></div><p>3.createRef创建ref容器·</p>
<div class="highlight" id="id-11"><pre tabindex="0" class="chroma"><code class="language-react" data-lang="react"><span class="line"><span class="cl"><span class="nx">myRef</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createRef</span><span class="p">()</span> 
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">input</span> <span class="na">ref</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">myRef</span><span class="p">}/&gt;</span></span></span></code></pre></div><h4 id="244-事件处理">2.4.4. 事件处理</h4>
<p>1.通过onXxx属性指定事件处理函数(注意大小写)</p>
<p>1)React使用的是自定义(合成)事件, 而不是使用的原生DOM事件</p>
<p>2)React中的事件是通过事件委托方式处理的(委托给组件最外层的元素)</p>
<p>2.通过event.target得到发生事件的DOM元素对象</p>
<h3 id="25-收集表单数据">2.5. 收集表单数据</h3>
<h4 id="251-效果">2.5.1. 效果</h4>
<p>需求: 定义一个包含表单的组件</p>
<p>输入用户名密码后, 点击登录提示输入信息</p>
<p><img loading="lazy" src="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1220220919180443.gif" srcset="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1220220919180443.gif, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1220220919180443.gif 1.5x, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1220220919180443.gif 2x" sizes="auto" data-title="1220220919180443" data-alt="1220220919180443" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<h4 id="252-理解">2.5.2. 理解</h4>
<p>包含表单的组件分类</p>
<p>1.受控组件</p>
<p>2.非受控组件</p>
<h3 id="26-组件的生命周期">2.6. 组件的生命周期</h3>
<h4 id="261-效果">2.6.1. 效果</h4>
<p>需求:定义组件实现以下功能：</p>
<pre><code>1. 让指定的文本做显示 / 隐藏的渐变动画
2. 从完全可见，到彻底消失，耗时2S
3. 点击“不活了”按钮从界面中卸载组件
</code></pre>
<p><img loading="lazy" src="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1320220919180451.gif" srcset="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1320220919180451.gif, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1320220919180451.gif 1.5x, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1320220919180451.gif 2x" sizes="auto" data-title="1320220919180451" data-alt="1320220919180451" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<h4 id="262-理解">2.6.2. 理解</h4>
<p>1.组件从创建到死亡它会经历一些特定的阶段。</p>
<p>2.React组件中包含一系列勾子函数(生命周期回调函数), 会在特定的时刻调用。</p>
<p>3.我们在定义组件时，会在特定的生命周期回调函数中，做特定的工作。</p>
<h4 id="263-生命周期流程图旧">2.6.3. 生命周期流程图(旧)</h4>
<p><img loading="lazy" src="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1420220919180456.png" srcset="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1420220919180456.png, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1420220919180456.png 1.5x, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1420220919180456.png 2x" sizes="auto" data-title="1420220919180456" data-alt="1420220919180456" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<p>生命周期的三个阶段（旧）
1. 初始化阶段: 由ReactDOM.render()触发&mdash;初次渲染
1.constructor()
2.componentWillMount()
3.render()
4.componentDidMount()
2. 更新阶段: 由组件内部this.setSate()或父组件重新render触发
1.shouldComponentUpdate()
2.componentWillUpdate()
3.render()
4.componentDidUpdate()
3. 卸载组件: 由ReactDOM.unmountComponentAtNode()触发
1.componentWillUnmount()</p>
<h4 id="264-生命周期流程图新">2.6.4. 生命周期流程图(新)</h4>
<p><img loading="lazy" src="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1520220919180505.png" srcset="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1520220919180505.png, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1520220919180505.png 1.5x, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1520220919180505.png 2x" sizes="auto" data-title="1520220919180505" data-alt="1520220919180505" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<p>生命周期的三个阶段（新）</p>
<ol>
<li>初始化阶段: 由ReactDOM.render()触发&mdash;初次渲染
1.constructor()
2.getDerivedStateFromProps
3.render()
4.componentDidMount()</li>
<li>更新阶段: 由组件内部this.setSate()或父组件重新render触发</li>
</ol>
<pre><code>1.getDerivedStateFromProps
2.shouldComponentUpdate()
3.render()
4.getSnapshotBeforeUpdate
5.componentDidUpdate()
</code></pre>
<ol start="2">
<li>卸载组件: 由ReactDOM.unmountComponentAtNode()触发
1.componentWillUnmount()</li>
</ol>
<h4 id="265-重要的勾子">2.6.5. 重要的勾子</h4>
<p>1.render：初始化渲染或更新渲染调用
2.componentDidMount：开启监听, 发送ajax请求
3.componentWillUnmount：做一些收尾工作, 如: 清理定时器</p>
<h4 id="266-即将废弃的勾子">2.6.6. 即将废弃的勾子</h4>
<p>1.componentWillMount
2.componentWillReceiveProps
3.componentWillUpdate
现在使用会出现警告，下一个大版本需要加上UNSAFE_前缀才能使用，以后可能会被彻底废弃，不建议使用。</p>
<h3 id="27-虚拟dom与dom-diffing算法">2.7. 虚拟DOM与DOM Diffing算法</h3>
<h4 id="271-效果">2.7.1. 效果</h4>
<p>需求：验证虚拟DOM Diffing算法的存在</p>
<p><img loading="lazy" src="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1620220919180515.gif" srcset="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1620220919180515.gif, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1620220919180515.gif 1.5x, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1620220919180515.gif 2x" sizes="auto" data-title="1620220919180515" data-alt="1620220919180515" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<h4 id="272-基本原理图">2.7.2. 基本原理图</h4>
<p><img loading="lazy" src="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1720220919180523.png" srcset="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1720220919180523.png, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1720220919180523.png 1.5x, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1720220919180523.png 2x" sizes="auto" data-title="1720220919180523" data-alt="1720220919180523" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<h2 id="第3章react应用基于react脚手架">第3章：React应用(基于React脚手架)</h2>
<h3 id="31-使用create-react-app创建react应用">3.1. 使用create-react-app创建react应用</h3>
<h4 id="311-react脚手架">3.1.1. react脚手架</h4>
<p>1.xxx脚手架: 用来帮助程序员快速创建一个基于xxx库的模板项目</p>
<p>1.包含了所有需要的配置（语法检查、jsx编译、devServer…）</p>
<p>2.下载好了所有相关的依赖</p>
<p>3.可以直接运行一个简单效果</p>
<p>2.react提供了一个用于创建react项目的脚手架库: create-react-app</p>
<p>3.项目的整体技术架构为:  react + webpack + es6 + eslint</p>
<p>4.使用脚手架开发的项目的特点: 模块化, 组件化, 工程化</p>
<h4 id="312-创建项目并启动">3.1.2. 创建项目并启动</h4>
<p>第一步，全局安装：</p>
<pre tabindex="0"><code>npm i -g create-react-app</code></pre><p>第二步，切换到想创项目的目录，使用命令：</p>
<pre tabindex="0"><code>create-react-app hello-react</code></pre><p>第三步，进入项目文件夹：</p>
<pre tabindex="0"><code>cd hello-react</code></pre><p>第四步，启动项目：</p>
<pre tabindex="0"><code>npm start</code></pre><h4 id="313-react脚手架项目结构">3.1.3. react脚手架项目结构</h4>
<blockquote>
<p>public &mdash;- 静态资源文件夹
favicon.icon &mdash;&mdash; 网站页签图标
index.html &mdash;&mdash;&ndash; 主页面
logo192.png &mdash;&mdash;- logo图
logo512.png &mdash;&mdash;- logo图
manifest.json &mdash;&ndash; 应用加壳的配置文件
robots.txt &mdash;&mdash;&ndash; 爬虫协议文件</p>
<p>src &mdash;- 源码文件夹
App.css &mdash;&mdash;&ndash; App组件的样式
App.js &mdash;&mdash;&mdash; App组件
App.test.js &mdash;- 用于给App做测试
index.css &mdash;&mdash; 样式
index.js &mdash;&mdash;- 入口文件
logo.svg &mdash;&mdash;- logo图
reportWebVitals.js
&mdash; 页面性能分析文件(需要web-vitals库的支持)
setupTests.js
&mdash;- 组件单元测试的文件(需要jest-dom库的支持)</p>
</blockquote>
<h4 id="314-功能界面的组件化编码流程通用">3.1.4. 功能界面的组件化编码流程（通用）</h4>
<ol>
<li>拆分组件: 拆分界面,抽取组件</li>
<li>实现静态组件: 使用组件实现静态页面效果</li>
<li>实现动态组件
3.1 动态显示初始化数据
3.1.1 数据类型
3.1.2 数据名称
3.1.2 保存在哪个组件?
3.2 交互(从绑定事件监听开始)
3.2. 组件的组合使用-TodoList
功能: 组件化实现此功能</li>
<li>显示所有todo列表</li>
<li>输入文本, 点击按钮显示到列表的首位, 并清除输入的文本</li>
</ol>
<p><img loading="lazy" src="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1820220919180534.gif" srcset="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1820220919180534.gif, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1820220919180534.gif 1.5x, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1820220919180534.gif 2x" sizes="auto" data-title="1820220919180534" data-alt="1820220919180534" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<h2 id="第4章react-ajax">第4章：React ajax</h2>
<h3 id="41-理解">4.1. 理解</h3>
<h4 id="411-前置说明">4.1.1. 前置说明</h4>
<p>1.React本身只关注于界面, 并不包含发送ajax请求的代码</p>
<p>2.前端应用需要通过ajax请求与后台进行交互(json数据)</p>
<p>3.react应用中需要集成第三方ajax库(或自己封装)</p>
<h4 id="412-常用的ajax请求库">4.1.2. 常用的ajax请求库</h4>
<p>1.jQuery: 比较重, 如果需要另外引入不建议使用</p>
<p>2.axios: 轻量级, 建议使用</p>
<p>1)封装XmlHttpRequest对象的ajax</p>
<p>promise风格</p>
<p>3)可以用在浏览器端和node服务器端</p>
<h3 id="42-axios">4.2. axios</h3>
<h4 id="421-文档">4.2.1. 文档</h4>
<p><a href="https://github.com/axios/axios"target="_blank" rel="external nofollow noopener noreferrer">https://github.com/axios/axios</a></p>
<h4 id="422-相关api">4.2.2. 相关API</h4>
<p>1)GET请求</p>
<div class="highlight" id="id-16"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">axios</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/user?ID=12345&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">axios</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/user&#39;</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">params</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">ID</span><span class="o">:</span> <span class="mi">12345</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span></span></span></code></pre></div><p>2)POST请求</p>
<div class="highlight" id="id-17"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/user&#39;</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">firstName</span><span class="o">:</span> <span class="s1">&#39;Fred&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">lastName</span><span class="o">:</span> <span class="s1">&#39;Flintstone&#39;</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span></span></span></code></pre></div><h3 id="43-案例github用户搜索">4.3. 案例—github用户搜索</h3>
<h4 id="431-效果">4.3.1. 效果</h4>
<p><img loading="lazy" src="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1920220919180543.gif" srcset="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1920220919180543.gif, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1920220919180543.gif 1.5x, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/1920220919180543.gif 2x" sizes="auto" data-title="1920220919180543" data-alt="1920220919180543" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<p>请求地址: <a href="https://api.github.com/search/users?q=xxxxxx"target="_blank" rel="external nofollow noopener noreferrer">https://api.github.com/search/users?q=xxxxxx</a></p>
<h3 id="44-消息订阅-发布机制">4.4. 消息订阅-发布机制</h3>
<p>1.工具库: PubSubJS</p>
<p>2.下载: npm install pubsub-js &ndash;save</p>
<p>3.使用:</p>
<pre tabindex="0"><code>1)import PubSub from &#39;pubsub-js&#39; //引入

2)PubSub.subscribe(&#39;delete&#39;, function(data){ }); //订阅

3)PubSub.publish(&#39;delete&#39;, data) //发布消息</code></pre><h3 id="45-扩展fetch">4.5. 扩展：Fetch</h3>
<h4 id="451-文档">4.5.1. 文档</h4>
<p>1.https://github.github.io/fetch/</p>
<p>2.https://segmentfault.com/a/1190000003810652</p>
<h4 id="452-特点">4.5.2. 特点</h4>
<p>1.fetch: 原生函数，不再使用XmlHttpRequest对象提交ajax请求</p>
<p>2.老版本浏览器可能不支持</p>
<h4 id="453-相关api">4.5.3. 相关API</h4>
<p>1)GET请求</p>
<div class="highlight" id="id-19"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span></span></span></code></pre></div><p>2)POST请求</p>
<div class="highlight" id="id-20"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="nx">method</span><span class="o">:</span> <span class="s2">&#34;POST&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="nx">body</span><span class="o">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">),</span>
</span></span><span class="line"><span class="cl"><span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span></span></span></code></pre></div><h2 id="第5章react路由">第5章：React路由</h2>
<h3 id="51-相关理解">5.1. 相关理解</h3>
<h4 id="511-spa的理解">5.1.1. SPA的理解</h4>
<p>1.单页Web应用（single page web application，SPA）。</p>
<p>2.整个应用只有一个完整的页面。</p>
<p>3.点击页面中的链接不会刷新页面，只会做页面的局部更新。</p>
<p>4.数据都需要通过ajax请求获取, 并在前端异步展现。</p>
<h4 id="512-路由的理解">5.1.2. 路由的理解</h4>
<p>1.什么是路由?</p>
<p>1.一个路由就是一个映射关系(key:value)</p>
<p>2.key为路径, value可能是function或component</p>
<p>2.路由分类</p>
<p>1.后端路由：</p>
<p>1)理解： value是function, 用来处理客户端提交的请求。</p>
<p>2)注册路由： router.get(path, function(req, res))</p>
<p>3)工作过程：当node接收到一个请求时, 根据请求路径找到匹配的路由, 调用路由中的函数来处理请求, 返回响应数据</p>
<p>2.前端路由：</p>
<p>1)浏览器端路由，value是component，用于展示页面内容。</p>
<p>2)注册路由: <!-- raw HTML omitted --></p>
<p>3)工作过程：当浏览器的path变为/test时, 当前路由组件就会变为Test组件</p>
<h4 id="513-react-router-dom的理解">5.1.3. react-router-dom的理解</h4>
<p>1.react的一个插件库。</p>
<p>2.专门用来实现一个SPA应用。</p>
<p>3.基于react的项目基本都会用到此库。</p>
<p>5.2. react-router-dom相关API</p>
<p>5.2.1. 内置组件</p>
<p>1.<!-- raw HTML omitted -->
2.<!-- raw HTML omitted -->
3.<!-- raw HTML omitted -->
4.<!-- raw HTML omitted -->
5.<!-- raw HTML omitted -->
6.<!-- raw HTML omitted -->
7.<!-- raw HTML omitted --></p>
<h4 id="522-其它">5.2.2. 其它</h4>
<p>1.history对象</p>
<p>2.match对象</p>
<p>3.withRouter函数</p>
<h3 id="53-基本路由使用">5.3. 基本路由使用</h3>
<h4 id="531-效果">5.3.1. 效果</h4>
<p><img loading="lazy" src="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2020220919180558.gif" srcset="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2020220919180558.gif, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2020220919180558.gif 1.5x, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2020220919180558.gif 2x" sizes="auto" data-title="2020220919180558" data-alt="2020220919180558" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<h4 id="532-准备">5.3.2. 准备</h4>
<p>1.下载react-router-dom:</p>
<div class="highlight" id="id-21"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"> <span class="nx">npm</span> <span class="nx">install</span> <span class="o">--</span><span class="nx">save</span> <span class="nx">react</span><span class="o">-</span><span class="nx">router</span><span class="o">-</span><span class="nx">dom</span></span></span></code></pre></div><p>2.引入bootstrap.css:</p>
<div class="highlight" id="id-22"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nx">link</span> <span class="nx">rel</span><span class="o">=</span><span class="s2">&#34;stylesheet&#34;</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&#34;/css/bootstrap.css&#34;</span><span class="o">&gt;</span></span></span></code></pre></div><h3 id="54-嵌套路由使用">5.4. 嵌套路由使用</h3>
<p>效果</p>
<p><img loading="lazy" src="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2120220919180607.gif" srcset="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2120220919180607.gif, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2120220919180607.gif 1.5x, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2120220919180607.gif 2x" sizes="auto" data-title="2120220919180607" data-alt="2120220919180607" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<h3 id="55-向路由组件传递参数数据">5.5. 向路由组件传递参数数据</h3>
<p>效果</p>
<p><img loading="lazy" src="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2220220919180614.gif" srcset="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2220220919180614.gif, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2220220919180614.gif 1.5x, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2220220919180614.gif 2x" sizes="auto" data-title="2220220919180614" data-alt="2220220919180614" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<h3 id="56-多种路由跳转方式">5.6. 多种路由跳转方式</h3>
<p>效果</p>
<p><img loading="lazy" src="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2320220919180620.gif" srcset="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2320220919180620.gif, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2320220919180620.gif 1.5x, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2320220919180620.gif 2x" sizes="auto" data-title="2320220919180620" data-alt="2320220919180620" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<h2 id="第6章react-ui组件库">第6章：React UI组件库</h2>
<h3 id="61流行的开源react-ui组件库">6.1.流行的开源React UI组件库</h3>
<h4 id="611-material-ui国外">6.1.1. material-ui(国外)</h4>
<p>1.官网: <a href="http://www.material-ui.com/#/"target="_blank" rel="external nofollow noopener noreferrer">http://www.material-ui.com/#/</a></p>
<p>2.github: <a href="https://github.com/callemall/material-ui"target="_blank" rel="external nofollow noopener noreferrer">https://github.com/callemall/material-ui</a></p>
<h4 id="612-ant-design国内蚂蚁金服">6.1.2. ant-design(国内蚂蚁金服)</h4>
<p>1.官网: <a href="https://ant.design/index-cn"target="_blank" rel="external nofollow noopener noreferrer">https://ant.design/index-cn</a></p>
<p>2.Github: <a href="https://github.com/ant-design/ant-design/"target="_blank" rel="external nofollow noopener noreferrer">https://github.com/ant-design/ant-design/</a></p>
<h2 id="第7章redux">第7章：redux</h2>
<h3 id="71-redux理解">7.1. redux理解</h3>
<h4 id="711-学习文档">7.1.1. 学习文档</h4>
<p>1.英文文档: <a href="https://redux.js.org/"target="_blank" rel="external nofollow noopener noreferrer">https://redux.js.org/</a></p>
<p>2.中文文档: <a href="http://www.redux.org.cn/"target="_blank" rel="external nofollow noopener noreferrer">http://www.redux.org.cn/</a></p>
<p>3.Github: <a href="https://github.com/reactjs/redux"target="_blank" rel="external nofollow noopener noreferrer">https://github.com/reactjs/redux</a></p>
<h4 id="712-redux是什么">7.1.2. redux是什么</h4>
<p>1.redux是一个专门用于做状态管理的JS库(不是react插件库)。</p>
<p>2.它可以用在react, angular, vue等项目中, 但基本与react配合使用。</p>
<p>3.作用: 集中式管理react应用中多个组件共享的状态。</p>
<h4 id="713-什么情况下需要使用redux">7.1.3. 什么情况下需要使用redux</h4>
<p>1.某个组件的状态，需要让其他组件可以随时拿到（共享）。</p>
<p>2.一个组件需要改变另一个组件的状态（通信）。</p>
<p>3.总体原则：能不用就不用, 如果不用比较吃力才考虑使用。</p>
<h4 id="714-redux工作流程">7.1.4. redux工作流程</h4>
<p><img loading="lazy" src="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2420220919180629.png" srcset="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2420220919180629.png, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2420220919180629.png 1.5x, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2420220919180629.png 2x" sizes="auto" data-title="2420220919180629" data-alt="2420220919180629" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<h3 id="72-redux的三个核心概念">7.2. redux的三个核心概念</h3>
<h4 id="721-action">7.2.1. action</h4>
<p>1.动作的对象</p>
<p>2.包含2个属性</p>
<p>type：标识属性, 值为字符串, 唯一, 必要属性</p>
<p>data：数据属性, 值类型任意, 可选属性</p>
<p>3.例子：{ type: &lsquo;ADD_STUDENT&rsquo;,data:{name: &rsquo;tom&rsquo;,age:18} }</p>
<h4 id="722-reducer">7.2.2. reducer</h4>
<p>1.用于初始化状态、加工状态。</p>
<p>2.加工时，根据旧的state和action， 产生新的state的纯函数。</p>
<h4 id="723-store">7.2.3. store</h4>
<p>1.将state、action、reducer联系在一起的对象</p>
<p>2.如何得到此对象?</p>
<div class="highlight" id="id-23"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="mi">1</span><span class="p">)</span><span class="kr">import</span> <span class="p">{</span><span class="nx">createStore</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;redux&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mi">2</span><span class="p">)</span><span class="kr">import</span> <span class="nx">reducer</span> <span class="nx">from</span> <span class="s1">&#39;./reducers&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mi">3</span><span class="p">)</span><span class="kr">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nx">createStore</span><span class="p">(</span><span class="nx">reducer</span><span class="p">)</span></span></span></code></pre></div><p>3.此对象的功能?</p>
<p>1)getState(): 得到state</p>
<p>2)dispatch(action): 分发action, 触发reducer调用, 产生新的state</p>
<p>3)subscribe(listener): 注册监听, 当产生了新的state时, 自动调用</p>
<h3 id="73-redux的核心api">7.3. redux的核心API</h3>
<h4 id="731-createstore">7.3.1. createstore()</h4>
<p>作用：创建包含指定reducer的store对象</p>
<h4 id="732-store对象">7.3.2. store对象</h4>
<p>1.作用: redux库最核心的管理对象</p>
<p>2.它内部维护着:
1)state
2)reducer
3.核心方法:
1)getState()
2)dispatch(action)
3)subscribe(listener)
4.具体编码:
1)store.getState()
2)store.dispatch({type:&lsquo;INCREMENT&rsquo;, number})
3)store.subscribe(render)</p>
<h4 id="733-applymiddleware">7.3.3. applyMiddleware()</h4>
<p>作用：应用上基于redux的中间件(插件库)</p>
<h4 id="734-combinereducers">7.3.4. combineReducers()</h4>
<p>作用：合并多个reducer函数</p>
<h3 id="74-使用redux编写应用">7.4. 使用redux编写应用</h3>
<p>效果</p>
<p><img loading="lazy" src="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2520220919180643.gif" srcset="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2520220919180643.gif, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2520220919180643.gif 1.5x, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2520220919180643.gif 2x" sizes="auto" data-title="2520220919180643" data-alt="2520220919180643" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<h3 id="75-redux异步编程">7.5. redux异步编程</h3>
<h4 id="751理解">7.5.1理解：</h4>
<p>1.redux默认是不能进行异步处理的,</p>
<p>2.某些时候应用中需要在redux中执行异步任务(ajax, 定时器)</p>
<h4 id="752-使用异步中间件">7.5.2. 使用异步中间件</h4>
<p>npm install &ndash;save redux-thunk</p>
<h3 id="76-react-redux">7.6. react-redux</h3>
<h4 id="761-理解">7.6.1. 理解</h4>
<p>1.一个react插件库</p>
<p>2.专门用来简化react应用中使用redux</p>
<p>7.6.2. react-Redux将所有组件分成两大类</p>
<p>1.UI组件</p>
<p>1)只负责 UI 的呈现，不带有任何业务逻辑</p>
<p>2)通过props接收数据(一般数据和函数)</p>
<p>3)不使用任何 Redux 的 API</p>
<p>4)一般保存在components文件夹下</p>
<p>2.容器组件</p>
<p>1)负责管理数据和业务逻辑，不负责UI的呈现</p>
<p>2)使用 Redux 的 API</p>
<p>3)一般保存在containers文件夹下</p>
<h4 id="763-相关api">7.6.3. 相关API</h4>
<p>1.Provider：让所有组件都可以得到state数据</p>
<div class="highlight" id="id-24"><pre tabindex="0" class="chroma"><code class="language-react" data-lang="react"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">Provider</span> <span class="na">store</span><span class="o">=</span><span class="p">{</span><span class="nx">store</span><span class="p">}&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">App</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">Provider</span><span class="p">&gt;</span></span></span></code></pre></div><p>2.connect：用于包装 UI 组件生成容器组件</p>
<div class="highlight" id="id-25"><pre tabindex="0" class="chroma"><code class="language-react" data-lang="react"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">connect</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-redux&#39;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">connect</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="nx">mapStateToprops</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">mapDispatchToProps</span>
</span></span><span class="line"><span class="cl">  <span class="p">)(</span><span class="nx">Counter</span><span class="p">)</span></span></span></code></pre></div><p>3.mapStateToprops：将外部的数据（即state对象）转换为UI组件的标签属性</p>
<div class="highlight" id="id-26"><pre tabindex="0" class="chroma"><code class="language-react" data-lang="react"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">mapStateToprops</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">value</span><span class="o">:</span> <span class="nx">state</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div><p>4.mapDispatchToProps：将分发action的函数转换为UI组件的标签属性</p>
<h3 id="77-使用上redux调试工具">7.7. 使用上redux调试工具</h3>
<h4 id="771-安装chrome浏览器插件">7.7.1. 安装chrome浏览器插件</h4>
<p><img loading="lazy" src="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2620220919180653.png" srcset="https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2620220919180653.png, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2620220919180653.png 1.5x, https://yuan-halo.oss-cn-beijing.aliyuncs.com/blog/2620220919180653.png 2x" sizes="auto" data-title="2620220919180653" data-alt="2620220919180653" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<h4 id="772-下载工具依赖包">7.7.2. 下载工具依赖包</h4>
<pre tabindex="0"><code>npm install --save-dev redux-devtools-extension</code></pre><h3 id="78-纯函数和高阶函数">7.8. 纯函数和高阶函数</h3>
<h4 id="781-纯函数">7.8.1. 纯函数</h4>
<p>1.一类特别的函数: 只要是同样的输入(实参)，必定得到同样的输出(返回)</p>
<p>2.必须遵守以下一些约束</p>
<p>1)不得改写参数数据</p>
<p>2)不会产生任何副作用，例如网络请求，输入和输出设备</p>
<p>3)不能调用Date.now()或者Math.random()等不纯的方法</p>
<p>3.redux的reducer函数必须是一个纯函数</p>
<h4 id="782-高阶函数">7.8.2. 高阶函数</h4>
<p>1.理解: 一类特别的函数</p>
<p>1)情况1: 参数是函数</p>
<p>2)情况2: 返回是函数</p>
<p>2.常见的高阶函数:</p>
<p>1)定时器设置函数</p>
<p>2)数组的forEach()/map()/filter()/reduce()/find()/bind()</p>
<p>3)promise</p>
<p>4)react-redux中的connect函数</p>
<p>3.作用: 能实现更加动态, 更加可扩展的功能</p>
<p>我的博客即将同步至腾讯云开发者社区，邀请大家一同入驻：https://cloud.tencent.com/developer/support-plan?invite_code=22332jx818lc4</p>
</div><div class="post-footer" id="post-footer">
  <div class="post-info">
    <div class="post-info-line">
      <div class="post-info-mod">
        <span title="更新于 2022-09-19 18:08:13">更新于 2022-09-19&nbsp;</span>
      </div><div class="post-info-license">
          <span><a rel="license external nofollow noopener noreferrer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span>
        </div></div>
    <div class="post-info-line">
      <div class="post-info-md"></div>
      <div class="post-info-share">
        <span><a href="javascript:void(0);" title="分享到 Twitter" data-sharer="twitter" data-url="http://yuanshuai1122.github.io/posts/%E4%B8%80%E6%96%87%E5%85%A5%E9%97%A8react%E5%85%A8%E5%AE%B6%E6%A1%B6-yi-wen-ru-men-react-quan-jia-tong/" data-title="一文入门react全家桶" data-hashtags="react"><i class="fa-brands fa-twitter fa-fw" aria-hidden="true"></i></a>
  <a href="javascript:void(0);" title="分享到 Facebook" data-sharer="facebook" data-url="http://yuanshuai1122.github.io/posts/%E4%B8%80%E6%96%87%E5%85%A5%E9%97%A8react%E5%85%A8%E5%AE%B6%E6%A1%B6-yi-wen-ru-men-react-quan-jia-tong/" data-hashtag="react"><i class="fa-brands fa-facebook-square fa-fw" aria-hidden="true"></i></a>
  <a href="javascript:void(0);" title="分享到 微博" data-sharer="weibo" data-url="http://yuanshuai1122.github.io/posts/%E4%B8%80%E6%96%87%E5%85%A5%E9%97%A8react%E5%85%A8%E5%AE%B6%E6%A1%B6-yi-wen-ru-men-react-quan-jia-tong/" data-title="一文入门react全家桶"><i class="fa-brands fa-weibo fa-fw" aria-hidden="true"></i></a>
  </span>
      </div>
    </div>
  </div>

  <div class="post-info-more">
    <section class="post-tags"><i class="fa-solid fa-tags fa-fw me-1" aria-hidden="true"></i><a href='/tags/react/' class="post-tag">react</a></section>
    <section>
      <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
    </section>
  </div>

  <div class="post-nav"><a href="/posts/%E6%AD%BB%E7%A3%95juc%E5%85%ADcas-si-ke-juc-liu-cas/" class="post-nav-item" rel="prev" title="死磕juc（六）CAS"><i class="fa-solid fa-angle-left fa-fw" aria-hidden="true"></i>死磕juc（六）CAS</a>
      <a href="/posts/kubernetes%E5%B0%9D%E9%B2%9C-%E9%83%A8%E7%BD%B2nginx%E6%9C%8D%E5%8A%A1/" class="post-nav-item" rel="next" title="Kubernetes尝鲜-部署nginx服务">Kubernetes尝鲜-部署nginx服务<i class="fa-solid fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></main><footer class="footer">
    <div class="footer-container"><div class="footer-line powered">由 <a href="https://gohugo.io/" target="_blank" rel="external nofollow noopener noreferrer" title="Hugo 0.119.0">Hugo</a> 强力驱动 | 主题 - <a href="https://github.com/hugo-fixit/FixIt" target="_blank" rel="external" title="FixIt v0.2.18-lts.2"><img class="fixit-icon" src="/fixit.min.svg" alt="FixIt logo" />&nbsp;FixIt</a>
        </div><div class="footer-line copyright" itemscope itemtype="http://schema.org/CreativeWork"><i class="fa-regular fa-copyright fa-fw" aria-hidden="true"></i>
            <span itemprop="copyrightYear">2023</span><span class="author" itemprop="copyrightHolder">
              <a href="/"></a></span></div><div class="footer-line statistics"></div></div>
  </footer></div><div class="widgets"><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role="button" aria-label="回到顶部"><i class="fa-solid fa-arrow-up fa-fw" aria-hidden="true"></i><span class="variant-numeric d-none">0%</span>
        </div></div><div id="mask"></div><noscript>
    <div class="noscript-warning">FixIt 主题在启用 JavaScript 的情况下效果最佳。</div>
  </noscript>
</div><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.css"><script src="/lib/sharer/sharer.min.js" async defer></script><script src="/lib/katex/katex.min.js" defer></script><script src="/lib/katex/auto-render.min.js" defer></script><script src="/lib/katex/copy-tex.min.js" defer></script><script src="/lib/katex/mhchem.min.js" defer></script><script src="/lib/cookieconsent/cookieconsent.min.js" defer></script><script>window.config={"code":{"copyTitle":"复制到剪贴板","editLockTitle":"锁定可编辑代码块","editUnLockTitle":"解锁可编辑代码块","editable":true,"maxShownLines":10},"comment":{"enable":false},"cookieconsent":{"content":{"dismiss":"同意","link":"了解更多","message":"本网站使用 Cookies 来改善您的浏览体验。"},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":true,"left":"\\begin{equation}","right":"\\end{equation}"},{"display":true,"left":"\\begin{equation*}","right":"\\end{equation*}"},{"display":true,"left":"\\begin{align}","right":"\\end{align}"},{"display":true,"left":"\\begin{align*}","right":"\\end{align*}"},{"display":true,"left":"\\begin{alignat}","right":"\\end{alignat}"},{"display":true,"left":"\\begin{alignat*}","right":"\\end{alignat*}"},{"display":true,"left":"\\begin{gather}","right":"\\end{gather}"},{"display":true,"left":"\\begin{CD}","right":"\\end{CD}"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false}};</script><script src="/js/theme.min.js" defer></script></body>
</html>
