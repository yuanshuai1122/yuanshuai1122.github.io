<!DOCTYPE html>
<html class="js no-touch  progressive-image  no-reduced-motion progressive" lang="zh-hans">
  <head>
    <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="icon" href="/img/favicon.ico">

    <meta name="keyword" content=""><meta property="og:title" content="SpringBoot2æ ¸å¿ƒæŠ€æœ¯-æ•°æ®è®¿é—®" />
<meta property="og:description" content="&mdash;&mdash;&mdash;- | &mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;- | | default | com.alibaba.druid.filter.stat.StatFilter | | stat | com.alibaba.druid.filter.stat.StatFilter | | mergeStat | com.alibaba.druid.filter.stat.MergeStatFilter | | encoding | com.alibaba.druid.filter.encoding.EncodingConvertFilter | | log4j | com.alibaba.druid.filter.logging.Log4jFilter | | log4j2 | com.alibaba.druid.filter.logging.Log4j2Filter | | slf4j | com.alibaba.druid.filter.logging.Slf4jLogFilter | | commonlogging | com.alibaba.druid.filter.logging.CommonsLogFilter | æ…¢SQLè®°å½•é…ç½® &lt;bean id=&#34;stat-filter&#34; class=&#34;com.alibaba.druid.filter.stat.StatFilter&#34;&gt; &lt;property name=&#34;slowSqlMillis&#34; value=&#34;10000&#34; /&gt; &lt;property name=&#34;logSlowSql&#34; value=&#34;true&#34; /&gt; &lt;/bean&gt; ä½¿ç”¨ slowSqlMillis å®šä¹‰æ…¢" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://yuanshuai1122.github.io/posts/springboot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE-springboot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-11-26T21:32:58+00:00" />
<meta property="article:modified_time" content="2021-11-26T21:32:58+00:00" />
<title>SpringBoot2æ ¸å¿ƒæŠ€æœ¯-æ•°æ®è®¿é—®</title>

    <link rel="canonical" href="/posts/springboot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE-springboot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE/">

    <link rel="stylesheet" href="/css/global.css">

    <link rel="stylesheet" href="/css/custom.css">

    <link rel="stylesheet" href="/css/search.css" />

    
    

    
    

</head>
  </head>
  <body class=" page-article   ">
    <header>
      <nav class="nav">
  <div class="nav-wrapper">
    <div class="nav-content-wrapper">
      <div class="nav-content">
        <a href="/ " class="nav-title">ğŸ§€</a>
        <div class="nav-menu">
          <div class="nav-item-wrapper">
            <a href="/posts " class="nav-item-content">ç›®å½•</a>
          </div><div class="nav-item-wrapper">
            <a href="/about" class="nav-item-content">å…³äº</a>
          </div><div class="nav-item-wrapper">
            <a href="/index.xml" class="nav-item-content" target="_blank">RSS</a>
          </div></div>
      </div>
    </div>
  </div>
</nav>

<script>
  function toggleSearchModal(){
    const template = `
    <div class="modal-body">
      <div id="autocomplete" onclick="event.stopPropagation();"></div>
    </div>
    `
    const modal = document.querySelector("#modal-wrapper")
    if(!modal){
      const div = document.createElement("div")
      document.body.setAttribute("style","overflow: hidden;")
      div.setAttribute("id", "modal-wrapper")
      div.setAttribute("onclick", "toggleSearchModal()")
      div.innerHTML = template
      const script = document.createElement("script");script.setAttribute("src", "https://yuanshuai1122.github.io/js/algolia.js")
      div.appendChild(script)
      document.body.append(div)
    } else {
      document.body.removeAttribute("style")
      document.body.removeChild(modal)
    }
  }
</script>
    </header>
    
  
  
  <main id="main" class="main">
      <section>
        <article class="article">
          
          <div class=" article-header ">
            <div class="category component">
              <div class="component-content">
                <div class="category-eyebrow">
                  <span class="category-eyebrow__category category_original">
                    
                      
                        Java
                      
                    
                  </span>
                  <span class="category-eyebrow__date">2021å¹´11æœˆ26æ—¥</span>
                </div>
              </div>
            </div>
            <div class="pagetitle component">
              <div class="component-content">
                <h1 class="hero-headline">SpringBoot2æ ¸å¿ƒæŠ€æœ¯-æ•°æ®è®¿é—®</h1>
              </div>
            </div>
            <div class="component  article-subhead ">
              <div class="component-content"></div>
            </div>

            <div class="tagssheet component">
              <div class="component-content">
                
                  
                  <a href="/tags/java" class="tag">
                    Java
                  </a>
                
                  
                  <a href="/tags/springboot" class="tag">
                    SpringBoot
                  </a>
                
              </div>
            </div>
          </div>
          
          <div class="pagebody">
            
            
            
            
            
            
            
            
            <p class="component-content component">&mdash;&mdash;&mdash;- | &mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;- |
| default       | com.alibaba.druid.filter.stat.StatFilter                |
| stat          | com.alibaba.druid.filter.stat.StatFilter                |
| mergeStat     | com.alibaba.druid.filter.stat.MergeStatFilter           |
| encoding      | com.alibaba.druid.filter.encoding.EncodingConvertFilter |
| log4j         | com.alibaba.druid.filter.logging.Log4jFilter            |
| log4j2        | com.alibaba.druid.filter.logging.Log4j2Filter           |
| slf4j         | com.alibaba.druid.filter.logging.Slf4jLogFilter         |
| commonlogging | com.alibaba.druid.filter.logging.CommonsLogFilter       |</p>
<p class="component-content component"><strong>æ…¢SQLè®°å½•é…ç½®</strong></p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;bean</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;stat-filter&#34;</span> <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;com.alibaba.druid.filter.stat.StatFilter&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;slowSqlMillis&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;10000&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;logSlowSql&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;true&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/bean&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ä½¿ç”¨ slowSqlMillis å®šä¹‰æ…¢SQLçš„æ—¶é•¿</span></span></code></pre></div></div>
  
</div>
<div class="component-content pagebody component">
  <h3 id="3ä½¿ç”¨å®˜æ–¹starteræ–¹å¼" class="pagebody-header">
    3ã€ä½¿ç”¨å®˜æ–¹starteræ–¹å¼
  </h3>
</div>
<div class="component-content pagebody component">
  <h4 id="1å¼•å…¥druid-starter" class="pagebody-header">
    1ã€å¼•å…¥druid-starter
  </h4>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>        <span style="color:#f92672">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;groupId&gt;</span>com.alibaba<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;artifactId&gt;</span>druid-spring-boot-starter<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;version&gt;</span>1.1.17<span style="color:#f92672">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/dependency&gt;</span></span></span></code></pre></div></div>
  
</div>
<div class="component-content pagebody component">
  <h4 id="2åˆ†æè‡ªåŠ¨é…ç½®" class="pagebody-header">
    2ã€åˆ†æè‡ªåŠ¨é…ç½®
  </h4>
</div><div class="component-content component"><ul>
<li>æ‰©å±•é…ç½®é¡¹ <strong>spring.datasource.druid</strong></li>
<li>DruidSpringAopConfiguration.<strong>class</strong>,  ç›‘æ§SpringBeançš„ï¼›é…ç½®é¡¹ï¼š<strong>spring.datasource.druid.aop-patterns</strong></li>
<li>DruidStatViewServletConfiguration.<strong>class</strong>, ç›‘æ§é¡µçš„é…ç½®ï¼š<strong>spring.datasource.druid.stat-view-servletï¼›é»˜è®¤å¼€å¯</strong></li>
<li>DruidWebStatFilterConfiguration.<strong>class</strong>, webç›‘æ§é…ç½®ï¼›<strong>spring.datasource.druid.web-stat-filterï¼›é»˜è®¤å¼€å¯</strong></li>
<li>DruidFilterConfiguration.<strong>class</strong>}) æ‰€æœ‰Druidè‡ªå·±filterçš„é…ç½®</li>
</ul></div>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String FILTER_STAT_PREFIX <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;spring.datasource.druid.filter.stat&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String FILTER_CONFIG_PREFIX <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;spring.datasource.druid.filter.config&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String FILTER_ENCODING_PREFIX <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;spring.datasource.druid.filter.encoding&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String FILTER_SLF4J_PREFIX <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;spring.datasource.druid.filter.slf4j&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String FILTER_LOG4J_PREFIX <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;spring.datasource.druid.filter.log4j&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String FILTER_LOG4J2_PREFIX <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;spring.datasource.druid.filter.log4j2&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String FILTER_COMMONS_LOG_PREFIX <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;spring.datasource.druid.filter.commons-log&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String FILTER_WALL_PREFIX <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;spring.datasource.druid.filter.wall&#34;</span><span style="color:#f92672">;</span></span></span></code></pre></div></div>
  
</div>
<div class="component-content pagebody component">
  <h4 id="3é…ç½®ç¤ºä¾‹" class="pagebody-header">
    3ã€é…ç½®ç¤ºä¾‹
  </h4>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#f92672">spring</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">datasource</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">url</span>: <span style="color:#ae81ff">jdbc:mysql://localhost:3306/db_account</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">username</span>: <span style="color:#ae81ff">root</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">password</span>: <span style="color:#ae81ff">123456</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">driver-class-name</span>: <span style="color:#ae81ff">com.mysql.jdbc.Driver</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">druid</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">aop-patterns</span>: <span style="color:#ae81ff">com.atguigu.admin.* </span> <span style="color:#75715e">#ç›‘æ§SpringBean</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">filters</span>: <span style="color:#ae81ff">stat,wall    </span> <span style="color:#75715e"># åº•å±‚å¼€å¯åŠŸèƒ½ï¼Œstatï¼ˆsqlç›‘æ§ï¼‰ï¼Œwallï¼ˆé˜²ç«å¢™ï¼‰</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">stat-view-servlet</span>:   <span style="color:#75715e"># é…ç½®ç›‘æ§é¡µåŠŸèƒ½</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">enabled</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">login-username</span>: <span style="color:#ae81ff">admin</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">login-password</span>: <span style="color:#ae81ff">admin</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">resetEnable</span>: <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">web-stat-filter</span>:  <span style="color:#75715e"># ç›‘æ§web</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">enabled</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">urlPattern</span>: <span style="color:#ae81ff">/*</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">exclusions</span>: <span style="color:#e6db74">&#39;*.js,*.gif,*.jpg,*.png,*.css,*.ico,/druid/*&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">filter</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">stat</span>:    <span style="color:#75715e"># å¯¹ä¸Šé¢filtersé‡Œé¢çš„statçš„è¯¦ç»†é…ç½®</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">slow-sql-millis</span>: <span style="color:#ae81ff">1000</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">logSlowSql</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">enabled</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">wall</span>:
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">enabled</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">config</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">drop-table-allow</span>: <span style="color:#66d9ef">false</span></span></span></code></pre></div></div>
  
</div><p class="component-content component">SpringBooté…ç½®ç¤ºä¾‹</p>
<p class="component-content component"><a href="https://github.com/alibaba/druid/tree/master/druid-spring-boot-starter">https://github.com/alibaba/druid/tree/master/druid-spring-boot-starter</a></p>
<p class="component-content component">é…ç½®é¡¹åˆ—è¡¨<a href="https://github.com/alibaba/druid/wiki/DruidDataSource%E9%85%8D%E7%BD%AE%E5%B1%9E%E6%80%A7%E5%88%97%E8%A1%A8">https://github.com/alibaba/druid/wiki/DruidDataSource%E9%85%8D%E7%BD%AE%E5%B1%9E%E6%80%A7%E5%88%97%E8%A1%A8</a></p>

<div class="component-content pagebody component">
  <h2 id="3æ•´åˆmybatisæ“ä½œ" class="pagebody-header">
    3ã€æ•´åˆMyBatisæ“ä½œ
  </h2>
</div><p class="component-content component"><a href="https://github.com/mybatis">https://github.com/mybatis</a></p>
<p class="component-content component">starter</p>
<p class="component-content component">SpringBootå®˜æ–¹çš„Starterï¼šspring-boot-starter-*</p>
<p class="component-content component">ç¬¬ä¸‰æ–¹çš„ï¼š *-spring-boot-starter</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>        <span style="color:#f92672">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;groupId&gt;</span>org.mybatis.spring.boot<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;artifactId&gt;</span>mybatis-spring-boot-starter<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;version&gt;</span>2.1.4<span style="color:#f92672">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/dependency&gt;</span></span></span></code></pre></div></div>
  
</div><p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-45f3a852958a2c804572caf9a1d95b58" id="lht45f3a852958a2c804572caf9a1d95b58">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/springboot2.x/70.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>

<div class="component-content pagebody component">
  <h3 id="1é…ç½®æ¨¡å¼" class="pagebody-header">
    1ã€é…ç½®æ¨¡å¼
  </h3>
</div><div class="component-content component"><ul>
<li>å…¨å±€é…ç½®æ–‡ä»¶</li>
<li>SqlSessionFactory: è‡ªåŠ¨é…ç½®å¥½äº†</li>
<li>SqlSessionï¼šè‡ªåŠ¨é…ç½®äº† <strong>SqlSessionTemplate ç»„åˆäº†SqlSession</strong></li>
<li>@Import(<strong>AutoConfiguredMapperScannerRegistrar</strong>.<strong>class</strong>ï¼‰ï¼›</li>
<li>Mapperï¼š åªè¦æˆ‘ä»¬å†™çš„æ“ä½œMyBatisçš„æ¥å£æ ‡å‡†äº† <strong>@Mapper å°±ä¼šè¢«è‡ªåŠ¨æ‰«æè¿›æ¥</strong></li>
</ul></div>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@EnableConfigurationProperties</span><span style="color:#f92672">(</span>MybatisProperties<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">)</span> <span style="color:#960050;background-color:#1e0010">ï¼š</span> MyBatisé…ç½®é¡¹ç»‘å®šç±»<span style="color:#960050;background-color:#1e0010">ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@AutoConfigureAfter</span><span style="color:#f92672">({</span> DataSourceAutoConfiguration<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">,</span> MybatisLanguageDriverAutoConfiguration<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span> <span style="color:#f92672">})</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MybatisAutoConfiguration</span><span style="color:#f92672">{}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@ConfigurationProperties</span><span style="color:#f92672">(</span>prefix <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;mybatis&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MybatisProperties</span></span></span></code></pre></div></div>
  
</div><p class="component-content component">å¯ä»¥ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­ mybatis å¼€å§‹çš„æ‰€æœ‰ï¼›</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span># é…ç½®mybatisè§„åˆ™
</span></span><span style="display:flex;"><span>mybatis:
</span></span><span style="display:flex;"><span>  config-location: classpath:mybatis/mybatis-config.xml  #å…¨å±€é…ç½®æ–‡ä»¶ä½ç½®
</span></span><span style="display:flex;"><span>  mapper-locations: classpath:mybatis/mapper/*.xml  #sqlæ˜ å°„æ–‡ä»¶ä½ç½®
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>Mapperæ¥å£---&gt;ç»‘å®šXml
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; ?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!DOCTYPE mapper
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">        PUBLIC &#34;-//mybatis.org//DTD Mapper 3.0//EN&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">        &#34;http://mybatis.org/dtd/mybatis-3-mapper.dtd&#34;&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;mapper</span> <span style="color:#a6e22e">namespace=</span><span style="color:#e6db74">&#34;com.atguigu.admin.mapper.AccountMapper&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!--    public Account getAcct(Long id); --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;select</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;getAcct&#34;</span> <span style="color:#a6e22e">resultType=</span><span style="color:#e6db74">&#34;com.atguigu.admin.bean.Account&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        select * from  account_tbl where  id=#{id}
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/select&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/mapper&gt;</span></span></span></code></pre></div></div>
  
</div><p class="component-content component">é…ç½® <strong>private</strong> Configuration <strong>configuration</strong>; mybatis.<strong>configurationä¸‹é¢çš„æ‰€æœ‰ï¼Œå°±æ˜¯ç›¸å½“äºæ”¹mybatiså…¨å±€é…ç½®æ–‡ä»¶ä¸­çš„å€¼</strong></p>
<p class="component-content component">**
**</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#75715e"># é…ç½®mybatisè§„åˆ™</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">mybatis</span>:
</span></span><span style="display:flex;"><span><span style="color:#75715e">#  config-location: classpath:mybatis/mybatis-config.xml</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">mapper-locations</span>: <span style="color:#ae81ff">classpath:mybatis/mapper/*.xml</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">configuration</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">map-underscore-to-camel-case</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">å¯ä»¥ä¸å†™å…¨å±€ï¼›é…ç½®æ–‡ä»¶ï¼Œæ‰€æœ‰å…¨å±€é…ç½®æ–‡ä»¶çš„é…ç½®éƒ½æ”¾åœ¨configurationé…ç½®é¡¹ä¸­å³å¯</span></span></span></code></pre></div></div>
  
</div><div class="component-content component"><ul>
<li>å¯¼å…¥mybatiså®˜æ–¹starter</li>
<li>ç¼–å†™mapperæ¥å£ã€‚æ ‡å‡†@Mapperæ³¨è§£</li>
<li>ç¼–å†™sqlæ˜ å°„æ–‡ä»¶å¹¶ç»‘å®šmapperæ¥å£</li>
<li>åœ¨application.yamlä¸­æŒ‡å®šMapperé…ç½®æ–‡ä»¶çš„ä½ç½®ï¼Œä»¥åŠæŒ‡å®šå…¨å±€é…ç½®æ–‡ä»¶çš„ä¿¡æ¯ ï¼ˆå»ºè®®ï¼›<strong>é…ç½®åœ¨mybatis.configuration</strong>ï¼‰</li>
</ul></div>

<div class="component-content pagebody component">
  <h3 id="2æ³¨è§£æ¨¡å¼" class="pagebody-header">
    2ã€æ³¨è§£æ¨¡å¼
  </h3>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Mapper</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">CityMapper</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Select</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;select * from city where id=#{id}&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> City <span style="color:#a6e22e">getById</span><span style="color:#f92672">(</span>Long id<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">insert</span><span style="color:#f92672">(</span>City city<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div></div>
  
</div>
<div class="component-content pagebody component">
  <h3 id="3æ··åˆæ¨¡å¼" class="pagebody-header">
    3ã€æ··åˆæ¨¡å¼
  </h3>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Mapper</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">CityMapper</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Select</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;select * from city where id=#{id}&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> City <span style="color:#a6e22e">getById</span><span style="color:#f92672">(</span>Long id<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">insert</span><span style="color:#f92672">(</span>City city<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div></div>
  
</div><p class="component-content component"><strong>æœ€ä½³å®æˆ˜ï¼š</strong></p>
<div class="component-content component"><ul>
<li>å¼•å…¥mybatis-starter</li>
<li><strong>é…ç½®application.yamlä¸­ï¼ŒæŒ‡å®šmapper-locationä½ç½®å³å¯</strong></li>
<li>ç¼–å†™Mapperæ¥å£å¹¶æ ‡æ³¨@Mapperæ³¨è§£</li>
<li>ç®€å•æ–¹æ³•ç›´æ¥æ³¨è§£æ–¹å¼</li>
<li>å¤æ‚æ–¹æ³•ç¼–å†™mapper.xmlè¿›è¡Œç»‘å®šæ˜ å°„</li>
<li><em>@MapperScan(&ldquo;com.atguigu.admin.mapper&rdquo;) ç®€åŒ–ï¼Œå…¶ä»–çš„æ¥å£å°±å¯ä»¥ä¸ç”¨æ ‡æ³¨@Mapperæ³¨è§£</em></li>
</ul></div>

<div class="component-content pagebody component">
  <h2 id="4æ•´åˆ-mybatis-plus-å®Œæˆcrud" class="pagebody-header">
    4ã€æ•´åˆ MyBatis-Plus å®ŒæˆCRUD
  </h2>
</div>
<div class="component-content pagebody component">
  <h3 id="1ä»€ä¹ˆæ˜¯mybatis-plus" class="pagebody-header">
    1ã€ä»€ä¹ˆæ˜¯MyBatis-Plus
  </h3>
</div><p class="component-content component"><a href="https://github.com/baomidou/mybatis-plus">MyBatis-Plus</a>ï¼ˆç®€ç§° MPï¼‰æ˜¯ä¸€ä¸ª <a href="http://www.mybatis.org/mybatis-3/">MyBatis</a> çš„å¢å¼ºå·¥å…·ï¼Œåœ¨ MyBatis çš„åŸºç¡€ä¸Šåªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œä¸ºç®€åŒ–å¼€å‘ã€æé«˜æ•ˆç‡è€Œç”Ÿã€‚</p>
<p class="component-content component"><a href="https://baomidou.com/">mybatis plus å®˜ç½‘</a></p>
<p class="component-content component">å»ºè®®å®‰è£… <strong>MybatisX</strong> æ’ä»¶</p>

<div class="component-content pagebody component">
  <h3 id="2æ•´åˆmybatis-plus" class="pagebody-header">
    2ã€æ•´åˆMyBatis-Plus
  </h3>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>        <span style="color:#f92672">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;groupId&gt;</span>com.baomidou<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;artifactId&gt;</span>mybatis-plus-boot-starter<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;version&gt;</span>3.4.1<span style="color:#f92672">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/dependency&gt;</span></span></span></code></pre></div></div>
  
</div><p class="component-content component">è‡ªåŠ¨é…ç½®</p>
<div class="component-content component"><ul>
<li>MybatisPlusAutoConfiguration é…ç½®ç±»ï¼ŒMybatisPlusProperties é…ç½®é¡¹ç»‘å®šã€‚<strong>mybatis-plusï¼šxxx å°±æ˜¯å¯¹****mybatis-plusçš„å®šåˆ¶</strong></li>
<li><strong>SqlSessionFactory è‡ªåŠ¨é…ç½®å¥½ã€‚åº•å±‚æ˜¯å®¹å™¨ä¸­é»˜è®¤çš„æ•°æ®æº</strong></li>
<li>**mapperLocations è‡ªåŠ¨é…ç½®å¥½çš„ã€‚æœ‰é»˜è®¤å€¼ã€‚*<strong><em>classpath*:/mapper/*</em>/*.xmlï¼›ä»»æ„åŒ…çš„ç±»è·¯å¾„ä¸‹çš„æ‰€æœ‰mapperæ–‡ä»¶å¤¹ä¸‹ä»»æ„è·¯å¾„ä¸‹çš„æ‰€æœ‰xmléƒ½æ˜¯sqlæ˜ å°„æ–‡ä»¶ã€‚  å»ºè®®ä»¥åsqlæ˜ å°„æ–‡ä»¶ï¼Œæ”¾åœ¨ mapperä¸‹</strong></li>
<li><strong>å®¹å™¨ä¸­ä¹Ÿè‡ªåŠ¨é…ç½®å¥½äº†</strong> <strong>SqlSessionTemplate</strong></li>
<li><strong>@Mapper æ ‡æ³¨çš„æ¥å£ä¹Ÿä¼šè¢«è‡ªåŠ¨æ‰«æï¼›å»ºè®®ç›´æ¥</strong> @MapperScan(<strong>&ldquo;com.atguigu.admin.mapper&rdquo;</strong>) æ‰¹é‡æ‰«æå°±è¡Œ</li>
</ul></div>
<p class="component-content component"><strong>ä¼˜ç‚¹ï¼š</strong></p>
<div class="component-content component"><ul>
<li>åªéœ€è¦æˆ‘ä»¬çš„Mapperç»§æ‰¿ <strong>BaseMapper</strong> å°±å¯ä»¥æ‹¥æœ‰crudèƒ½åŠ›</li>
</ul></div>

<div class="component-content pagebody component">
  <h3 id="3crudåŠŸèƒ½" class="pagebody-header">
    3ã€CRUDåŠŸèƒ½
  </h3>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#a6e22e">@GetMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/user/delete/{id}&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">deleteUser</span><span style="color:#f92672">(</span><span style="color:#a6e22e">@PathVariable</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">)</span> Long id<span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>                             <span style="color:#a6e22e">@RequestParam</span><span style="color:#f92672">(</span>value <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;pn&#34;</span><span style="color:#f92672">,</span>defaultValue <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">)</span>Integer pn<span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>                             RedirectAttributes ra<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        userService<span style="color:#f92672">.</span><span style="color:#a6e22e">removeById</span><span style="color:#f92672">(</span>id<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        ra<span style="color:#f92672">.</span><span style="color:#a6e22e">addAttribute</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;pn&#34;</span><span style="color:#f92672">,</span>pn<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;redirect:/dynamic_table&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@GetMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/dynamic_table&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">dynamic_table</span><span style="color:#f92672">(</span><span style="color:#a6e22e">@RequestParam</span><span style="color:#f92672">(</span>value<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;pn&#34;</span><span style="color:#f92672">,</span>defaultValue <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">)</span> Integer pn<span style="color:#f92672">,</span>Model model<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//è¡¨æ ¼å†…å®¹çš„éå†
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//        response.sendError
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//     List&lt;User&gt; users = Arrays.asList(new User(&#34;zhangsan&#34;, &#34;123456&#34;),
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//                new User(&#34;lisi&#34;, &#34;123444&#34;),
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//                new User(&#34;haha&#34;, &#34;aaaaa&#34;),
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//                new User(&#34;hehe &#34;, &#34;aaddd&#34;));
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//        model.addAttribute(&#34;users&#34;,users);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//        if(users.size()&gt;3){
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//            throw new UserTooManyException();
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//        }
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">//ä»æ•°æ®åº“ä¸­æŸ¥å‡ºuserè¡¨ä¸­çš„ç”¨æˆ·è¿›è¡Œå±•ç¤º
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//æ„é€ åˆ†é¡µå‚æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Page<span style="color:#f92672">&lt;</span>User<span style="color:#f92672">&gt;</span> page <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Page<span style="color:#f92672">&lt;&gt;(</span>pn<span style="color:#f92672">,</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//è°ƒç”¨pageè¿›è¡Œåˆ†é¡µ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Page<span style="color:#f92672">&lt;</span>User<span style="color:#f92672">&gt;</span> userPage <span style="color:#f92672">=</span> userService<span style="color:#f92672">.</span><span style="color:#a6e22e">page</span><span style="color:#f92672">(</span>page<span style="color:#f92672">,</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//        userPage.getRecords()
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//        userPage.getCurrent()
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//        userPage.getPages()
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        model<span style="color:#f92672">.</span><span style="color:#a6e22e">addAttribute</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;users&#34;</span><span style="color:#f92672">,</span>userPage<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;table/dynamic_table&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span></span></span></code></pre></div></div>
  
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Service</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">UserServiceImpl</span> <span style="color:#66d9ef">extends</span> ServiceImpl<span style="color:#f92672">&lt;</span>UserMapper<span style="color:#f92672">,</span>User<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">implements</span> UserService <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">UserService</span> <span style="color:#66d9ef">extends</span> IService<span style="color:#f92672">&lt;</span>User<span style="color:#f92672">&gt;</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div></div>
  
</div>
<div class="component-content pagebody component">
  <h1 id="2nosql" class="pagebody-header">
    2ã€NoSQL
  </h1>
</div><p class="component-content component">Redis æ˜¯ä¸€ä¸ªå¼€æºï¼ˆBSDè®¸å¯ï¼‰çš„ï¼Œå†…å­˜ä¸­çš„æ•°æ®ç»“æ„å­˜å‚¨ç³»ç»Ÿï¼Œå®ƒå¯ä»¥ç”¨ä½œæ•°æ®åº“ã€<strong>ç¼“å­˜</strong>å’Œæ¶ˆæ¯ä¸­é—´ä»¶ã€‚ å®ƒæ”¯æŒå¤šç§ç±»å‹çš„æ•°æ®ç»“æ„ï¼Œå¦‚ <a href="http://www.redis.cn/topics/data-types-intro.html#strings">å­—ç¬¦ä¸²ï¼ˆstringsï¼‰</a>ï¼Œ <a href="http://www.redis.cn/topics/data-types-intro.html#hashes">æ•£åˆ—ï¼ˆhashesï¼‰</a>ï¼Œ <a href="http://www.redis.cn/topics/data-types-intro.html#lists">åˆ—è¡¨ï¼ˆlistsï¼‰</a>ï¼Œ <a href="http://www.redis.cn/topics/data-types-intro.html#sets">é›†åˆï¼ˆsetsï¼‰</a>ï¼Œ <a href="http://www.redis.cn/topics/data-types-intro.html#sorted-sets">æœ‰åºé›†åˆï¼ˆsorted setsï¼‰</a>ä¸èŒƒå›´æŸ¥è¯¢ï¼Œ <a href="http://www.redis.cn/topics/data-types-intro.html#bitmaps">bitmaps</a>ï¼Œ <a href="http://www.redis.cn/topics/data-types-intro.html#hyperloglogs">hyperloglogs</a> å’Œ <a href="http://www.redis.cn/commands/geoadd.html">åœ°ç†ç©ºé—´ï¼ˆgeospatialï¼‰</a> ç´¢å¼•åŠå¾„æŸ¥è¯¢ã€‚ Redis å†…ç½®äº† <a href="http://www.redis.cn/topics/replication.html">å¤åˆ¶ï¼ˆreplicationï¼‰</a>ï¼Œ<a href="http://www.redis.cn/commands/eval.html">LUAè„šæœ¬ï¼ˆLua scriptingï¼‰</a>ï¼Œ <a href="http://www.redis.cn/topics/lru-cache.html">LRUé©±åŠ¨äº‹ä»¶ï¼ˆLRU evictionï¼‰</a>ï¼Œ<a href="http://www.redis.cn/topics/transactions.html">äº‹åŠ¡ï¼ˆtransactionsï¼‰</a> å’Œä¸åŒçº§åˆ«çš„ <a href="http://www.redis.cn/topics/persistence.html">ç£ç›˜æŒä¹…åŒ–ï¼ˆpersistenceï¼‰</a>ï¼Œ å¹¶é€šè¿‡ <a href="http://www.redis.cn/topics/sentinel.html">Rediså“¨å…µï¼ˆSentinelï¼‰</a>å’Œè‡ªåŠ¨ <a href="http://www.redis.cn/topics/cluster-tutorial.html">åˆ†åŒºï¼ˆClusterï¼‰</a>æä¾›é«˜å¯ç”¨æ€§ï¼ˆhigh availabilityï¼‰ã€‚</p>

<div class="component-content pagebody component">
  <h2 id="1redisè‡ªåŠ¨é…ç½®" class="pagebody-header">
    1ã€Redisè‡ªåŠ¨é…ç½®
  </h2>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>        <span style="color:#f92672">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;artifactId&gt;</span>spring-boot-starter-data-redis<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/dependency&gt;</span></span></span></code></pre></div></div>
  
</div><p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-737ea15fe63080608e0140706b95c4b4" id="lht737ea15fe63080608e0140706b95c4b4">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/springboot2.x/71.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>
<p class="component-content component">è‡ªåŠ¨é…ç½®ï¼š</p>
<div class="component-content component"><ul>
<li>RedisAutoConfiguration è‡ªåŠ¨é…ç½®ç±»ã€‚RedisProperties å±æ€§ç±» &ndash;&gt; <strong>spring.redis.xxxæ˜¯å¯¹redisçš„é…ç½®</strong></li>
<li>è¿æ¥å·¥å‚æ˜¯å‡†å¤‡å¥½çš„ã€‚<strong>Lettuce</strong>ConnectionConfigurationã€<strong>Jedis</strong>ConnectionConfiguration</li>
<li><strong>è‡ªåŠ¨æ³¨å…¥äº†RedisTemplate</strong>&lt;<strong>Object</strong>, <strong>Object</strong>&gt; ï¼š xxxTemplateï¼›</li>
<li><strong>è‡ªåŠ¨æ³¨å…¥äº†StringRedisTemplateï¼›kï¼švéƒ½æ˜¯String</strong></li>
<li><strong>keyï¼švalue</strong></li>
<li><strong>åº•å±‚åªè¦æˆ‘ä»¬ä½¿ç”¨</strong> **StringRedisTemplateã€**<strong>RedisTemplateå°±å¯ä»¥æ“ä½œredis</strong></li>
</ul></div>
<p class="component-content component"><strong>redisç¯å¢ƒæ­å»º</strong></p>
<p class="component-content component"><strong>1ã€é˜¿é‡Œäº‘æŒ‰é‡ä»˜è´¹redisã€‚ç»å…¸ç½‘ç»œ</strong></p>
<p class="component-content component"><strong>2ã€ç”³è¯·redisçš„å…¬ç½‘è¿æ¥åœ°å€</strong></p>
<p class="component-content component"><strong>3ã€ä¿®æ”¹ç™½åå•  å…è®¸0.0.0.0/0 è®¿é—®</strong></p>

<div class="component-content pagebody component">
  <h2 id="2redistemplateä¸lettuce" class="pagebody-header">
    2ã€RedisTemplateä¸Lettuce
  </h2>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#a6e22e">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">testRedis</span><span style="color:#f92672">(){</span>
</span></span><span style="display:flex;"><span>        ValueOperations<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> String<span style="color:#f92672">&gt;</span> operations <span style="color:#f92672">=</span> redisTemplate<span style="color:#f92672">.</span><span style="color:#a6e22e">opsForValue</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        operations<span style="color:#f92672">.</span><span style="color:#a6e22e">set</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;hello&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;world&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        String hello <span style="color:#f92672">=</span> operations<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;hello&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>hello<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span></span></span></code></pre></div></div>
  
</div>
<div class="component-content pagebody component">
  <h2 id="3åˆ‡æ¢è‡³jedis" class="pagebody-header">
    3ã€åˆ‡æ¢è‡³jedis
  </h2>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>        <span style="color:#f92672">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;artifactId&gt;</span>spring-boot-starter-data-redis<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!--        å¯¼å…¥jedis--&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;groupId&gt;</span>redis.clients<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;artifactId&gt;</span>jedis<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>spring:
</span></span><span style="display:flex;"><span>  redis:
</span></span><span style="display:flex;"><span>      host: r-bp1nc7reqesxisgxpipd.redis.rds.aliyuncs.com
</span></span><span style="display:flex;"><span>      port: 6379
</span></span><span style="display:flex;"><span>      password: lfy:Lfy123456
</span></span><span style="display:flex;"><span>      client-type: jedis
</span></span><span style="display:flex;"><span>      jedis:
</span></span><span style="display:flex;"><span>        pool:
</span></span><span style="display:flex;"><span>          max-active: 10</span></span></code></pre></div></div>
  
</div>
          </div><div class="component">
            <div class="component-content">
              <div class="article-copyright">
                <p class="content">
                  ç‰ˆæƒå£°æ˜: <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed" target="_blank">ç‰ˆæƒå£°æ˜ï¼šç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™… (CC BY-NC-SA 4.0)</a>
                </p>
                <p class="content">ä½œè€…:  yuanshuai </p>
                <p class="content">å‘è¡¨æ—¥æœŸ:  2021å¹´11æœˆ26æ—¥</p>
              </div>
            </div>
          </div></article>
      </section>
  </main>

  <script>
    var script = document.createElement("script");script.src = "https://yuanshuai1122.github.io/js/initPost.js";
    document.head.appendChild(script);
  </script>

    
    <div class="footer-main ">
  <div class="content-body footer-wraper">
    <div class="footer-box">
      <div class="foot-nav">
        <div class="foot-nav-items">
          <div class="item">
            <div class="logo"></div>
            <div class="email">Email: <a href="mailto:shuaiyuan@gmail.com">shuaiyuan@gmail.com</a></div>
          </div>

          <div class="item community">
            <div class="item-title">ç¤¾äº¤åª’ä½“</div>
            
              <a href="https://github.com/yuanshuai1122" target="_blank">Github</a>
            
          </div>

          <div class="item resources">
            <div class="item-title">å‹é“¾</div>
            
              <a href="https://yuanshuaicn.com/" target="_blank">ğŸ‘‹</a>
            
          </div>
        </div>
      </div>
      <div class="bottom">
        <div class="item copyright">
          &copy; 2023
          Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a> & <a href="https://github.com/floyd-li/hugo-theme-itheme" target="_blank">iTheme</a>
        </div>
      </div>
    </div>
  </div>
</div>

  </body>
    
    

    
    
</html>
