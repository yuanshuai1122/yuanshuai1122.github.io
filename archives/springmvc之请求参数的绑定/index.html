<!DOCTYPE html>
<html class="js no-touch  progressive-image  no-reduced-motion progressive" lang="en">
  <head>
    <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="icon" href="/img/favicon.ico">

    <meta name="keyword" content=""><meta property="og:title" content="SpringMVC之请求参数的绑定" />
<meta property="og:description" content="请求参数的绑定 1、绑定说明 1.1 绑定的机制 我们都知道，表单中请求参数都是基于 key=value 的。 SpringMVC 绑定请求参数的过程是通过把表单提交请求参数，作为控制器中方法" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://yuanshuai1122.github.io/archives/springmvc%E4%B9%8B%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E7%9A%84%E7%BB%91%E5%AE%9A/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-11-26T21:32:24+00:00" />
<meta property="article:modified_time" content="2021-11-26T21:32:24+00:00" />
<title>SpringMVC之请求参数的绑定</title>

    <link rel="canonical" href="/archives/springmvc%E4%B9%8B%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E7%9A%84%E7%BB%91%E5%AE%9A/">

    <link rel="stylesheet" href="/css/global.css">

    <link rel="stylesheet" href="/css/custom.css">

    <link rel="stylesheet" href="/css/search.css" />

    
    

    
    

</head>
  </head>
  <body class=" page-article   ">
    <header>
      <nav class="nav">
  <div class="nav-wrapper">
    <div class="nav-content-wrapper">
      <div class="nav-content">
        <a href="/ " class="nav-title">iTheme</a>
        <div class="nav-menu">
          <div class="nav-item-wrapper">
            <a href="/posts " class="nav-item-content">Articles</a>
          </div><div class="nav-item-wrapper">
            <a href="/about" class="nav-item-content">About</a>
          </div><div class="nav-item-wrapper">
            <a href="/index.xml" class="nav-item-content" target="_blank">RSS</a>
          </div></div>
      </div>
    </div>
  </div>
</nav>

<script>
  function toggleSearchModal(){
    const template = `
    <div class="modal-body">
      <div id="autocomplete" onclick="event.stopPropagation();"></div>
    </div>
    `
    const modal = document.querySelector("#modal-wrapper")
    if(!modal){
      const div = document.createElement("div")
      document.body.setAttribute("style","overflow: hidden;")
      div.setAttribute("id", "modal-wrapper")
      div.setAttribute("onclick", "toggleSearchModal()")
      div.innerHTML = template
      const script = document.createElement("script");script.setAttribute("src", "https://yuanshuai1122.github.io/js/algolia.js")
      div.appendChild(script)
      document.body.append(div)
    } else {
      document.body.removeAttribute("style")
      document.body.removeChild(modal)
    }
  }
</script>
    </header>
    
  
  
  <main id="main" class="main">
      <section>
        <article class="article">
          
          <div class=" article-header ">
            <div class="category component">
              <div class="component-content">
                <div class="category-eyebrow">
                  <span class="category-eyebrow__category category_original">
                    
                      
                        Java
                      
                    
                  </span>
                  <span class="category-eyebrow__date">November 26, 2021</span>
                </div>
              </div>
            </div>
            <div class="pagetitle component">
              <div class="component-content">
                <h1 class="hero-headline">SpringMVC之请求参数的绑定</h1>
              </div>
            </div>
            <div class="component  article-subhead ">
              <div class="component-content"></div>
            </div>

            <div class="tagssheet component">
              <div class="component-content">
                
                  
                  <a href="/tags/java" class="tag">
                    Java
                  </a>
                
                  
                  <a href="/tags/springmvc" class="tag">
                    SpringMVC
                  </a>
                
              </div>
            </div>
          </div>
          
          <div class="pagebody">
            
            
            
            
            
            
            
            
            
<div class="component-content pagebody component">
  <h1 id="请求参数的绑定" class="pagebody-header">
    请求参数的绑定
  </h1>
</div>
<div class="component-content pagebody component">
  <h2 id="1绑定说明" class="pagebody-header">
    1、绑定说明
  </h2>
</div>
<div class="component-content pagebody component">
  <h3 id="11-绑定的机制" class="pagebody-header">
    1.1 绑定的机制
  </h3>
</div><p class="component-content component">我们都知道，表单中请求参数都是基于 key=value 的。</p>
<p class="component-content component">SpringMVC 绑定请求参数的过程是通过把表单提交请求参数，作为控制器中方法参数进行绑定的。</p>
<p class="component-content component">例如:</p>
<div class="component-content pagebody component code">
  
  
  
  <pre><code class="">&lt;a href=&#34;account/findAccount?accountId=10&#34;&gt;查询账户&lt;/a&gt;</code></pre>
  
</div><p class="component-content component">中请求参数是:</p>
<div class="component-content pagebody component code">
  
  
  
  <pre><code class="">accountId=10</code></pre>
  
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 查询账户 * @return
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/findAccount&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">findAccount</span><span style="color:#f92672">(</span>Integer accountId<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;查询了账户。。。。&#34;</span><span style="color:#f92672">+</span>accountId<span style="color:#f92672">);</span><span style="color:#66d9ef">return</span><span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span></span></span></code></pre></div></div>
  
</div>
<div class="component-content pagebody component">
  <h3 id="12-支持的数据类型" class="pagebody-header">
    1.2 支持的数据类型:
  </h3>
</div><p class="component-content component">基本类型参数:</p>
<div class="component-content component"><ul>
<li>包括基本类型和 String 类型</li>
</ul></div>
<p class="component-content component">POJO 类型参数:</p>
<div class="component-content component"><ul>
<li>包括实体类，以及关联的实体类</li>
</ul></div>
<p class="component-content component">数组和集合类型参数 :</p>
<div class="component-content component"><ul>
<li>包括 List 结构和 Map 结构的集合(包括数组)</li>
</ul></div>
<p class="component-content component"><strong>SpringMVC 绑定请求参数是自动实现的，但是要想使用，必须遵循使用要求。</strong></p>

<div class="component-content pagebody component">
  <h3 id="13-使用要求" class="pagebody-header">
    1.3 使用要求
  </h3>
</div><p class="component-content component">如果是基本类型或者 String 类型:</p>
<div class="component-content component"><ul>
<li>要求我们的参数名称必须和控制器中方法的形参名称保持一致。(严格区分大小写)</li>
</ul></div>
<p class="component-content component">如果是 POJO 类型，或者它的关联对象:</p>
<div class="component-content component"><ul>
<li>要求表单中参数名称和 POJO 类的属性名称保持一致。并且控制器方法的参数类型是 POJO 类型。</li>
</ul></div>
<p class="component-content component">如果是集合类型 ,有两种方式:</p>
<div class="component-content component"><ul>
<li>
<p class="component-content component">第一种:</p>
<div class="component-content component"><ul>
<li>要求集合类型的请求参数必须在 POJO 中。在表单中请求参数名称要和 POJO 中集合属性名称相同。</li>
<li>给 List 集合中的元素赋值，使用下标。</li>
<li>给 Map 集合中的元素赋值，使用键值对。</li>
</ul></div>
</li>
<li>
<p class="component-content component">第二种:</p>
<div class="component-content component"><ul>
<li>接收的请求参数是 json 格式数据。需要借助一个注解实现。</li>
</ul></div>
</li>
</ul></div>
<p class="component-content component">注意: 它还可以实现一些数据类型自动转换。内置转换器全都在:org.springframework.core.convert.support 包下。</p>
<p class="component-content component">有:</p>
<blockquote>
<p class="component-content component">java.lang.Boolean -&gt; java.lang.String : ObjectToStringConverter</p>
<p class="component-content component">java.lang.Character -&gt; java.lang.Number : CharacterToNumberFactory</p>
<p class="component-content component">java.lang.Character -&gt; java.lang.String : ObjectToStringConverter</p>
<p class="component-content component">java.lang.Enum -&gt; java.lang.String : EnumToStringConverter</p>
<p class="component-content component">java.lang.Number -&gt; java.lang.Character : NumberToCharacterConverter</p>
<p class="component-content component">java.lang.Number -&gt; java.lang.Number : NumberToNumberConverterFactory</p>
<p class="component-content component">java.lang.Number -&gt; java.lang.String : ObjectToStringConverter</p>
<p class="component-content component">java.lang.String -&gt; java.lang.Boolean : StringToBooleanConverter</p>
<p class="component-content component">java.lang.String -&gt; java.lang.Character : StringToCharacterConverter</p>
<p class="component-content component">java.lang.String -&gt; java.lang.Enum : StringToEnumConverterFactory</p>
<p class="component-content component">java.lang.String -&gt; java.lang.Number : StringToNumberConverterFactory</p>
<p class="component-content component">java.lang.String -&gt; java.util.Locale : StringToLocaleConverter</p>
<p class="component-content component">java.lang.String -&gt; java.util.Properties : StringToPropertiesConverter</p>
<p class="component-content component">java.lang.String -&gt; java.util.UUID : StringToUUIDConverter</p>
<p class="component-content component">java.util.Locale -&gt; java.lang.String : ObjectToStringConverter</p>
<p class="component-content component">java.util.Properties -&gt; java.lang.String : PropertiesToStringConverter</p>
<p class="component-content component">java.util.UUID -&gt; java.lang.String : ObjectToStringConverter
&hellip;&hellip;</p>
<p class="component-content component">如遇特殊类型转换要求，需要我们自己编写自定义类型转换器。</p>
</blockquote>

<div class="component-content pagebody component">
  <h3 id="14-使用示例" class="pagebody-header">
    1.4 使用示例
  </h3>
</div>
<div class="component-content pagebody component">
  <h4 id="141-基本类型和-string-类型作为参数" class="pagebody-header">
    1.4.1 基本类型和 String 类型作为参数
  </h4>
</div><p class="component-content component">jsp 代码:</p>
<div class="component-content pagebody component code">
  
  
  
  <pre><code class="">&lt;!-- 基本类型示例 --&gt;
&lt;a href=&#34;account/findAccount?accountId=10&amp;accountName=zhangsan&#34;&gt;查询账户&lt;/a&gt;</code></pre>
  
</div><p class="component-content component">控制器代码:</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 查询账户 * @return
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/findAccount&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">findAccount</span><span style="color:#f92672">(</span>Integer accountId<span style="color:#f92672">,</span>String accountName<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;查询了账户。。。。&#34;</span><span style="color:#f92672">+</span>accountId<span style="color:#f92672">+</span><span style="color:#e6db74">&#34;,&#34;</span><span style="color:#f92672">+</span> accountName <span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span> 
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div></div>
  
</div><p class="component-content component">运行结果:</p>
<p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-46d28bf6f8f9a2370cebae5bd43f4cee" id="lht46d28bf6f8f9a2370cebae5bd43f4cee">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/springmvc/12.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>

<div class="component-content pagebody component">
  <h4 id="142-pojo-类型作为参数" class="pagebody-header">
    1.4.2 POJO 类型作为参数
  </h4>
</div><p class="component-content component">实体类代码:</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 账户信息
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Account</span> <span style="color:#66d9ef">implements</span> Serializable <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Integer id<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Float money<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Address address<span style="color:#f92672">;</span> <span style="color:#75715e">//getters and setters
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 地址的实体类
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Address</span> <span style="color:#66d9ef">implements</span> Serializable <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String provinceName<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String cityName<span style="color:#f92672">;</span> <span style="color:#75715e">//getters and setters
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">}</span></span></span></code></pre></div></div>
  
</div><p class="component-content component">jsp 代码:</p>
<div class="component-content pagebody component code">
  
  
  
  <pre><code class="">&lt;!-- pojo 类型演示 --&gt;
&lt;form action=&#34;account/saveAccount&#34; method=&#34;post&#34;&gt;
	账户名称:&lt;input type=&#34;text&#34; name=&#34;name&#34; &gt;&lt;br/&gt;
  账户金额:&lt;input type=&#34;text&#34; name=&#34;money&#34; &gt;&lt;br/&gt;
	账户省份:&lt;input type=&#34;text&#34; name=&#34;address.provinceName&#34; &gt;&lt;br/&gt; 
  账户城市:&lt;input type=&#34;text&#34; name=&#34;address.cityName&#34; &gt;&lt;br/&gt; 
  &lt;input type=&#34;submit&#34; value=&#34;保存&#34;&gt;
&lt;/form&gt;</code></pre>
  
</div><p class="component-content component">控制器代码:</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 保存账户
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param account 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * * @return
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/saveAccount&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">saveAccount</span><span style="color:#f92672">(</span>Account account<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;保存了账户。。。。&#34;</span><span style="color:#f92672">+</span>account<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span><span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div></div>
  
</div><p class="component-content component">运行结果:</p>
<p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-b8db26e013ed3c3cd66549ff1727cfb4" id="lhtb8db26e013ed3c3cd66549ff1727cfb4">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/springmvc/13.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>

<div class="component-content pagebody component">
  <h4 id="143-pojo-类中包含集合类型参数" class="pagebody-header">
    1.4.3 POJO 类中包含集合类型参数
  </h4>
</div><p class="component-content component">实体类代码:</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 用户实体类
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User</span> <span style="color:#66d9ef">implements</span> Serializable <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String username<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String password<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Integer age<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> List<span style="color:#f92672">&lt;</span>Account<span style="color:#f92672">&gt;</span> accounts<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Map<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> Account<span style="color:#f92672">&gt;</span> accountMap<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//getters and setters
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">toString</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;User [username=&#34;</span> <span style="color:#f92672">+</span> username <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;, password=&#34;</span> <span style="color:#f92672">+</span> password <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;, age=&#34;</span> <span style="color:#f92672">+</span> age <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;,\n accounts=&#34;</span> <span style="color:#f92672">+</span> accounts
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;,\n accountMap=&#34;</span> <span style="color:#f92672">+</span> accountMap <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;]&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div></div>
  
</div><p class="component-content component">jsp 代码:</p>
<div class="component-content pagebody component code">
  
  
  
  <pre><code class="">&lt;!-- POJO 类包含集合类型演示 --&gt;
&lt;form action=&#34;account/updateAccount&#34; method=&#34;post&#34;&gt;
	用户名称:&lt;input type=&#34;text&#34; name=&#34;username&#34; &gt;&lt;br/&gt; 
  用户密码:&lt;input type=&#34;password&#34; name=&#34;password&#34; &gt;&lt;br/&gt; 
  用户年龄:&lt;input type=&#34;text&#34; name=&#34;age&#34; &gt;&lt;br/&gt; 
  账户1名称:&lt;input type=&#34;text&#34; name=&#34;accounts[0].name&#34; &gt;&lt;br/&gt; 
  账户1金额:&lt;input type=&#34;text&#34; name=&#34;accounts[0].money&#34; &gt;&lt;br/&gt;
	账户2名称:&lt;input type=&#34;text&#34; name=&#34;accounts[1].name&#34; &gt;&lt;br/&gt; 
  账户2金额:&lt;input type=&#34;text&#34; name=&#34;accounts[1].money&#34; &gt;&lt;br/&gt; 
  账户3名称:&lt;input type=&#34;text&#34; name=&#34;accountMap[&#39;one&#39;].name&#34; &gt;&lt;br/&gt; 
  账户3金额:&lt;input type=&#34;text&#34; name=&#34;accountMap[&#39;one&#39;].money&#34; &gt;&lt;br/&gt;
	账户4名称:&lt;input type=&#34;text&#34; name=&#34;accountMap[&#39;two&#39;].name&#34; &gt;&lt;br/&gt; 
  账户4金额:&lt;input type=&#34;text&#34; name=&#34;accountMap[&#39;two&#39;].money&#34; &gt;&lt;br/&gt; 
  &lt;input type=&#34;submit&#34; value=&#34;保存&#34;&gt;
&lt;/form&gt;</code></pre>
  
</div><p class="component-content component">控制器代码:</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 更新账户 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @return
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/updateAccount&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">updateAccount</span><span style="color:#f92672">(</span>User user<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;更新了账户。。。。&#34;</span><span style="color:#f92672">+</span>user<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span><span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span></span></span></code></pre></div></div>
  
</div><p class="component-content component">运行结果:</p>
<p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-b9d9c143ef25c9fb4a5971c25daae202" id="lhtb9d9c143ef25c9fb4a5971c25daae202">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/springmvc/14.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>

<div class="component-content pagebody component">
  <h4 id="144-请求参数乱码问题" class="pagebody-header">
    1.4.4 请求参数乱码问题
  </h4>
</div><p class="component-content component">post 请求方式:
在 web.xml 中配置一个过滤器</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- 配置 springMVC 编码过滤器 --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;filter&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;filter-name&gt;</span>CharacterEncodingFilter<span style="color:#f92672">&lt;/filter-name&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;filter-class&gt;</span>org.springframework.web.filter.CharacterEncodingFilter
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/filter-class&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">&lt;!-- 设置过滤器中的属性值 --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;init-param&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;param-name&gt;</span>encoding<span style="color:#f92672">&lt;/param-name&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;param-value&gt;</span>UTF-8<span style="color:#f92672">&lt;/param-value&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/init-param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">&lt;!-- 启动过滤器 --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;init-param&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;param-name&gt;</span>forceEncoding<span style="color:#f92672">&lt;/param-name&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;param-value&gt;</span>true<span style="color:#f92672">&lt;/param-value&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/init-param&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/filter&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">&lt;!-- 过滤所有请求 --&gt;</span> 
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;filter-mapping&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;filter-name&gt;</span>CharacterEncodingFilter<span style="color:#f92672">&lt;/filter-name&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;url-pattern&gt;</span>/*<span style="color:#f92672">&lt;/url-pattern&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/filter-mapping&gt;</span></span></span></code></pre></div></div>
  
</div><p class="component-content component">在 springmvc 的配置文件中可以配置，静态资源不过滤:</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- location表示路径，mapping表示文件，**表示该目录下的文件以及子目录的文件 --&gt;</span> 
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;mvc:resources</span> <span style="color:#a6e22e">location=</span><span style="color:#e6db74">&#34;/css/&#34;</span> <span style="color:#a6e22e">mapping=</span><span style="color:#e6db74">&#34;/css/**&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;mvc:resources</span> <span style="color:#a6e22e">location=</span><span style="color:#e6db74">&#34;/images/&#34;</span> <span style="color:#a6e22e">mapping=</span><span style="color:#e6db74">&#34;/images/**&#34;</span><span style="color:#f92672">/&gt;</span> 
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;mvc:resources</span> <span style="color:#a6e22e">location=</span><span style="color:#e6db74">&#34;/scripts/&#34;</span> <span style="color:#a6e22e">mapping=</span><span style="color:#e6db74">&#34;/javascript/**&#34;</span><span style="color:#f92672">/&gt;</span></span></span></code></pre></div></div>
  
</div><p class="component-content component">get 请求方式:
tomacat 对 GET 和 POST 请求处理方式是不同的，GET 请求的编码问题，要改 tomcat 的 server.xml 配置文件，如下:</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;Connector</span> <span style="color:#a6e22e">connectionTimeout=</span><span style="color:#e6db74">&#34;20000&#34;</span> <span style="color:#a6e22e">port=</span><span style="color:#e6db74">&#34;8080&#34;</span> <span style="color:#a6e22e">protocol=</span><span style="color:#e6db74">&#34;HTTP/1.1&#34;</span> <span style="color:#a6e22e">redirectPort=</span><span style="color:#e6db74">&#34;8443&#34;</span><span style="color:#f92672">/&gt;</span></span></span></code></pre></div></div>
  
</div><p class="component-content component">改为:</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;Connector</span> <span style="color:#a6e22e">connectionTimeout=</span><span style="color:#e6db74">&#34;20000&#34;</span> <span style="color:#a6e22e">port=</span><span style="color:#e6db74">&#34;8080&#34;</span> 
</span></span><span style="display:flex;"><span>           <span style="color:#a6e22e">protocol=</span><span style="color:#e6db74">&#34;HTTP/1.1&#34;</span> <span style="color:#a6e22e">redirectPort=</span><span style="color:#e6db74">&#34;8443&#34;</span>
</span></span><span style="display:flex;"><span>					 <span style="color:#a6e22e">useBodyEncodingForURI=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">/&gt;</span></span></span></code></pre></div></div>
  
</div><p class="component-content component">如果遇到 ajax 请求仍然乱码，请把:</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>useBodyEncodingForURI=&#34;true&#34;改为 URIEncoding=&#34;UTF-8&#34;</span></span></code></pre></div></div>
  
</div><p class="component-content component">即可。</p>

<div class="component-content pagebody component">
  <h2 id="2-特殊情况" class="pagebody-header">
    2 特殊情况
  </h2>
</div>
<div class="component-content pagebody component">
  <h3 id="21-自定义类型转换器" class="pagebody-header">
    2.1 自定义类型转换器
  </h3>
</div>
<div class="component-content pagebody component">
  <h4 id="211-使用场景" class="pagebody-header">
    2.1.1 使用场景:
  </h4>
</div><p class="component-content component">jsp 代码:</p>
<div class="component-content pagebody component code">
  
  
  
  <pre><code class="">&lt;!-- 特殊情况之:类型转换问题 --&gt;
&lt;a href=&#34;account/deleteAccount?date=2018-01-01&#34;&gt;根据日期删除账户&lt;/a&gt;</code></pre>
  
</div><p class="component-content component">控制器代码:</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 删除账户
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @return
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/deleteAccount&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">deleteAccount</span><span style="color:#f92672">(</span>String date<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;删除了账户。。。。&#34;</span><span style="color:#f92672">+</span>date<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span><span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div></div>
  
</div><p class="component-content component">运行结果:</p>
<p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-e08b320303fd527eb14b9a666f6dffbc" id="lhte08b320303fd527eb14b9a666f6dffbc">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/springmvc/15.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>
<p class="component-content component">当我们把控制器中方法参数的类型改为 Date 时:</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 删除账户 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @return
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.web.bind.annotation.RequestMapping<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/deleteAccount&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">deleteAccount</span><span style="color:#f92672">(</span>Date date<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;删除了账户。。。。&#34;</span><span style="color:#f92672">+</span>date<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span><span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span></span></span></code></pre></div></div>
  
</div><p class="component-content component">运行结果:</p>
<p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-2871c6f513d58f502bc90045edcf96e8" id="lht2871c6f513d58f502bc90045edcf96e8">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/springmvc/16.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>
<p class="component-content component">异常提示:</p>
<blockquote>
<p class="component-content component">Failed to bind request element:
org.springframework.web.method.annotation.MethodArgumentTypeMismatchExcept ion:
Failed to convert value of type &lsquo;java.lang.String&rsquo; to required type&rsquo;java.util.Date&rsquo;; nested exception is org.springframework.core.convert.ConversionFailedException:</p>
<p class="component-content component">Failed to convert from type [java.lang.String] to type [java.util.Date] for value &lsquo;2018-01-01&rsquo;; nested exception is java.lang.IllegalArgumentException</p>
</blockquote>

<div class="component-content pagebody component">
  <h4 id="212-使用步骤" class="pagebody-header">
    2.1.2 使用步骤
  </h4>
</div><p class="component-content component">第一步:定义一个类，实现 Converter 接口，该接口有两个泛型。</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> interface<span style="color:#f92672">&lt;</span>S<span style="color:#f92672">,</span> T<span style="color:#f92672">&gt;</span> <span style="color:#f92672">{</span><span style="color:#75715e">//S:表示接受的类型，T:表示目标类型 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>       <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">        *实现类型转换的方法
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">        */</span>
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">@Nullable</span>
</span></span><span style="display:flex;"><span>    T <span style="color:#a6e22e">convert</span><span style="color:#f92672">(</span>S source<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 自定义类型转换器
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">StringToDateConverter</span> <span style="color:#66d9ef">implements</span> Converter<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> Date<span style="color:#f92672">&gt;</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 用于把 String 类型转成日期类型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Date <span style="color:#a6e22e">convert</span><span style="color:#f92672">(</span>String source<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        DateFormat format <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>StringUtils<span style="color:#f92672">.</span><span style="color:#a6e22e">isEmpty</span><span style="color:#f92672">(</span>source<span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> NullPointerException<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;请输入要转换的日期&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>            format <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> SimpleDateFormat<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;yyyy-MM-dd&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>            Date date <span style="color:#f92672">=</span> format<span style="color:#f92672">.</span><span style="color:#a6e22e">parse</span><span style="color:#f92672">(</span>source<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> date<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> RuntimeException<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;输入日期有误&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div></div>
  
</div><p class="component-content component">第二步:在 spring 配置文件中配置类型转换器。</p>
<p class="component-content component">spring 配置类型转换器的机制是，将自定义的转换器注册到类型转换服务中去。</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- 配置类型转换器工厂 --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;bean</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;converterService&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;org.springframework.context.support.ConversionServiceFactoryBean&#34;</span><span style="color:#f92672">&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">&lt;!-- 给工厂注入一个新的类型转换器 --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;converters&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;array&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">&lt;!-- 配置自定义类型转换器 --&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;bean</span> <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;com.itheima.web.converter.StringToDateConverter&#34;</span><span style="color:#f92672">&gt;&lt;/bean&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/array&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/bean&gt;</span></span></span></code></pre></div></div>
  
</div><p class="component-content component">第三步:在 annotation-driven 标签中引用配置的类型转换服务</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- 引用自定义类型转换器 --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;mvc:annotation-driven</span>
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">conversion-service=</span><span style="color:#e6db74">&#34;converterService&#34;</span><span style="color:#f92672">&gt;&lt;/mvc:annotation-driven&gt;</span></span></span></code></pre></div></div>
  
</div><p class="component-content component">运行结果:</p>
<p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-75dc9e02b5d2cda9f2d4c5bc06dae6c7" id="lht75dc9e02b5d2cda9f2d4c5bc06dae6c7">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/springmvc/17.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>

<div class="component-content pagebody component">
  <h3 id="22-使用-servletapi-对象作为方法参数" class="pagebody-header">
    2.2 使用 ServletAPI 对象作为方法参数
  </h3>
</div><p class="component-content component">SpringMVC 还支持使用原始 ServletAPI 对象作为控制器方法的参数。支持原始 ServletAPI 对象有:</p>
<blockquote>
<p class="component-content component">HttpServletRequest</p>
<p class="component-content component">HttpServletResponse</p>
<p class="component-content component">HttpSession</p>
<p class="component-content component">java.security.Principal</p>
<p class="component-content component">Locale</p>
<p class="component-content component">InputStream</p>
<p class="component-content component">OutputStream</p>
<p class="component-content component">Reader</p>
<p class="component-content component">Writer</p>
</blockquote>
<p class="component-content component">我们可以把上述对象 ，直接写在控制的方法参数中使用。</p>
<p class="component-content component">部分示例代码:</p>
<p class="component-content component">jsp 代码:</p>
<div class="component-content pagebody component code">
  
  
  
  <pre><code class="">&lt;!-- 原始 ServletAPI 作为控制器参数 --&gt;
&lt;a href=&#34;account/testServletAPI&#34;&gt;测试访问ServletAPI&lt;/a&gt;</code></pre>
  
</div><p class="component-content component">控制器中的代码:</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 测试访问 testServletAPI
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @return
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.web.bind.annotation.RequestMapping<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/testServletAPI&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">testServletAPI</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>        HttpServletResponse response<span style="color:#f92672">,</span>HttpSession session<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>request<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>response<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>session<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span><span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span></span></span></code></pre></div></div>
  
</div><p class="component-content component">执行结果:</p>
<p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-ba3f5b763e7705de3bdf6360bb632ddb" id="lhtba3f5b763e7705de3bdf6360bb632ddb">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/springmvc/18.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>

          </div><div class="component">
            <div class="component-content">
              <div class="article-copyright">
                <p class="content">
                  Copyright: <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed" target="_blank">Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0)</a>
                </p>
                <p class="content">Author:   </p>
                <p class="content">Posted on:  November 26, 2021</p>
              </div>
            </div>
          </div></article>
      </section>
  </main>

  <script>
    var script = document.createElement("script");script.src = "https://yuanshuai1122.github.io/js/initPost.js";
    document.head.appendChild(script);
  </script>

    
    <div class="footer-main ">
  <div class="content-body footer-wraper">
    <div class="footer-box">
      <div class="foot-nav">
        <div class="foot-nav-items">
          <div class="item">
            <div class="logo"></div>
            <div class="email">Email: <a href="mailto:floyd.li@outlook.com">floyd.li@outlook.com</a></div>
          </div>

          <div class="item community">
            <div class="item-title">Social Media</div>
            
              <a href="https://github.com/floyd-li" target="_blank">Github</a>
            
          </div>

          <div class="item resources">
            <div class="item-title">Related</div>
            
              <a href="https://yufengbiji.com/" target="_blank">驭风笔记</a>
            
          </div>
        </div>
      </div>
      <div class="bottom">
        <div class="item copyright">
          &copy; 2023
          Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a> & <a href="https://github.com/floyd-li/hugo-theme-itheme" target="_blank">iTheme</a>
        </div>
      </div>
    </div>
  </div>
</div>

  </body>
    
    

    
    
</html>
