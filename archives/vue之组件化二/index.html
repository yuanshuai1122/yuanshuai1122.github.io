<!DOCTYPE html>
<html class="js no-touch  progressive-image  no-reduced-motion progressive" lang="en">
  <head>
    <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="icon" href="/img/favicon.ico">

    <meta name="keyword" content=""><meta property="og:title" content="Vue之组件化（二）" />
<meta property="og:description" content="一、父组件和子组件的区分 1.1.在Vue实例app中注册组件 &lt;script type=&#34;text/javascript&#34;&gt; /*创建组件构造器1*/ const cpnC1 = Vue.extend({ template: ` &lt;div&gt; &lt;h2&gt;我是组件1&lt;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://yuanshuai1122.github.io/archives/vue%E4%B9%8B%E7%BB%84%E4%BB%B6%E5%8C%96%E4%BA%8C/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-11-30T10:44:27+00:00" />
<meta property="article:modified_time" content="2021-11-30T10:44:27+00:00" />
<title>Vue之组件化（二）</title>

    <link rel="canonical" href="/archives/vue%E4%B9%8B%E7%BB%84%E4%BB%B6%E5%8C%96%E4%BA%8C/">

    <link rel="stylesheet" href="/css/global.css">

    <link rel="stylesheet" href="/css/custom.css">

    <link rel="stylesheet" href="/css/search.css" />

    
    

    
    

</head>
  </head>
  <body class=" page-article   ">
    <header>
      <nav class="nav">
  <div class="nav-wrapper">
    <div class="nav-content-wrapper">
      <div class="nav-content">
        <a href="/ " class="nav-title">iTheme</a>
        <div class="nav-menu">
          <div class="nav-item-wrapper">
            <a href="/posts " class="nav-item-content">Articles</a>
          </div><div class="nav-item-wrapper">
            <a href="/about" class="nav-item-content">About</a>
          </div><div class="nav-item-wrapper">
            <a href="/index.xml" class="nav-item-content" target="_blank">RSS</a>
          </div></div>
      </div>
    </div>
  </div>
</nav>

<script>
  function toggleSearchModal(){
    const template = `
    <div class="modal-body">
      <div id="autocomplete" onclick="event.stopPropagation();"></div>
    </div>
    `
    const modal = document.querySelector("#modal-wrapper")
    if(!modal){
      const div = document.createElement("div")
      document.body.setAttribute("style","overflow: hidden;")
      div.setAttribute("id", "modal-wrapper")
      div.setAttribute("onclick", "toggleSearchModal()")
      div.innerHTML = template
      const script = document.createElement("script");script.setAttribute("src", "https://yuanshuai1122.github.io/js/algolia.js")
      div.appendChild(script)
      document.body.append(div)
    } else {
      document.body.removeAttribute("style")
      document.body.removeChild(modal)
    }
  }
</script>
    </header>
    
  
  
  <main id="main" class="main">
      <section>
        <article class="article">
          
          <div class=" article-header ">
            <div class="category component">
              <div class="component-content">
                <div class="category-eyebrow">
                  <span class="category-eyebrow__category category_original">
                    
                      
                        Vue
                      
                    
                  </span>
                  <span class="category-eyebrow__date">November 30, 2021</span>
                </div>
              </div>
            </div>
            <div class="pagetitle component">
              <div class="component-content">
                <h1 class="hero-headline">Vue之组件化（二）</h1>
              </div>
            </div>
            <div class="component  article-subhead ">
              <div class="component-content"></div>
            </div>

            <div class="tagssheet component">
              <div class="component-content">
                
                  
                  <a href="/tags/vue" class="tag">
                    Vue
                  </a>
                
              </div>
            </div>
          </div>
          
          <div class="pagebody">
            
            
            
            
            
            
            
            
            
<div class="component-content pagebody component">
  <h1 id="一父组件和子组件的区分" class="pagebody-header">
    一、父组件和子组件的区分
  </h1>
</div>
<div class="component-content pagebody component">
  <h2 id="11在vue实例app中注册组件" class="pagebody-header">
    1.1.在Vue实例app中注册组件
  </h2>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>        &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/javascript&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">/*创建组件构造器1*/</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">cpnC1</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">extend</span>({
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">template</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &lt;div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &lt;h2&gt;我是组件1&lt;/h2&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                `</span>
</span></span><span style="display:flex;"><span>            })
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">/*创建组件构造器2*/</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">cpnC2</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">extend</span>({
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">template</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &lt;div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &lt;h2&gt;我是组件2&lt;/h2&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                `</span>
</span></span><span style="display:flex;"><span>            })
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">/*创建Vue实例*/</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">/*注册组件cpnC1*/</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">/*注册组件cpnC2*/</span>           
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">app</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">el</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#app&#39;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">components</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">cpn1</span><span style="color:#f92672">:</span><span style="color:#a6e22e">cpnC1</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">cpn2</span><span style="color:#f92672">:</span><span style="color:#a6e22e">cpnC2</span>
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            })          
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">script</span>&gt;</span></span></code></pre></div></div>
  
</div><p class="component-content component">在html中使用组件cpn1和cpn2</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;app&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">cpn1</span>&gt;&lt;/<span style="color:#f92672">cpn1</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">cpn2</span>&gt;&lt;/<span style="color:#f92672">cpn2</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">div</span>&gt;</span></span></code></pre></div></div>
  
</div><p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-4c52633a639dad4ad82cda23e90410cc" id="lht4c52633a639dad4ad82cda23e90410cc">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/158.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>

<div class="component-content pagebody component">
  <h2 id="12父子组件引入" class="pagebody-header">
    1.2.父子组件引入
  </h2>
</div><p class="component-content component">如果将组件1注册在组件2的构造器中，并在组件2的tmplate中使用组件1，在Vue实例中值注册组件2，在html中使用组件cpn2会怎么样？
组件构造器中也有components属性，可以在该属性中注册其他组件
1.在组件构造器2中注册并使用组件1</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>            /*创建组件构造器1*/
</span></span><span style="display:flex;"><span>            const cpnC1 = Vue.extend({
</span></span><span style="display:flex;"><span>                template: `
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>                    &lt;<span style="color:#f92672">h2</span>&gt;我是组件1&lt;/<span style="color:#f92672">h2</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>                `
</span></span><span style="display:flex;"><span>            })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            /*创建组件构造器2*/
</span></span><span style="display:flex;"><span>            const cpnC2 = Vue.extend({
</span></span><span style="display:flex;"><span>                template: `
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>                    &lt;<span style="color:#f92672">h2</span>&gt;我是组件2&lt;/<span style="color:#f92672">h2</span>&gt;
</span></span><span style="display:flex;"><span>                    &lt;<span style="color:#f92672">cpn1</span>&gt;&lt;/<span style="color:#f92672">cpn1</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>                `,
</span></span><span style="display:flex;"><span>                components: {
</span></span><span style="display:flex;"><span>                    cpn1: cpnC1
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            })</span></span></code></pre></div></div>
  
</div><p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-cafaefbdbb251e512700ff8ff0674845" id="lhtcafaefbdbb251e512700ff8ff0674845">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/159.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>
<p class="component-content component">2.在Vue实例中只注册组件2</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>            const app = new Vue({
</span></span><span style="display:flex;"><span>                el: &#39;#app&#39;,
</span></span><span style="display:flex;"><span>                components: {
</span></span><span style="display:flex;"><span>                    cpn2:cpnC2
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            })  </span></span></code></pre></div></div>
  
</div><p class="component-content component">3.在html中使用组件2</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;app&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">cpn2</span>&gt;&lt;/<span style="color:#f92672">cpn2</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">div</span>&gt;</span></span></code></pre></div></div>
  
</div><p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-d05c0ac402aa79a7435611b66c043d92" id="lhtd05c0ac402aa79a7435611b66c043d92">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/160.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>

<div class="component-content pagebody component">
  <h2 id="13父组件和子组件是谁" class="pagebody-header">
    1.3.父组件和子组件是谁？
  </h2>
</div><p class="component-content component">因为组件1在组件2构造器中注册，
并在组件2构造器template中使用，
即使组件1并没有在Vue实例中注册，也没有在html中使用，
但是，组件1存在在组件2的模板中，会被一起展示到html中。
所以，
组件2是父组件，
组件1是子组件</p>
<p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-e4d3ffcc0eb4ad4b70e278e1d55f6c1b" id="lhte4d3ffcc0eb4ad4b70e278e1d55f6c1b">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/161.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>

<div class="component-content pagebody component">
  <h1 id="二注册组件的语法糖写法" class="pagebody-header">
    二、注册组件的语法糖写法
  </h1>
</div>
<div class="component-content pagebody component">
  <h2 id="21全局注册组件语法糖" class="pagebody-header">
    2.1.全局注册组件语法糖
  </h2>
</div><p class="component-content component">全局组件不用语法糖的构建过程：
生成组件构造器</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>            /*全局组件构造器*/
</span></span><span style="display:flex;"><span>            const cpnC1 = Vue.extend({
</span></span><span style="display:flex;"><span>                template: `
</span></span><span style="display:flex;"><span>                    &lt;<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>                        &lt;<span style="color:#f92672">h2</span>&gt;全局组件&lt;/<span style="color:#f92672">h2</span>&gt;
</span></span><span style="display:flex;"><span>                    &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>                `
</span></span><span style="display:flex;"><span>            })</span></span></code></pre></div></div>
  
</div><p class="component-content component">注册组件</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>            /*注册全局组件*/
</span></span><span style="display:flex;"><span>            Vue.component(&#39;cpn1&#39;,cpnC1);</span></span></code></pre></div></div>
  
</div><p class="component-content component">使用组件</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;app&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">cpn1</span>&gt;&lt;/<span style="color:#f92672">cpn1</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">div</span>&gt;</span></span></code></pre></div></div>
  
</div><p class="component-content component">全局注册组件的语法糖，省略extend步骤，直接在注册组件的第二参数中创建组件构造器</p>
<p class="component-content component">1.语法糖写法下，注册组件的参数</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>            Vue.component(&#39;cpn1&#39;,{
</span></span><span style="display:flex;"><span>                template: `
</span></span><span style="display:flex;"><span>                    &lt;<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>                        &lt;<span style="color:#f92672">h2</span>&gt;全局组件&lt;/<span style="color:#f92672">h2</span>&gt;
</span></span><span style="display:flex;"><span>                    &lt;/<span style="color:#f92672">div</span>&gt;              
</span></span><span style="display:flex;"><span>                `
</span></span><span style="display:flex;"><span>            })</span></span></code></pre></div></div>
  
</div><p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-4abc4f90c67b6d9db9ae83c3dd58d788" id="lht4abc4f90c67b6d9db9ae83c3dd58d788">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/162.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>
<p class="component-content component">在html中使用全局组件</p>
<p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-7c2b6c44055b2839c3fb58405bf3486f" id="lht7c2b6c44055b2839c3fb58405bf3486f">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/163.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>

<div class="component-content pagebody component">
  <h2 id="22局部注册组件语法糖" class="pagebody-header">
    2.2.局部注册组件语法糖
  </h2>
</div><p class="component-content component">局部注册组件不用语法糖的构建过程：
生成组件构造器</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>            const cpnC2 = Vue.extend({
</span></span><span style="display:flex;"><span>                template: `
</span></span><span style="display:flex;"><span>                    &lt;<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>                        &lt;<span style="color:#f92672">h2</span>&gt;局部组件&lt;/<span style="color:#f92672">h2</span>&gt;
</span></span><span style="display:flex;"><span>                    &lt;/<span style="color:#f92672">div</span>&gt;              
</span></span><span style="display:flex;"><span>                `
</span></span><span style="display:flex;"><span>            })</span></span></code></pre></div></div>
  
</div><p class="component-content component">在Vue实例中注册局部组件</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>            const app = new Vue({
</span></span><span style="display:flex;"><span>                el: &#39;#app&#39;,
</span></span><span style="display:flex;"><span>                components: {
</span></span><span style="display:flex;"><span>                    cpn2: cpnC2
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            })</span></span></code></pre></div></div>
  
</div><p class="component-content component">使用局部组件</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;app&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">cpn2</span>&gt;&lt;/<span style="color:#f92672">cpn2</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">div</span>&gt;</span></span></code></pre></div></div>
  
</div><p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-31751560d78786f4507b93b6591754a7" id="lht31751560d78786f4507b93b6591754a7">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/164.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>
<p class="component-content component">注册局部组件时，components对象中，一对key value对应的是组件标签和组件构造器，使用语法糖注册时，在value构造器的位置，传入构造器的具体代码</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>            const app = new Vue({
</span></span><span style="display:flex;"><span>                el: &#39;#app&#39;,
</span></span><span style="display:flex;"><span>                components: {
</span></span><span style="display:flex;"><span>                    cpn2: {
</span></span><span style="display:flex;"><span>                        template: `
</span></span><span style="display:flex;"><span>                            &lt;<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>                                &lt;<span style="color:#f92672">h2</span>&gt;局部组件&lt;/<span style="color:#f92672">h2</span>&gt;
</span></span><span style="display:flex;"><span>                            &lt;/<span style="color:#f92672">div</span>&gt;              
</span></span><span style="display:flex;"><span>                        `
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            })</span></span></code></pre></div></div>
  
</div><p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-692632b6fe76888954e1d30446d1304c" id="lht692632b6fe76888954e1d30446d1304c">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/165.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>
<p class="component-content component">在html中使用局部组件</p>
<p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-22727141506399655e6810067e653270" id="lht22727141506399655e6810067e653270">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/166.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>

<div class="component-content pagebody component">
  <h2 id="23总结注册组件的语法糖写法" class="pagebody-header">
    2.3.总结注册组件的语法糖写法
  </h2>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>            /*全局注册组件语法糖*/       
</span></span><span style="display:flex;"><span>            Vue.component(&#39;cpn1&#39;,{
</span></span><span style="display:flex;"><span>                template: `
</span></span><span style="display:flex;"><span>                    &lt;<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>                        &lt;<span style="color:#f92672">h2</span>&gt;全局组件&lt;/<span style="color:#f92672">h2</span>&gt;
</span></span><span style="display:flex;"><span>                    &lt;/<span style="color:#f92672">div</span>&gt;              
</span></span><span style="display:flex;"><span>                `
</span></span><span style="display:flex;"><span>            })</span></span></code></pre></div></div>
  
</div><p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-f855ae1c4547315d04554f6d45180a2e" id="lhtf855ae1c4547315d04554f6d45180a2e">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/167.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>            const app = new Vue({
</span></span><span style="display:flex;"><span>                el: &#39;#app&#39;,
</span></span><span style="display:flex;"><span>                components: {
</span></span><span style="display:flex;"><span>                    cpn2: {
</span></span><span style="display:flex;"><span>                        template: `
</span></span><span style="display:flex;"><span>                            &lt;<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>                                &lt;<span style="color:#f92672">h2</span>&gt;局部组件&lt;/<span style="color:#f92672">h2</span>&gt;
</span></span><span style="display:flex;"><span>                            &lt;/<span style="color:#f92672">div</span>&gt;              
</span></span><span style="display:flex;"><span>                        `
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            })</span></span></code></pre></div></div>
  
</div><p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-6498df616b3155c2d8ddf54de703c24a" id="lht6498df616b3155c2d8ddf54de703c24a">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/168.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>

<div class="component-content pagebody component">
  <h1 id="三template分离写法" class="pagebody-header">
    三、template分离写法
  </h1>
</div>
<div class="component-content pagebody component">
  <h2 id="31使用注册组件语法糖" class="pagebody-header">
    3.1.使用注册组件语法糖
  </h2>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>            Vue.component(&#39;cpn1&#39;,{
</span></span><span style="display:flex;"><span>                template:`
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>                    &lt;<span style="color:#f92672">h2</span>&gt;template未分离&lt;/<span style="color:#f92672">h2</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>                `
</span></span><span style="display:flex;"><span>            })  </span></span></code></pre></div></div>
  
</div><p class="component-content component">在template中编写html代码是没有自动补齐的功能，并且当模板中的html代码变多时，注册组件部分看上去就会变得复杂。
所以，这时候就需要将template部分分离出来。</p>

<div class="component-content pagebody component">
  <h2 id="32分离template--script" class="pagebody-header">
    3.2.分离template&ndash;script
  </h2>
</div><p class="component-content component">用script标签分离template时的注意点：
1.script标签的类型是 type=&ldquo;text/x-template&rdquo;
2.script标签要有id属性，用于标识模板</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>        &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/x-template&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;cpn1&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">div</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">h2</span><span style="color:#f92672">&gt;</span><span style="color:#a6e22e">template分离</span><span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/h2&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/div&gt;</span>
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/javascript&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">component</span>(<span style="color:#e6db74">&#39;cpn1&#39;</span>,{
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">template</span><span style="color:#f92672">:</span><span style="color:#a6e22e">cpn1</span>
</span></span><span style="display:flex;"><span>            })          
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">app</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">el</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#app&#39;</span>
</span></span><span style="display:flex;"><span>            })
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">script</span>&gt;</span></span></code></pre></div></div>
  
</div><p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-ab64478238c3c2b6a8665625209e2a36" id="lhtab64478238c3c2b6a8665625209e2a36">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/169.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>
<p class="component-content component">在html中使用组件</p>
<p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-0090b8436867a2b7bf8359d9e6a60ed6" id="lht0090b8436867a2b7bf8359d9e6a60ed6">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/170.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>

<div class="component-content pagebody component">
  <h2 id="33template分离--template标签常用" class="pagebody-header">
    3.3.template分离&ndash;template标签（常用）
  </h2>
</div><p class="component-content component">使用template标签分离template模板的注意点：
要有id标签标识模板</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>        &lt;<span style="color:#f92672">template</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;cpn1&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">h2</span>&gt;template分离--template标签&lt;/<span style="color:#f92672">h2</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">template</span>&gt;</span></span></code></pre></div></div>
  
</div><p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-aece85988b0deca41990b5fdd098776d" id="lhtaece85988b0deca41990b5fdd098776d">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/171.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>
<p class="component-content component">在html中使用组件</p>
<p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-a462354ed66fc69cfc95c4241e08f453" id="lhta462354ed66fc69cfc95c4241e08f453">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/172.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>

<div class="component-content pagebody component">
  <h1 id="四组件中的数据存储的位置" class="pagebody-header">
    四、组件中的数据存储的位置
  </h1>
</div>
<div class="component-content pagebody component">
  <h2 id="41组件中数据存放位置的引入" class="pagebody-header">
    4.1.组件中数据存放位置的引入
  </h2>
</div><p class="component-content component">组件的html部分可以存放在template标签中，并且template标签是独立在Vue实例外的，
若template中的数据也需要动态化的话，那动态数据存放在哪？
是否同样存放在Vue实例中呢？</p>
<p class="component-content component">验证Vue组件是否能使用Vue实例data中的数据：</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;app&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">cpn1</span>&gt;&lt;/<span style="color:#f92672">cpn1</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">template</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;cpn1&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">h2</span>&gt;{{message}}&lt;/<span style="color:#f92672">h2</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">template</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;js/vue.js&#34;</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/javascript&#34;</span> <span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;utf-8&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/javascript&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">component</span>(<span style="color:#e6db74">&#39;cpn1&#39;</span>,{
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">template</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;#cpn1&#39;</span>
</span></span><span style="display:flex;"><span>            })
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">app</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">el</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#app&#39;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;hello&#39;</span>
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            })
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">script</span>&gt;</span></span></code></pre></div></div>
  
</div><p class="component-content component">报错：message没有定义</p>
<p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-2985b71159e95e1488d95416718fcb06" id="lht2985b71159e95e1488d95416718fcb06">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/173.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>
<p class="component-content component">说明Vue组件不能使用Vue实例data中的数据。
即使组件能使用Vue实例中的数据，但是一个页面划分成若干个组件，每个组件中的数据都存放在Vue实例中的data里，会让Vue实例变得非常臃肿。
所以无论如何，Vue组件中的数据是不会存放在Vue实例中的。</p>
<p class="component-content component">因为Vue组件的原型链上有Vue实例的原型，所以Vue组件的数据应该存放在自己的data内。</p>

<div class="component-content pagebody component">
  <h2 id="42组件中数据的存放位置" class="pagebody-header">
    4.2.组件中数据的存放位置
  </h2>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>        &lt;<span style="color:#f92672">template</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;cpn1&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">h2</span>&gt;{{message}}&lt;/<span style="color:#f92672">h2</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">template</span>&gt;</span></span></code></pre></div></div>
  
</div><p class="component-content component">组件中的数据存放在组件的data内，并且data是个函数，函数内return回一个对象，在return回的对象中存放数据</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>            Vue.component(&#39;cpn1&#39;,{
</span></span><span style="display:flex;"><span>                template:&#39;#cpn1&#39;,
</span></span><span style="display:flex;"><span>                data(){
</span></span><span style="display:flex;"><span>                    return{
</span></span><span style="display:flex;"><span>                        message:&#39;hello&#39;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            })</span></span></code></pre></div></div>
  
</div><p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-981e3098c3612660c46311eeb842cc5a" id="lht981e3098c3612660c46311eeb842cc5a">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/174.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>

<div class="component-content pagebody component">
  <h1 id="五组件中的data为什么必须是个函数" class="pagebody-header">
    五、组件中的data为什么必须是个函数
  </h1>
</div>
<div class="component-content pagebody component">
  <h2 id="51组件化一个计数器功能" class="pagebody-header">
    5.1.组件化一个计数器功能
  </h2>
</div><p class="component-content component">在+button上绑定increase的点击事件，触发increase事件，让counter加1
在-button上绑定decrease的点击事件，触发decrease事件，让counter减1</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;app&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">cpn1</span>&gt;&lt;/<span style="color:#f92672">cpn1</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">cpn1</span>&gt;&lt;/<span style="color:#f92672">cpn1</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">cpn1</span>&gt;&lt;/<span style="color:#f92672">cpn1</span>&gt;           
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">template</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;cpn1&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">h2</span>&gt;当前计数器：{{counter}}&lt;/<span style="color:#f92672">h2</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">button</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">click</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;increase&#34;</span>&gt;+&lt;/<span style="color:#f92672">button</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">button</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">click</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;decrease&#34;</span>&gt;-&lt;/<span style="color:#f92672">button</span>&gt;                
</span></span><span style="display:flex;"><span>            &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">template</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;js/vue.js&#34;</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/javascript&#34;</span> <span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;utf-8&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/javascript&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">component</span>(<span style="color:#e6db74">&#39;cpn1&#39;</span>,{
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">template</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;#cpn1&#39;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">data</span>(){
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">return</span> {
</span></span><span style="display:flex;"><span>                        <span style="color:#a6e22e">counter</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span>{
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">increase</span>(){
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">counter</span><span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">decrease</span>(){
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">counter</span><span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            })
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">app</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">el</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#app&#39;</span>
</span></span><span style="display:flex;"><span>            })
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">script</span>&gt;</span></span></code></pre></div></div>
  
</div><p class="component-content component">各个组件化出的计数器互不影响</p>
<p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-bd7256cbd78e7331366a29121705afba" id="lhtbd7256cbd78e7331366a29121705afba">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/175.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>

<div class="component-content pagebody component">
  <h2 id="52为什么组件中的data必须是个函数" class="pagebody-header">
    5.2.为什么组件中的data必须是个函数
  </h2>
</div><p class="component-content component">首先：data若是个对象的话，会报错
data是个对象</p>
<p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-9a58daa0eebf9f4acd8c20fb310eac13" id="lht9a58daa0eebf9f4acd8c20fb310eac13">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/176.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>
<p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-8865536367e56f0cddcad13134daad71" id="lht8865536367e56f0cddcad13134daad71">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/177.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>
<p class="component-content component">那么手动让data返回的是一个对象</p>
<p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-fd8582c79f1416963cf079fbc253e709" id="lhtfd8582c79f1416963cf079fbc253e709">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/178.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>
<p class="component-content component">这么写就相当于data函数返回的都是同一个对象，和下面写法的效果一样</p>
<p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-9ac37999a0ecabb346531640f179a233" id="lht9ac37999a0ecabb346531640f179a233">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/179.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>
<p class="component-content component">再测试计数器
三个计数器不会相互独立，操作其中一个全部同时改变。</p>
<p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-5eb318ed4995a4dc57e804bffcf2e234" id="lht5eb318ed4995a4dc57e804bffcf2e234">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/180.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>
<p class="component-content component">这是因为三个Vue组件实例共享的是同一个对象中的数据，所以当数据变化时，所以的Vue实例都同步变化</p>
<p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-ed1001589311bcd9772d2e6f22144cc1" id="lhted1001589311bcd9772d2e6f22144cc1">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/181.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>
<p class="component-content component">所以组件中的data必须是个函数，函数中return出的对象都是独立的，每实例化一个组件，该组件就会获取一个独立的data对象，即三个计数器组件实例获取的是三个return出的data对象，所以三个计数器功能互不影响。</p>
<p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-83eda7f9864548690c38fd69d6e73a82" id="lht83eda7f9864548690c38fd69d6e73a82">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/vue/182.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>

          </div><div class="component">
            <div class="component-content">
              <div class="article-copyright">
                <p class="content">
                  Copyright: <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed" target="_blank">Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0)</a>
                </p>
                <p class="content">Author:   </p>
                <p class="content">Posted on:  November 30, 2021</p>
              </div>
            </div>
          </div></article>
      </section>
  </main>

  <script>
    var script = document.createElement("script");script.src = "https://yuanshuai1122.github.io/js/initPost.js";
    document.head.appendChild(script);
  </script>

    
    <div class="footer-main ">
  <div class="content-body footer-wraper">
    <div class="footer-box">
      <div class="foot-nav">
        <div class="foot-nav-items">
          <div class="item">
            <div class="logo"></div>
            <div class="email">Email: <a href="mailto:floyd.li@outlook.com">floyd.li@outlook.com</a></div>
          </div>

          <div class="item community">
            <div class="item-title">Social Media</div>
            
              <a href="https://github.com/floyd-li" target="_blank">Github</a>
            
          </div>

          <div class="item resources">
            <div class="item-title">Related</div>
            
              <a href="https://yufengbiji.com/" target="_blank">驭风笔记</a>
            
          </div>
        </div>
      </div>
      <div class="bottom">
        <div class="item copyright">
          &copy; 2023
          Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a> & <a href="https://github.com/floyd-li/hugo-theme-itheme" target="_blank">iTheme</a>
        </div>
      </div>
    </div>
  </div>
</div>

  </body>
    
    

    
    
</html>
