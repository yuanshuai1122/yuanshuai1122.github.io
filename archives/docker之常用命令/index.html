<!DOCTYPE html>
<html class="js no-touch  progressive-image  no-reduced-motion progressive" lang="en">
  <head>
    <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="icon" href="/img/favicon.ico">

    <meta name="keyword" content=""><meta property="og:title" content="Docker之常用命令" />
<meta property="og:description" content="Docker常用命令 1、帮助命令 docker version docker info docker --help 2、镜像命令 2.1、docker images docker images 列出本地主机上的镜像 各个选项说明: REPOSITORY：表" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://yuanshuai1122.github.io/archives/docker%E4%B9%8B%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-11-23T23:04:04+00:00" />
<meta property="article:modified_time" content="2021-11-23T23:04:04+00:00" />
<title>Docker之常用命令</title>

    <link rel="canonical" href="/archives/docker%E4%B9%8B%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">

    <link rel="stylesheet" href="/css/global.css">

    <link rel="stylesheet" href="/css/custom.css">

    <link rel="stylesheet" href="/css/search.css" />

    
    

    
    

</head>
  </head>
  <body class=" page-article   ">
    <header>
      <nav class="nav">
  <div class="nav-wrapper">
    <div class="nav-content-wrapper">
      <div class="nav-content">
        <a href="/ " class="nav-title">iTheme</a>
        <div class="nav-menu">
          <div class="nav-item-wrapper">
            <a href="/posts " class="nav-item-content">Articles</a>
          </div><div class="nav-item-wrapper">
            <a href="/about" class="nav-item-content">About</a>
          </div><div class="nav-item-wrapper">
            <a href="/index.xml" class="nav-item-content" target="_blank">RSS</a>
          </div></div>
      </div>
    </div>
  </div>
</nav>

<script>
  function toggleSearchModal(){
    const template = `
    <div class="modal-body">
      <div id="autocomplete" onclick="event.stopPropagation();"></div>
    </div>
    `
    const modal = document.querySelector("#modal-wrapper")
    if(!modal){
      const div = document.createElement("div")
      document.body.setAttribute("style","overflow: hidden;")
      div.setAttribute("id", "modal-wrapper")
      div.setAttribute("onclick", "toggleSearchModal()")
      div.innerHTML = template
      const script = document.createElement("script");script.setAttribute("src", "https://yuanshuai1122.github.io/js/algolia.js")
      div.appendChild(script)
      document.body.append(div)
    } else {
      document.body.removeAttribute("style")
      document.body.removeChild(modal)
    }
  }
</script>
    </header>
    
  
  
  <main id="main" class="main">
      <section>
        <article class="article">
          
          <div class=" article-header ">
            <div class="category component">
              <div class="component-content">
                <div class="category-eyebrow">
                  <span class="category-eyebrow__category category_original">
                    
                      
                        docker
                      
                    
                  </span>
                  <span class="category-eyebrow__date">November 23, 2021</span>
                </div>
              </div>
            </div>
            <div class="pagetitle component">
              <div class="component-content">
                <h1 class="hero-headline">Docker之常用命令</h1>
              </div>
            </div>
            <div class="component  article-subhead ">
              <div class="component-content"></div>
            </div>

            <div class="tagssheet component">
              <div class="component-content">
                
                  
                  <a href="/tags/docker" class="tag">
                    docker
                  </a>
                
              </div>
            </div>
          </div>
          
          <div class="pagebody">
            
            
            
            
            
            
            
            
            
<div class="component-content pagebody component">
  <h1 id="docker常用命令" class="pagebody-header">
    <strong>Docker</strong>常用命令
  </h1>
</div>
<div class="component-content pagebody component">
  <h2 id="1帮助命令" class="pagebody-header">
    1、<strong>帮助命令</strong>
  </h2>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker version</span></span></code></pre></div></div>
  
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker info</span></span></code></pre></div></div>
  
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker --help</span></span></code></pre></div></div>
  
</div>
<div class="component-content pagebody component">
  <h2 id="2镜像命令" class="pagebody-header">
    2、镜像命令
  </h2>
</div>
<div class="component-content pagebody component">
  <h3 id="21docker-images" class="pagebody-header">
    2.1、docker images
  </h3>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker images</span></span></code></pre></div></div>
  
</div><div class="component-content component"><ul>
<li>列出本地主机上的镜像</li>
</ul></div>
<p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-5396c572f71bad6297f189515ed1dd3a" id="lht5396c572f71bad6297f189515ed1dd3a">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/docker/18.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>
<p class="component-content component">各个选项说明:</p>
<blockquote>
<p class="component-content component">REPOSITORY：表示镜像的仓库源</p>
<p class="component-content component">TAG：镜像的标签</p>
<p class="component-content component">IMAGE ID：镜像ID</p>
<p class="component-content component">CREATED：镜像创建时间</p>
<p class="component-content component">SIZE：镜像大小</p>
</blockquote>
<p class="component-content component">同一仓库源可以有多个 TAG，代表这个仓库源的不同个版本，我们使用 REPOSITORY:TAG 来定义不同的镜像。</p>
<p class="component-content component">如果你不指定一个镜像的版本标签，例如你只使用 ubuntu，docker 将默认使用 ubuntu:latest 镜像</p>
<div class="component-content component"><ul>
<li>OPTIONS说明：</li>
</ul></div>
<p class="component-content component">-a :列出本地所有的镜像（含中间映像层）</p>
<p class="component-content component">-q :只显示镜像ID。</p>
<p class="component-content component">&ndash;digests :显示镜像的摘要信息</p>
<p class="component-content component">&ndash;no-trunc :显示完整的镜像信息</p>

<div class="component-content pagebody component">
  <h3 id="22docker-search-某个xxx镜像名字" class="pagebody-header">
    2.2、docker search 某个XXX镜像名字
  </h3>
</div><div class="component-content component"><ul>
<li>网站</li>
</ul></div>
<p class="component-content component"><a href="https://hub.docker.com">https://hub.docker.com</a></p>
<div class="component-content component"><ul>
<li>命令</li>
</ul></div>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker search <span style="color:#f92672">[</span>OPTIONS<span style="color:#f92672">]</span> 镜像名字</span></span></code></pre></div></div>
  
</div><p class="component-content component">OPTIONS说明：</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>--no-trunc : 显示完整的镜像描述</span></span></code></pre></div></div>
  
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>-s : 列出收藏数不小于指定值的镜像。</span></span></code></pre></div></div>
  
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>--automated : 只列出 automated build类型的镜像；</span></span></code></pre></div></div>
  
</div>
<div class="component-content pagebody component">
  <h3 id="23docker-pull-某个xxx镜像名字" class="pagebody-header">
    2.3、docker pull 某个XXX镜像名字
  </h3>
</div><div class="component-content component"><ul>
<li>下载镜像</li>
</ul></div>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker pull 镜像名字<span style="color:#f92672">[</span>:TAG<span style="color:#f92672">]</span></span></span></code></pre></div></div>
  
</div>
<div class="component-content pagebody component">
  <h3 id="24docker-rmi-某个xxx镜像名字id" class="pagebody-header">
    2.4、docker rmi 某个XXX镜像名字ID
  </h3>
</div><div class="component-content component"><ul>
<li>
<p class="component-content component">删除镜像</p>
</li>
<li>
<p class="component-content component">删除单个</p>
</li>
</ul></div>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker rmi  -f 镜像ID</span></span></code></pre></div></div>
  
</div><div class="component-content component"><ul>
<li>删除多个</li>
</ul></div>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker rmi -f 镜像名1:TAG 镜像名2:TAG </span></span></code></pre></div></div>
  
</div><div class="component-content component"><ul>
<li>删除全部</li>
</ul></div>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker rmi -f <span style="color:#66d9ef">$(</span>docker images -qa<span style="color:#66d9ef">)</span></span></span></code></pre></div></div>
  
</div>
<div class="component-content pagebody component">
  <h2 id="3容器命令" class="pagebody-header">
    3、<strong>容器命令</strong>
  </h2>
</div>
<div class="component-content pagebody component">
  <h3 id="31有镜像才能创建容器这是根本前提下载一个centos镜像演示" class="pagebody-header">
    3.1、有镜像才能创建容器，这是根本前提(下载一个CentOS镜像演示)
  </h3>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker pull centos</span></span></code></pre></div></div>
  
</div>
<div class="component-content pagebody component">
  <h3 id="32新建并启动容器" class="pagebody-header">
    3.2、新建并启动容器
  </h3>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker run <span style="color:#f92672">[</span>OPTIONS<span style="color:#f92672">]</span> IMAGE <span style="color:#f92672">[</span>COMMAND<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>ARG...<span style="color:#f92672">]</span></span></span></code></pre></div></div>
  
</div><div class="component-content component"><ul>
<li>OPTIONS说明</li>
</ul></div>
<blockquote>
<p class="component-content component">OPTIONS说明（常用）：有些是一个减号，有些是两个减号</p>
<p class="component-content component">&ndash;name=&ldquo;容器新名字&rdquo;: 为容器指定一个名称；</p>
<p class="component-content component">-d: 后台运行容器，并返回容器ID，也即启动守护式容器；</p>
<p class="component-content component">-i：以交互模式运行容器，通常与 -t 同时使用；</p>
<p class="component-content component">-t：为容器重新分配一个伪输入终端，通常与 -i 同时使用；</p>
<p class="component-content component">-P: 随机端口映射；</p>
<p class="component-content component">-p: 指定端口映射，有以下四种格式</p>
<p class="component-content component">ip:hostPort:containerPort</p>
<p class="component-content component">ip::containerPort</p>
<p class="component-content component">​    hostPort:containerPort</p>
<p class="component-content component">containerPort</p>
</blockquote>
<div class="component-content component"><ul>
<li>启动交互式容器</li>
</ul></div>
<p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-7d450b857ccf8342093c445d8dd8fd01" id="lht7d450b857ccf8342093c445d8dd8fd01">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/docker/19.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>
<p class="component-content component">#使用镜像centos:latest以交互模式启动一个容器,在容器内执行/bin/bash命令。</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker run -it centos /bin/bash </span></span></code></pre></div></div>
  
</div>
<div class="component-content pagebody component">
  <h3 id="33列出当前所有正在运行的容器" class="pagebody-header">
    3.3、列出当前所有正在运行的容器
  </h3>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker ps <span style="color:#f92672">[</span>OPTIONS<span style="color:#f92672">]</span></span></span></code></pre></div></div>
  
</div><div class="component-content component"><ul>
<li>OPTIONS说明</li>
</ul></div>
<blockquote>
<p class="component-content component">OPTIONS说明（常用）：</p>
<p class="component-content component">-a : 列出当前所有 正在运行 的容器 + 历史上运行过 的</p>
<p class="component-content component">-l :显示最近创建的容器。</p>
<p class="component-content component">-n：显示最近n个创建的容器。</p>
<p class="component-content component">-q :静默模式，只显示容器编号。</p>
<p class="component-content component">&ndash;no-trunc :不截断输出。</p>
</blockquote>

<div class="component-content pagebody component">
  <h3 id="34退出容器" class="pagebody-header">
    3.4、退出容器
  </h3>
</div><p class="component-content component">两种退出方式:</p>
<div class="component-content component"><ul>
<li>容器停止退出</li>
</ul></div>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>exit</span></span></code></pre></div></div>
  
</div><p class="component-content component">容器不停止退出</p>
<p class="component-content component">ctrl+P+Q</p>

<div class="component-content pagebody component">
  <h3 id="35启动容器" class="pagebody-header">
    3.5、启动容器
  </h3>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker start 容器ID或者容器名</span></span></code></pre></div></div>
  
</div>
<div class="component-content pagebody component">
  <h3 id="36重启容器" class="pagebody-header">
    3.6、重启容器
  </h3>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker restart 容器ID或者容器名</span></span></code></pre></div></div>
  
</div>
<div class="component-content pagebody component">
  <h3 id="37停止容器" class="pagebody-header">
    3.7、停止容器
  </h3>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker stop 容器ID或者容器名</span></span></code></pre></div></div>
  
</div>
<div class="component-content pagebody component">
  <h3 id="38强制停止容器" class="pagebody-header">
    3.8、强制停止容器
  </h3>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker kill 容器ID或者容器名</span></span></code></pre></div></div>
  
</div>
<div class="component-content pagebody component">
  <h3 id="39删除已停止的容器" class="pagebody-header">
    3.9、删除已停止的容器
  </h3>
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker rm 容器ID</span></span></code></pre></div></div>
  
</div><p class="component-content component">一次性删除多个容器</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker rm -f <span style="color:#66d9ef">$(</span>docker ps -a -q<span style="color:#66d9ef">)</span></span></span></code></pre></div></div>
  
</div><div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker ps -a -q | xargs docker rm</span></span></code></pre></div></div>
  
</div>
<div class="component-content pagebody component">
  <h3 id="310重要" class="pagebody-header">
    3.10、<strong>重要</strong>
  </h3>
</div><div class="component-content component"><ul>
<li>启动守护式容器</li>
</ul></div>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker run -d 容器名</span></span></code></pre></div></div>
  
</div><div class="component-content component"><ul>
<li>使用镜像centos:latest以后台模式启动一个容器</li>
</ul></div>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker run -d centos </span></span></code></pre></div></div>
  
</div><p class="component-content component">问题：然后</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker ps -a </span></span></code></pre></div></div>
  
</div><p class="component-content component">进行查看, 会发现容器已经退出</p>
<p class="component-content component">很重要的要说明的一点: Docker容器后台运行,就必须有一个前台进程.</p>
<p class="component-content component">容器运行的命令如果不是那些 一直挂起的命令 （比如运行top，tail），就是会自动退出的。</p>
<p class="component-content component">这个是docker的机制问题,比如你的web容器,我们以nginx为例，正常情况下,我们配置启动服务只需要启动响应的service即可。例如</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>service nginx start </span></span></code></pre></div></div>
  
</div><p class="component-content component">但是,这样做,nginx为后台进程模式运行,就导致docker前台没有运行的应用, 这样的容器后台启动后,会立即自杀因为他觉得他没事可做了.</p>
<p class="component-content component">所以，最佳的解决方案是,将你要运行的程序以前台进程的形式运行</p>
<div class="component-content component"><ul>
<li>查看容器日志</li>
</ul></div>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker logs -f -t --tail 容器ID</span></span></code></pre></div></div>
  
</div><p class="component-content component">例：</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker run -d centos /bin/sh -c <span style="color:#e6db74">&#34;while true;do echo hello zzyy;sleep 2;done&#34;</span> </span></span></code></pre></div></div>
  
</div><p class="component-content component">*  -t 是加入时间戳</p>
<p class="component-content component">*  -f 跟随最新的日志打印</p>
<p class="component-content component">*  &ndash;tail 数字 显示最后多少条</p>
<p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-697ccfafbc2b31fbd67b054af7860462" id="lht697ccfafbc2b31fbd67b054af7860462">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/docker/20.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>
<div class="component-content component"><ul>
<li>查看容器内运行的进程</li>
</ul></div>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker top 容器ID</span></span></code></pre></div></div>
  
</div><div class="component-content component"><ul>
<li>查看容器内部细节</li>
</ul></div>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker inspect 容器ID</span></span></code></pre></div></div>
  
</div><div class="component-content component"><ul>
<li>进入正在运行的容器并以命令行交互</li>
</ul></div>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker exec -it 容器ID bashShell</span></span></code></pre></div></div>
  
</div><p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-63c99dcdd8e1ff87b0b55bc623027d75" id="lht63c99dcdd8e1ff87b0b55bc623027d75">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/docker/21.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>
<div class="component-content component"><ul>
<li>重新进入</li>
</ul></div>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker attach 容器ID</span></span></code></pre></div></div>
  
</div><div class="component-content component"><ul>
<li>
<p class="component-content component">上述两个区别</p>
<div class="component-content component"><ul>
<li>attach 直接进入容器启动命令的终端，不会启动新的进程</li>
<li>exec 是在容器中打开新的终端，并且可以启动新的进程</li>
</ul></div>
</li>
<li>
<p class="component-content component">从容器内拷贝文件到主机上</p>
</li>
</ul></div>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker cp  容器ID:容器内路径 目的主机路径</span></span></code></pre></div></div>
  
</div><p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-77821f52b916a3019614878a52b57cba" id="lht77821f52b916a3019614878a52b57cba">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/docker/22.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>

<div class="component-content pagebody component">
  <h2 id="4小总结" class="pagebody-header">
    4、<strong>小总结</strong>
  </h2>
</div><div class="component-content component"><ul>
<li>常用命令</li>
</ul></div>
<p class="component-content component">








<figure class="image component image-fullbleed body-copy-wide nr-scroll-animation nr-scroll-animation--on image-big">  <div class="component-content">
    <div class="image-sharesheet">
      <div class="image image-load image-asset image-69bd08a8e2773fb4428b6b70021b55d3" id="lht69bd08a8e2773fb4428b6b70021b55d3">
        <picture  class="picture">
          <img class="picture-image" data-src="https://hexobbblog.oss-cn-beijing.aliyuncs.com/images/docker/23.png" alt=""  />
        </picture>
      </div>
    </div>
    <div class="image-description">
      <div class="image-caption">
        
      </div>
    </div>
  </div>
</figure>
</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>attach    Attach to a running container                 <span style="color:#75715e"># 当前 shell 下 attach 连接指定运行镜像 </span>
</span></span><span style="display:flex;"><span>build     Build an image from a Dockerfile              <span style="color:#75715e"># 通过 Dockerfile 定制镜像 </span>
</span></span><span style="display:flex;"><span>commit    Create a new image from a container changes   <span style="color:#75715e"># 提交当前容器为新的镜像 </span>
</span></span><span style="display:flex;"><span>cp        Copy files/folders from the containers filesystem to the host path   <span style="color:#75715e">#从容器中拷贝指定文件或者目录到宿主机中 </span>
</span></span><span style="display:flex;"><span>create    Create a new container                        <span style="color:#75715e"># 创建一个新的容器，同 run，但不启动容器 </span>
</span></span><span style="display:flex;"><span>diff      Inspect changes on a container<span style="color:#960050;background-color:#1e0010">&#39;</span>s filesystem   <span style="color:#75715e"># 查看 docker 容器变化 </span>
</span></span><span style="display:flex;"><span>events    Get real time events from the server          <span style="color:#75715e"># 从 docker 服务获取容器实时事件 </span>
</span></span><span style="display:flex;"><span>exec      Run a command in an existing container        <span style="color:#75715e"># 在已存在的容器上运行命令 </span>
</span></span><span style="display:flex;"><span>export    Stream the contents of a container as a tar archive   <span style="color:#75715e"># 导出容器的内容流作为一个 tar 归档文件[对应 import ] </span>
</span></span><span style="display:flex;"><span>history   Show the history of an image                  <span style="color:#75715e"># 展示一个镜像形成历史 </span>
</span></span><span style="display:flex;"><span>images    List images                                   <span style="color:#75715e"># 列出系统当前镜像 </span>
</span></span><span style="display:flex;"><span>import    Create a new filesystem image from the contents of a tarball <span style="color:#75715e"># 从tar包中的内容创建一个新的文件系统映像[对应export] </span>
</span></span><span style="display:flex;"><span>info      Display system-wide information               <span style="color:#75715e"># 显示系统相关信息 </span>
</span></span><span style="display:flex;"><span>inspect   Return low-level information on a container   <span style="color:#75715e"># 查看容器详细信息 </span>
</span></span><span style="display:flex;"><span>kill      Kill a running container                      <span style="color:#75715e"># kill 指定 docker 容器 </span>
</span></span><span style="display:flex;"><span>load      Load an image from a tar archive              <span style="color:#75715e"># 从一个 tar 包中加载一个镜像[对应 save] </span>
</span></span><span style="display:flex;"><span>login     Register or Login to the docker registry server    <span style="color:#75715e"># 注册或者登陆一个 docker 源服务器 </span>
</span></span><span style="display:flex;"><span>logout    Log out from a Docker registry server          <span style="color:#75715e"># 从当前 Docker registry 退出 </span>
</span></span><span style="display:flex;"><span>logs      Fetch the logs of a container                 <span style="color:#75715e"># 输出当前容器日志信息 </span>
</span></span><span style="display:flex;"><span>port      Lookup the public-facing port which is NAT-ed to PRIVATE_PORT    <span style="color:#75715e"># 查看映射端口对应的容器内部源端口 </span>
</span></span><span style="display:flex;"><span>pause     Pause all processes within a container        <span style="color:#75715e"># 暂停容器 </span>
</span></span><span style="display:flex;"><span>ps        List containers                               <span style="color:#75715e"># 列出容器列表 </span>
</span></span><span style="display:flex;"><span>pull      Pull an image or a repository from the docker registry server   <span style="color:#75715e"># 从docker镜像源服务器拉取指定镜像或者库镜像 </span>
</span></span><span style="display:flex;"><span>push      Push an image or a repository to the docker registry server    <span style="color:#75715e"># 推送指定镜像或者库镜像至docker源服务器 </span>
</span></span><span style="display:flex;"><span>restart   Restart a running container                   <span style="color:#75715e"># 重启运行的容器 </span>
</span></span><span style="display:flex;"><span>rm        Remove one or more containers                 <span style="color:#75715e"># 移除一个或者多个容器 </span>
</span></span><span style="display:flex;"><span>rmi       Remove one or more images             <span style="color:#75715e"># 移除一个或多个镜像[无容器使用该镜像才可删除，否则需删除相关容器才可继续或 -f 强制删除] </span>
</span></span><span style="display:flex;"><span>run       Run a command in a new container              <span style="color:#75715e"># 创建一个新的容器并运行一个命令 </span>
</span></span><span style="display:flex;"><span>save      Save an image to a tar archive                <span style="color:#75715e"># 保存一个镜像为一个 tar 包[对应 load] </span>
</span></span><span style="display:flex;"><span>search    Search <span style="color:#66d9ef">for</span> an image on the Docker Hub         <span style="color:#75715e"># 在 docker hub 中搜索镜像 </span>
</span></span><span style="display:flex;"><span>start     Start a stopped containers                    <span style="color:#75715e"># 启动容器 </span>
</span></span><span style="display:flex;"><span>stop      Stop a running containers                     <span style="color:#75715e"># 停止容器 </span>
</span></span><span style="display:flex;"><span>tag       Tag an image into a repository                <span style="color:#75715e"># 给源中镜像打标签 </span>
</span></span><span style="display:flex;"><span>top       Lookup the running processes of a container   <span style="color:#75715e"># 查看容器中运行的进程信息 </span>
</span></span><span style="display:flex;"><span>unpause   Unpause a paused container                    <span style="color:#75715e"># 取消暂停容器 </span>
</span></span><span style="display:flex;"><span>version   Show the docker version information           <span style="color:#75715e"># 查看 docker 版本号 </span>
</span></span><span style="display:flex;"><span>wait      Block <span style="color:#66d9ef">until</span> a container stops, <span style="color:#66d9ef">then</span> print its exit code   <span style="color:#75715e"># 截取容器停止时的退出状态值 </span></span></span></code></pre></div></div>
  
</div>
          </div><div class="component">
            <div class="component-content">
              <div class="article-copyright">
                <p class="content">
                  Copyright: <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed" target="_blank">Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0)</a>
                </p>
                <p class="content">Author:   </p>
                <p class="content">Posted on:  November 23, 2021</p>
              </div>
            </div>
          </div></article>
      </section>
  </main>

  <script>
    var script = document.createElement("script");script.src = "https://yuanshuai1122.github.io/js/initPost.js";
    document.head.appendChild(script);
  </script>

    
    <div class="footer-main ">
  <div class="content-body footer-wraper">
    <div class="footer-box">
      <div class="foot-nav">
        <div class="foot-nav-items">
          <div class="item">
            <div class="logo"></div>
            <div class="email">Email: <a href="mailto:floyd.li@outlook.com">floyd.li@outlook.com</a></div>
          </div>

          <div class="item community">
            <div class="item-title">Social Media</div>
            
              <a href="https://github.com/floyd-li" target="_blank">Github</a>
            
          </div>

          <div class="item resources">
            <div class="item-title">Related</div>
            
              <a href="https://yufengbiji.com/" target="_blank">驭风笔记</a>
            
          </div>
        </div>
      </div>
      <div class="bottom">
        <div class="item copyright">
          &copy; 2023
          Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a> & <a href="https://github.com/floyd-li/hugo-theme-itheme" target="_blank">iTheme</a>
        </div>
      </div>
    </div>
  </div>
</div>

  </body>
    
    

    
    
</html>
