<!DOCTYPE html>
<html class="js no-touch  progressive-image  no-reduced-motion progressive" lang="en">
  <head>
    <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="icon" href="/img/favicon.ico">

    <meta name="keyword" content=""><meta property="og:title" content="Linux之vi和vim编辑器" />
<meta property="og:description" content="|&mdash; vim [file1 file2 file3 &hellip;]|打开单个或多个文件 :open file|在vim窗口中打开一个新文件 :split file|在新窗口中打开文件（split打开的窗口" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://yuanshuai1122.github.io/archives/linux%E4%B9%8Bvi%E5%92%8Cvim%E7%BC%96%E8%BE%91%E5%99%A8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-11-24T08:51:29+00:00" />
<meta property="article:modified_time" content="2021-11-24T08:51:29+00:00" />
<title>Linux之vi和vim编辑器</title>

    <link rel="canonical" href="/archives/linux%E4%B9%8Bvi%E5%92%8Cvim%E7%BC%96%E8%BE%91%E5%99%A8/">

    <link rel="stylesheet" href="/css/global.css">

    <link rel="stylesheet" href="/css/custom.css">

    <link rel="stylesheet" href="/css/search.css" />

    
    

    
    

</head>
  </head>
  <body class=" page-article   ">
    <header>
      <nav class="nav">
  <div class="nav-wrapper">
    <div class="nav-content-wrapper">
      <div class="nav-content">
        <a href="/ " class="nav-title">iTheme</a>
        <div class="nav-menu">
          <div class="nav-item-wrapper">
            <a href="/posts " class="nav-item-content">Articles</a>
          </div><div class="nav-item-wrapper">
            <a href="/about" class="nav-item-content">About</a>
          </div><div class="nav-item-wrapper">
            <a href="/index.xml" class="nav-item-content" target="_blank">RSS</a>
          </div></div>
      </div>
    </div>
  </div>
</nav>

<script>
  function toggleSearchModal(){
    const template = `
    <div class="modal-body">
      <div id="autocomplete" onclick="event.stopPropagation();"></div>
    </div>
    `
    const modal = document.querySelector("#modal-wrapper")
    if(!modal){
      const div = document.createElement("div")
      document.body.setAttribute("style","overflow: hidden;")
      div.setAttribute("id", "modal-wrapper")
      div.setAttribute("onclick", "toggleSearchModal()")
      div.innerHTML = template
      const script = document.createElement("script");script.setAttribute("src", "https://yuanshuai1122.github.io/js/algolia.js")
      div.appendChild(script)
      document.body.append(div)
    } else {
      document.body.removeAttribute("style")
      document.body.removeChild(modal)
    }
  }
</script>
    </header>
    
  
  
  <main id="main" class="main">
      <section>
        <article class="article">
          
          <div class=" article-header ">
            <div class="category component">
              <div class="component-content">
                <div class="category-eyebrow">
                  <span class="category-eyebrow__category category_original">
                    
                      
                        linux
                      
                    
                  </span>
                  <span class="category-eyebrow__date">November 24, 2021</span>
                </div>
              </div>
            </div>
            <div class="pagetitle component">
              <div class="component-content">
                <h1 class="hero-headline">Linux之vi和vim编辑器</h1>
              </div>
            </div>
            <div class="component  article-subhead ">
              <div class="component-content"></div>
            </div>

            <div class="tagssheet component">
              <div class="component-content">
                
                  
                  <a href="/tags/linux" class="tag">
                    linux
                  </a>
                
                  
                  <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F" class="tag">
                    操作系统
                  </a>
                
              </div>
            </div>
          </div>
          
          <div class="pagebody">
            
            
            
            
            
            
            
            
            <p class="component-content component">|&mdash;
vim [file1 file2 file3 &hellip;]|打开单个或多个文件
:open file|在vim窗口中打开一个新文件
:split file|在新窗口中打开文件（split打开的窗口都是横向的，使用vsplit可以纵向打开窗口。）
Ctrl+ww| 移动到下一个窗口
Ctrl+wj |移动到下方的窗口
Ctrl+wk |移动到上方的窗口
:close |最后一个窗口不能使用此命令，可以防止意外退出vim。
:only|关闭所有窗口，只保留当前窗口
:bn|切换到下一个文件
:bp|切换到上一个文件
:args|查看当前打开的文件列表，当前正在编辑的文件会用[]括起来
:e <a href="ftp://192.168.10.76/abc.txt">ftp://192.168.10.76/abc.txt</a>| 打开远程文件，比如ftp或者share folder</p>

<div class="component-content pagebody component">
  <h3 id="42-普通模式" class="pagebody-header">
    4.2 普通模式
  </h3>
</div>
<div class="component-content pagebody component">
  <h4 id="421-插入命令" class="pagebody-header">
    4.2.1 插入命令
  </h4>
</div><div class="component-content component"><table>
<thead>
<tr>
<th>指令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>i</td>
<td>在当前位置生前插入</td>
</tr>
<tr>
<td>I</td>
<td>在当前行首插入</td>
</tr>
<tr>
<td>a</td>
<td>在当前位置后插入</td>
</tr>
<tr>
<td>A</td>
<td>在当前行尾插入</td>
</tr>
<tr>
<td>o</td>
<td>在当前行之后插入一行</td>
</tr>
<tr>
<td>O</td>
<td>在当前行之前插入一行</td>
</tr>
</tbody>
</table></div>

<div class="component-content pagebody component">
  <h4 id="422-游标移动" class="pagebody-header">
    4.2.2 游标移动
  </h4>
</div><div class="component-content component"><table>
<thead>
<tr>
<th>指令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>gg</td>
<td>移动到文件头。 = [[</td>
</tr>
<tr>
<td>G（shift + g）</td>
<td>移动到文件尾。 = ]]</td>
</tr>
<tr>
<td>行數 → G</td>
<td>移動到第 n 行</td>
</tr>
<tr>
<td>冒号+行号，回车</td>
<td>比如跳到240行就是 :240回车</td>
</tr>
<tr>
<td>h</td>
<td>左移一个字符</td>
</tr>
<tr>
<td>l</td>
<td>右移一个字符，这个命令很少用，一般用w代替。</td>
</tr>
<tr>
<td>k</td>
<td>上移一个字符</td>
</tr>
<tr>
<td>j</td>
<td>下移一个字符</td>
</tr>
<tr>
<td>w</td>
<td>向前移动一个单词（光标停在单词首部）</td>
</tr>
<tr>
<td>b</td>
<td>向后移动一个单词 2b 向后移动2个单词</td>
</tr>
<tr>
<td>e</td>
<td>同w，只不过是光标停在单词尾部</td>
</tr>
<tr>
<td>ge</td>
<td>同b，光标停在单词尾部。</td>
</tr>
<tr>
<td>^</td>
<td>移动到本行第一个非空白字符上。</td>
</tr>
<tr>
<td>0</td>
<td>移动到本行第一个字符上</td>
</tr>
<tr>
<td>HOME</td>
<td>移动到本行第一个字符。同0健。</td>
</tr>
<tr>
<td>$</td>
<td>移动到行尾 3$ 移动到下面3行的行尾</td>
</tr>
<tr>
<td>f（find）</td>
<td>fx将找到光标后第一个为x的字符，3fd将找到第三个为d的字符。</td>
</tr>
<tr>
<td>F</td>
<td>同f，反向查找</td>
</tr>
</tbody>
</table></div>

<div class="component-content pagebody component">
  <h4 id="423-撤销和重做" class="pagebody-header">
    4.2.3 撤销和重做
  </h4>
</div><div class="component-content component"><table>
<thead>
<tr>
<th>指令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>u</td>
<td>撤销（Undo）</td>
</tr>
<tr>
<td>U</td>
<td>撤销对整行的操作</td>
</tr>
<tr>
<td>Ctrl + r</td>
<td>重做（Redo），即撤销的撤销。</td>
</tr>
</tbody>
</table></div>

<div class="component-content pagebody component">
  <h4 id="424-删除命令" class="pagebody-header">
    4.2.4 删除命令
  </h4>
</div><div class="component-content component"><table>
<thead>
<tr>
<th>指令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>x</td>
<td>删除当前字符</td>
</tr>
<tr>
<td>3x</td>
<td>删除当前光标开始向后三个字符</td>
</tr>
<tr>
<td>X</td>
<td>删除当前字符的前一个字符。X=dh</td>
</tr>
<tr>
<td>dl</td>
<td>删除当前字符， dl=x</td>
</tr>
<tr>
<td>dh</td>
<td>删除前一个字符</td>
</tr>
<tr>
<td>dd</td>
<td>删除当前行</td>
</tr>
<tr>
<td>dj</td>
<td>删除上一行</td>
</tr>
<tr>
<td>dk</td>
<td>删除下一行</td>
</tr>
<tr>
<td>10d</td>
<td>删除当前行开始的10行。</td>
</tr>
<tr>
<td>D</td>
<td>删除当前字符至行尾。D=d$</td>
</tr>
<tr>
<td>d$</td>
<td>删除当前字符之后的所有字符（本行）</td>
</tr>
<tr>
<td>kdgg</td>
<td>删除当前行之前所有行（不包括当前行）</td>
</tr>
<tr>
<td>jdG（jd shift + g）</td>
<td>删除当前行之后所有行（不包括当前行）</td>
</tr>
<tr>
<td>:1,10d</td>
<td>删除1-10行</td>
</tr>
<tr>
<td>:11,$d</td>
<td>删除11行及以后所有的行</td>
</tr>
<tr>
<td>:1,$d</td>
<td>删除所有行</td>
</tr>
<tr>
<td>J(shift + j)</td>
<td>删除两行之间的空行，实际上是合并两行。</td>
</tr>
</tbody>
</table></div>

<div class="component-content pagebody component">
  <h4 id="425-拷贝剪贴和粘贴" class="pagebody-header">
    4.2.5 拷贝，剪贴和粘贴
  </h4>
</div><div class="component-content component"><table>
<thead>
<tr>
<th>指令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>yy</td>
<td>拷贝当前行</td>
</tr>
<tr>
<td>nyy</td>
<td>拷贝当前后开始的n行，比如2yy拷贝当前行及其下一行。</td>
</tr>
<tr>
<td>p</td>
<td>在当前光标后粘贴,如果之前使用了yy命令来复制一行，那么就在当前行的下一行粘贴。</td>
</tr>
<tr>
<td>shift+p</td>
<td>在当前行前粘贴</td>
</tr>
<tr>
<td>:1,10 co 20</td>
<td>将1-10行插入到第20行之后。</td>
</tr>
<tr>
<td>:1,$ co $</td>
<td>将整个文件复制一份并添加到文件尾部。</td>
</tr>
<tr>
<td>ddp</td>
<td>交换当前行和其下一行</td>
</tr>
<tr>
<td>xp</td>
<td>交换当前字符和其后一个字符</td>
</tr>
<tr>
<td>ndd</td>
<td>剪切当前行之后的n行。利用p命令可以对剪切的内容进行粘贴</td>
</tr>
<tr>
<td>:1,10d</td>
<td>将1-10行剪切。利用p命令可将剪切后的内容进行粘贴。</td>
</tr>
<tr>
<td>:1, 10 m 20</td>
<td>将第1-10行移动到第20行之后。</td>
</tr>
</tbody>
</table></div>
<p class="component-content component">正常模式下按v（逐字）或V（逐行）进入可视模式，然后用jklh命令移动即可选择某些行或字符，再按y即可复制</p>

<div class="component-content pagebody component">
  <h4 id="426-退出命令" class="pagebody-header">
    4.2.6 退出命令
  </h4>
</div><div class="component-content component"><table>
<thead>
<tr>
<th>指令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>:wq</td>
<td>保存并退出</td>
</tr>
<tr>
<td>ZZ</td>
<td>保存并退出</td>
</tr>
<tr>
<td>:q!</td>
<td>强制退出并忽略所有更改</td>
</tr>
<tr>
<td>:e!</td>
<td>放弃所有修改，并打开原来文件。</td>
</tr>
<tr>
<td>:q</td>
<td>未修改直接退出</td>
</tr>
</tbody>
</table></div>

<div class="component-content pagebody component">
  <h4 id="427-注释命令" class="pagebody-header">
    4.2.7 注释命令
  </h4>
</div><p class="component-content component">perl程序中#开始的行为注释，所以要注释某些行，只需在行首加入#</p>
<div class="component-content component"><table>
<thead>
<tr>
<th>指令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>3,5 s/^/#/g</td>
<td>注释第3-5行</td>
</tr>
<tr>
<td>3,5 s/^#//g</td>
<td>解除3-5行的注释</td>
</tr>
<tr>
<td>1,$ s/^/#/g</td>
<td>注释整个文档。</td>
</tr>
<tr>
<td>:%s/^/#/g</td>
<td>注释整个文档，此法更快。</td>
</tr>
</tbody>
</table></div>

<div class="component-content pagebody component">
  <h3 id="43-执行shell命令" class="pagebody-header">
    4.3 执行shell命令
  </h3>
</div><div class="component-content component"><ul>
<li>:!command</li>
</ul></div>
<div class="component-content component"><table>
<thead>
<tr>
<th>指令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>:!ls</td>
<td>列出当前目录下文件</td>
</tr>
<tr>
<td>:!perl -c script.pl</td>
<td>检查perl脚本语法，可以不用退出vim，非常方便。</td>
</tr>
<tr>
<td>:!perl script.pl</td>
<td>执行perl脚本，可以不用退出vim，非常方便。</td>
</tr>
<tr>
<td>:suspend或Ctrl - Z</td>
<td>挂起vim，回到shell，按fg可以返回vim。</td>
</tr>
</tbody>
</table></div>

<div class="component-content pagebody component">
  <h3 id="44-帮助命令" class="pagebody-header">
    4.4 帮助命令
  </h3>
</div><div class="component-content component"><table>
<thead>
<tr>
<th>指令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>:help or F1</td>
<td>显示整个帮助</td>
</tr>
<tr>
<td>:help xxx</td>
<td>显示xxx的帮助，比如 :help i, :help CTRL-[（即Ctrl+[的帮助）。</td>
</tr>
<tr>
<td>:help &rsquo;number'</td>
<td>Vim选项的帮助用单引号括起</td>
</tr>
<tr>
<td>:help &lt;Esc&gt;</td>
<td>特殊键的帮助用&lt;&gt;扩起</td>
</tr>
<tr>
<td>:help -t</td>
<td>Vim启动参数的帮助用-</td>
</tr>
<tr>
<td>：help i_&lt;Esc&gt;</td>
<td>插入模式下Esc的帮助，某个模式下的帮助用模式_主题的模式</td>
</tr>
</tbody>
</table></div>
<p class="component-content component">帮助文件中位于||之间的内容是超链接，可以用Ctrl+]进入链接，Ctrl+o（Ctrl + t）返回</p>

<div class="component-content pagebody component">
  <h3 id="45-其他非编辑命令" class="pagebody-header">
    4.5 其他非编辑命令
  </h3>
</div><div class="component-content component"><table>
<thead>
<tr>
<th>指令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>.</td>
<td>重复前一次命令</td>
</tr>
<tr>
<td>:set ruler?　</td>
<td>查看是否设置了ruler，在.vimrc中，使用set命令设制的选项都可以通过这个命令查看</td>
</tr>
<tr>
<td>:scriptnames　</td>
<td>查看vim脚本文件的位置，比如.vimrc文件，语法文件及plugin等。</td>
</tr>
<tr>
<td>:set list</td>
<td>显示非打印字符，如tab，空格，行尾等。如果tab无法显示，请确定用set lcs=tab:&gt;-命令设置了.vimrc文件，并确保你的文件中的确有tab，如果开启了 expandtab，那么tab将被扩展为空格。</td>
</tr>
</tbody>
</table></div>
<div class="component-content component"><ul>
<li>
<p class="component-content component">Vim教程</p>
<div class="component-content component"><ul>
<li>在Unix系统上 $ vimtutor</li>
<li>在Windows系统上 :help tutor</li>
</ul></div>
</li>
<li>
<p class="component-content component">录制宏:</p>
<div class="component-content component"><ul>
<li>按q键加任意字母开始录制，再按q键结束录制（这意味着vim中的宏不可嵌套），使用的时候@加宏名，比如qa。。。q录制名为a的宏，@a使用这个宏。</li>
</ul></div>
</li>
<li>
<p class="component-content component">:syntax 列出已经定义的语法项</p>
</li>
<li>
<p class="component-content component">:syntax clear 清除已定义的语法规则</p>
</li>
<li>
<p class="component-content component">:syntax case match 大小写敏感，int和Int将视为不同的语法元素</p>
</li>
<li>
<p class="component-content component">:syntax case ignore 大小写无关，int和Int将视为相同的语法元素，并使用同样的配色方案</p>
</li>
</ul></div>

<div class="component-content pagebody component">
  <h2 id="5-vim拓展教程" class="pagebody-header">
    5. Vim拓展教程
  </h2>
</div><p class="component-content component"><a href="https://www.runoob.com/linux/linux-vim.html">菜鸟教程vim链接</a></p>

          </div><div class="component">
            <div class="component-content">
              <div class="article-copyright">
                <p class="content">
                  Copyright: <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed" target="_blank">Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0)</a>
                </p>
                <p class="content">Author:   </p>
                <p class="content">Posted on:  November 24, 2021</p>
              </div>
            </div>
          </div></article>
      </section>
  </main>

  <script>
    var script = document.createElement("script");script.src = "https://yuanshuai1122.github.io/js/initPost.js";
    document.head.appendChild(script);
  </script>

    
    <div class="footer-main ">
  <div class="content-body footer-wraper">
    <div class="footer-box">
      <div class="foot-nav">
        <div class="foot-nav-items">
          <div class="item">
            <div class="logo"></div>
            <div class="email">Email: <a href="mailto:floyd.li@outlook.com">floyd.li@outlook.com</a></div>
          </div>

          <div class="item community">
            <div class="item-title">Social Media</div>
            
              <a href="https://github.com/floyd-li" target="_blank">Github</a>
            
          </div>

          <div class="item resources">
            <div class="item-title">Related</div>
            
              <a href="https://yufengbiji.com/" target="_blank">驭风笔记</a>
            
          </div>
        </div>
      </div>
      <div class="bottom">
        <div class="item copyright">
          &copy; 2023
          Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a> & <a href="https://github.com/floyd-li/hugo-theme-itheme" target="_blank">iTheme</a>
        </div>
      </div>
    </div>
  </div>
</div>

  </body>
    
    

    
    
</html>
